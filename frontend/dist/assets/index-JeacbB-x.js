const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-6UL2VRFP-IZn6d7GT.js","assets/graph-CnAzDEWy.js","assets/_baseUniq-NiJNsdlF.js","assets/layout-DB4wdunI.js","assets/_basePickBy-gi1Bj3OC.js","assets/clone-B3wpIUDR.js","assets/cose-bilkent-S5V4N54A-BofT8XiR.js","assets/cytoscape.esm-BnkdMOzK.js","assets/c4Diagram-YG6GDRKO-Coi7mWEw.js","assets/chunk-TZMSLE5B-LEdfgfsb.js","assets/flowDiagram-NV44I4VS-Tu--moYE.js","assets/chunk-FMBD7UC4-RsnYI3dV.js","assets/chunk-55IACEB6-DfVkVugb.js","assets/chunk-QN33PNHL-Cwo696S1.js","assets/channel-CLNjZ_Da.js","assets/erDiagram-Q2GNP2WA-8cM9Djm3.js","assets/gitGraphDiagram-NY62KEGX-DNla9G7V.js","assets/chunk-4BX2VUAB-DzrsFV5C.js","assets/chunk-QZHKN3VN-DFBSuz23.js","assets/treemap-KMMF4GRG-2aK4INFe.js","assets/ganttDiagram-LVOFAZNH-CfKZ0LVP.js","assets/linear-DSuAzE_f.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-C4B-KCzX.js","assets/infoDiagram-ER5ION4S-cgPyPpLq.js","assets/pieDiagram-ADFJNKIX-hpef6Gwc.js","assets/arc-CXFQfExt.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-AYHSOK5B-FnIHVLEH.js","assets/xychartDiagram-PRI3JC2R-DO5Uex4f.js","assets/requirementDiagram-UZGBJVZJ-Be0UPHkM.js","assets/sequenceDiagram-WL72ISMW-IX-tmJYt.js","assets/classDiagram-2ON5EDUG-m3wJg8TO.js","assets/chunk-B4BG7PRW-CJkj-5bU.js","assets/classDiagram-v2-WZHVMYZB-m3wJg8TO.js","assets/stateDiagram-FKZM4ZOC-CrWCkCCt.js","assets/chunk-DI55MBZ5-42kXo2jv.js","assets/stateDiagram-v2-4FDKWEC3-DSSxoUD-.js","assets/journeyDiagram-XKPGCS4Q-BVJBHcvz.js","assets/timeline-definition-IT6M3QCI-Cv_z_qgT.js","assets/mindmap-definition-VGOIOE7T-C3_9Ha3L.js","assets/kanban-definition-3W4ZIXB7-DSAjbSou.js","assets/sankeyDiagram-TZEHDZUN-R9bq-v9-.js","assets/diagram-S2PKOQOG-BQ9muFnO.js","assets/diagram-QEK2KX5R-DFLMStb1.js","assets/blockDiagram-VD42YOAC-BhoV5mHd.js","assets/architectureDiagram-VXUJARFQ-CwKecEKq.js","assets/diagram-PSM6KHXK-G1xjNsDg.js"])))=>i.map(i=>d[i]);
function Kj(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var fwe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function az(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var W2={exports:{}},Tm={},V2={exports:{}},Tr={};var U3;function oz(){if(U3)return Tr;U3=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function g(X){return X===null||typeof X!="object"?null:(X=f&&X[f]||X["@@iterator"],typeof X=="function"?X:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,x={};function b(X,O,Y){this.props=X,this.context=O,this.refs=x,this.updater=Y||p}b.prototype.isReactComponent={},b.prototype.setState=function(X,O){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,O,"setState")},b.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function _(){}_.prototype=b.prototype;function k(X,O,Y){this.props=X,this.context=O,this.refs=x,this.updater=Y||p}var N=k.prototype=new _;N.constructor=k,v(N,b.prototype),N.isPureReactComponent=!0;var j=Array.isArray,P=Object.prototype.hasOwnProperty,F={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function U(X,O,Y){var ne,oe={},ue=null,de=null;if(O!=null)for(ne in O.ref!==void 0&&(de=O.ref),O.key!==void 0&&(ue=""+O.key),O)P.call(O,ne)&&!D.hasOwnProperty(ne)&&(oe[ne]=O[ne]);var be=arguments.length-2;if(be===1)oe.children=Y;else if(1<be){for(var Se=Array(be),ke=0;ke<be;ke++)Se[ke]=arguments[ke+2];oe.children=Se}if(X&&X.defaultProps)for(ne in be=X.defaultProps,be)oe[ne]===void 0&&(oe[ne]=be[ne]);return{$$typeof:t,type:X,key:ue,ref:de,props:oe,_owner:F.current}}function z(X,O){return{$$typeof:t,type:X.type,key:O,ref:X.ref,props:X.props,_owner:X._owner}}function K(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function B(X){var O={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(Y){return O[Y]})}var q=/\/+/g;function W(X,O){return typeof X=="object"&&X!==null&&X.key!=null?B(""+X.key):O.toString(36)}function $(X,O,Y,ne,oe){var ue=typeof X;(ue==="undefined"||ue==="boolean")&&(X=null);var de=!1;if(X===null)de=!0;else switch(ue){case"string":case"number":de=!0;break;case"object":switch(X.$$typeof){case t:case e:de=!0}}if(de)return de=X,oe=oe(de),X=ne===""?"."+W(de,0):ne,j(oe)?(Y="",X!=null&&(Y=X.replace(q,"$&/")+"/"),$(oe,O,Y,"",function(ke){return ke})):oe!=null&&(K(oe)&&(oe=z(oe,Y+(!oe.key||de&&de.key===oe.key?"":(""+oe.key).replace(q,"$&/")+"/")+X)),O.push(oe)),1;if(de=0,ne=ne===""?".":ne+":",j(X))for(var be=0;be<X.length;be++){ue=X[be];var Se=ne+W(ue,be);de+=$(ue,O,Y,Se,oe)}else if(Se=g(X),typeof Se=="function")for(X=Se.call(X),be=0;!(ue=X.next()).done;)ue=ue.value,Se=ne+W(ue,be++),de+=$(ue,O,Y,Se,oe);else if(ue==="object")throw O=String(X),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return de}function Q(X,O,Y){if(X==null)return X;var ne=[],oe=0;return $(X,ne,"","",function(ue){return O.call(Y,ue,oe++)}),ne}function ee(X){if(X._status===-1){var O=X._result;O=O(),O.then(function(Y){(X._status===0||X._status===-1)&&(X._status=1,X._result=Y)},function(Y){(X._status===0||X._status===-1)&&(X._status=2,X._result=Y)}),X._status===-1&&(X._status=0,X._result=O)}if(X._status===1)return X._result.default;throw X._result}var se={current:null},V={transition:null},re={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:V,ReactCurrentOwner:F};function pe(){throw Error("act(...) is not supported in production builds of React.")}return Tr.Children={map:Q,forEach:function(X,O,Y){Q(X,function(){O.apply(this,arguments)},Y)},count:function(X){var O=0;return Q(X,function(){O++}),O},toArray:function(X){return Q(X,function(O){return O})||[]},only:function(X){if(!K(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},Tr.Component=b,Tr.Fragment=r,Tr.Profiler=i,Tr.PureComponent=k,Tr.StrictMode=n,Tr.Suspense=l,Tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,Tr.act=pe,Tr.cloneElement=function(X,O,Y){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var ne=v({},X.props),oe=X.key,ue=X.ref,de=X._owner;if(O!=null){if(O.ref!==void 0&&(ue=O.ref,de=F.current),O.key!==void 0&&(oe=""+O.key),X.type&&X.type.defaultProps)var be=X.type.defaultProps;for(Se in O)P.call(O,Se)&&!D.hasOwnProperty(Se)&&(ne[Se]=O[Se]===void 0&&be!==void 0?be[Se]:O[Se])}var Se=arguments.length-2;if(Se===1)ne.children=Y;else if(1<Se){be=Array(Se);for(var ke=0;ke<Se;ke++)be[ke]=arguments[ke+2];ne.children=be}return{$$typeof:t,type:X.type,key:oe,ref:ue,props:ne,_owner:de}},Tr.createContext=function(X){return X={$$typeof:a,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:s,_context:X},X.Consumer=X},Tr.createElement=U,Tr.createFactory=function(X){var O=U.bind(null,X);return O.type=X,O},Tr.createRef=function(){return{current:null}},Tr.forwardRef=function(X){return{$$typeof:o,render:X}},Tr.isValidElement=K,Tr.lazy=function(X){return{$$typeof:h,_payload:{_status:-1,_result:X},_init:ee}},Tr.memo=function(X,O){return{$$typeof:c,type:X,compare:O===void 0?null:O}},Tr.startTransition=function(X){var O=V.transition;V.transition={};try{X()}finally{V.transition=O}},Tr.unstable_act=pe,Tr.useCallback=function(X,O){return se.current.useCallback(X,O)},Tr.useContext=function(X){return se.current.useContext(X)},Tr.useDebugValue=function(){},Tr.useDeferredValue=function(X){return se.current.useDeferredValue(X)},Tr.useEffect=function(X,O){return se.current.useEffect(X,O)},Tr.useId=function(){return se.current.useId()},Tr.useImperativeHandle=function(X,O,Y){return se.current.useImperativeHandle(X,O,Y)},Tr.useInsertionEffect=function(X,O){return se.current.useInsertionEffect(X,O)},Tr.useLayoutEffect=function(X,O){return se.current.useLayoutEffect(X,O)},Tr.useMemo=function(X,O){return se.current.useMemo(X,O)},Tr.useReducer=function(X,O,Y){return se.current.useReducer(X,O,Y)},Tr.useRef=function(X){return se.current.useRef(X)},Tr.useState=function(X){return se.current.useState(X)},Tr.useSyncExternalStore=function(X,O,Y){return se.current.useSyncExternalStore(X,O,Y)},Tr.useTransition=function(){return se.current.useTransition()},Tr.version="18.3.1",Tr}var q3;function U_(){return q3||(q3=1,V2.exports=oz()),V2.exports}var W3;function lz(){if(W3)return Tm;W3=1;var t=U_(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var h,f={},g=null,p=null;c!==void 0&&(g=""+c),l.key!==void 0&&(g=""+l.key),l.ref!==void 0&&(p=l.ref);for(h in l)n.call(l,h)&&!s.hasOwnProperty(h)&&(f[h]=l[h]);if(o&&o.defaultProps)for(h in l=o.defaultProps,l)f[h]===void 0&&(f[h]=l[h]);return{$$typeof:e,type:o,key:g,ref:p,props:f,_owner:i.current}}return Tm.Fragment=r,Tm.jsx=a,Tm.jsxs=a,Tm}var V3;function cz(){return V3||(V3=1,W2.exports=lz()),W2.exports}var m=cz(),E=U_();const Xe=Zv(E),uz=Kj({__proto__:null,default:Xe},[E]);var uy={},H2={exports:{}},ga={},G2={exports:{}},Y2={};var H3;function hz(){return H3||(H3=1,(function(t){function e(V,re){var pe=V.length;V.push(re);e:for(;0<pe;){var X=pe-1>>>1,O=V[X];if(0<i(O,re))V[X]=re,V[pe]=O,pe=X;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var re=V[0],pe=V.pop();if(pe!==re){V[0]=pe;e:for(var X=0,O=V.length,Y=O>>>1;X<Y;){var ne=2*(X+1)-1,oe=V[ne],ue=ne+1,de=V[ue];if(0>i(oe,pe))ue<O&&0>i(de,oe)?(V[X]=de,V[ue]=pe,X=ue):(V[X]=oe,V[ne]=pe,X=ne);else if(ue<O&&0>i(de,pe))V[X]=de,V[ue]=pe,X=ue;else break e}}return re}function i(V,re){var pe=V.sortIndex-re.sortIndex;return pe!==0?pe:V.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,f=null,g=3,p=!1,v=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(V){for(var re=r(c);re!==null;){if(re.callback===null)n(c);else if(re.startTime<=V)n(c),re.sortIndex=re.expirationTime,e(l,re);else break;re=r(c)}}function j(V){if(x=!1,N(V),!v)if(r(l)!==null)v=!0,ee(P);else{var re=r(c);re!==null&&se(j,re.startTime-V)}}function P(V,re){v=!1,x&&(x=!1,_(U),U=-1),p=!0;var pe=g;try{for(N(re),f=r(l);f!==null&&(!(f.expirationTime>re)||V&&!B());){var X=f.callback;if(typeof X=="function"){f.callback=null,g=f.priorityLevel;var O=X(f.expirationTime<=re);re=t.unstable_now(),typeof O=="function"?f.callback=O:f===r(l)&&n(l),N(re)}else n(l);f=r(l)}if(f!==null)var Y=!0;else{var ne=r(c);ne!==null&&se(j,ne.startTime-re),Y=!1}return Y}finally{f=null,g=pe,p=!1}}var F=!1,D=null,U=-1,z=5,K=-1;function B(){return!(t.unstable_now()-K<z)}function q(){if(D!==null){var V=t.unstable_now();K=V;var re=!0;try{re=D(!0,V)}finally{re?W():(F=!1,D=null)}}else F=!1}var W;if(typeof k=="function")W=function(){k(q)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Q=$.port2;$.port1.onmessage=q,W=function(){Q.postMessage(null)}}else W=function(){b(q,0)};function ee(V){D=V,F||(F=!0,W())}function se(V,re){U=b(function(){V(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,ee(P))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(V){switch(g){case 1:case 2:case 3:var re=3;break;default:re=g}var pe=g;g=re;try{return V()}finally{g=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,re){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var pe=g;g=V;try{return re()}finally{g=pe}},t.unstable_scheduleCallback=function(V,re,pe){var X=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?X+pe:X):pe=X,V){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=pe+O,V={id:h++,callback:re,priorityLevel:V,startTime:pe,expirationTime:O,sortIndex:-1},pe>X?(V.sortIndex=pe,e(c,V),r(l)===null&&V===r(c)&&(x?(_(U),U=-1):x=!0,se(j,pe-X))):(V.sortIndex=O,e(l,V),v||p||(v=!0,ee(P))),V},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(V){var re=g;return function(){var pe=g;g=re;try{return V.apply(this,arguments)}finally{g=pe}}}})(Y2)),Y2}var G3;function dz(){return G3||(G3=1,G2.exports=hz()),G2.exports}var Y3;function fz(){if(Y3)return ga;Y3=1;var t=U_(),e=dz();function r(u){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+u,y=1;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(u,d){a(u,d),a(u+"Capture",d)}function a(u,d){for(i[u]=d,u=0;u<d.length;u++)n.add(d[u])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function g(u){return l.call(f,u)?!0:l.call(h,u)?!1:c.test(u)?f[u]=!0:(h[u]=!0,!1)}function p(u,d,y,S){if(y!==null&&y.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return S?!1:y!==null?!y.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function v(u,d,y,S){if(d===null||typeof d>"u"||p(u,d,y,S))return!0;if(S)return!1;if(y!==null)switch(y.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function x(u,d,y,S,A,R,J){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=S,this.attributeNamespace=A,this.mustUseProperty=y,this.propertyName=u,this.type=d,this.sanitizeURL=R,this.removeEmptyString=J}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){b[u]=new x(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var d=u[0];b[d]=new x(d,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){b[u]=new x(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){b[u]=new x(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){b[u]=new x(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){b[u]=new x(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){b[u]=new x(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){b[u]=new x(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){b[u]=new x(u,5,!1,u.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function k(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var d=u.replace(_,k);b[d]=new x(d,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var d=u.replace(_,k);b[d]=new x(d,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var d=u.replace(_,k);b[d]=new x(d,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){b[u]=new x(u,1,!1,u.toLowerCase(),null,!1,!1)}),b.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){b[u]=new x(u,1,!1,u.toLowerCase(),null,!0,!0)});function N(u,d,y,S){var A=b.hasOwnProperty(d)?b[d]:null;(A!==null?A.type!==0:S||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(v(d,y,A,S)&&(y=null),S||A===null?g(d)&&(y===null?u.removeAttribute(d):u.setAttribute(d,""+y)):A.mustUseProperty?u[A.propertyName]=y===null?A.type===3?!1:"":y:(d=A.attributeName,S=A.attributeNamespace,y===null?u.removeAttribute(d):(A=A.type,y=A===3||A===4&&y===!0?"":""+y,S?u.setAttributeNS(S,d,y):u.setAttribute(d,y))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),F=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),B=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),V=Symbol.iterator;function re(u){return u===null||typeof u!="object"?null:(u=V&&u[V]||u["@@iterator"],typeof u=="function"?u:null)}var pe=Object.assign,X;function O(u){if(X===void 0)try{throw Error()}catch(y){var d=y.stack.trim().match(/\n( *(at )?)/);X=d&&d[1]||""}return`
`+X+u}var Y=!1;function ne(u,d){if(!u||Y)return"";Y=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Pe){var S=Pe}Reflect.construct(u,[],d)}else{try{d.call()}catch(Pe){S=Pe}u.call(d.prototype)}else{try{throw Error()}catch(Pe){S=Pe}u()}}catch(Pe){if(Pe&&S&&typeof Pe.stack=="string"){for(var A=Pe.stack.split(`
`),R=S.stack.split(`
`),J=A.length-1,me=R.length-1;1<=J&&0<=me&&A[J]!==R[me];)me--;for(;1<=J&&0<=me;J--,me--)if(A[J]!==R[me]){if(J!==1||me!==1)do if(J--,me--,0>me||A[J]!==R[me]){var xe=`
`+A[J].replace(" at new "," at ");return u.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",u.displayName)),xe}while(1<=J&&0<=me);break}}}finally{Y=!1,Error.prepareStackTrace=y}return(u=u?u.displayName||u.name:"")?O(u):""}function oe(u){switch(u.tag){case 5:return O(u.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return u=ne(u.type,!1),u;case 11:return u=ne(u.type.render,!1),u;case 1:return u=ne(u.type,!0),u;default:return""}}function ue(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case D:return"Fragment";case F:return"Portal";case z:return"Profiler";case U:return"StrictMode";case W:return"Suspense";case $:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case B:return(u.displayName||"Context")+".Consumer";case K:return(u._context.displayName||"Context")+".Provider";case q:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case Q:return d=u.displayName||null,d!==null?d:ue(u.type)||"Memo";case ee:d=u._payload,u=u._init;try{return ue(u(d))}catch{}}return null}function de(u){var d=u.type;switch(u.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=d.render,u=u.displayName||u.name||"",d.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(d);case 8:return d===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function be(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Se(u){var d=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ke(u){var d=Se(u)?"checked":"value",y=Object.getOwnPropertyDescriptor(u.constructor.prototype,d),S=""+u[d];if(!u.hasOwnProperty(d)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var A=y.get,R=y.set;return Object.defineProperty(u,d,{configurable:!0,get:function(){return A.call(this)},set:function(J){S=""+J,R.call(this,J)}}),Object.defineProperty(u,d,{enumerable:y.enumerable}),{getValue:function(){return S},setValue:function(J){S=""+J},stopTracking:function(){u._valueTracker=null,delete u[d]}}}}function De(u){u._valueTracker||(u._valueTracker=ke(u))}function Ye(u){if(!u)return!1;var d=u._valueTracker;if(!d)return!0;var y=d.getValue(),S="";return u&&(S=Se(u)?u.checked?"true":"false":u.value),u=S,u!==y?(d.setValue(u),!0):!1}function We(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function nt(u,d){var y=d.checked;return pe({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??u._wrapperState.initialChecked})}function le(u,d){var y=d.defaultValue==null?"":d.defaultValue,S=d.checked!=null?d.checked:d.defaultChecked;y=be(d.value!=null?d.value:y),u._wrapperState={initialChecked:S,initialValue:y,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Ze(u,d){d=d.checked,d!=null&&N(u,"checked",d,!1)}function er(u,d){Ze(u,d);var y=be(d.value),S=d.type;if(y!=null)S==="number"?(y===0&&u.value===""||u.value!=y)&&(u.value=""+y):u.value!==""+y&&(u.value=""+y);else if(S==="submit"||S==="reset"){u.removeAttribute("value");return}d.hasOwnProperty("value")?ze(u,d.type,y):d.hasOwnProperty("defaultValue")&&ze(u,d.type,be(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(u.defaultChecked=!!d.defaultChecked)}function vt(u,d,y){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var S=d.type;if(!(S!=="submit"&&S!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+u._wrapperState.initialValue,y||d===u.value||(u.value=d),u.defaultValue=d}y=u.name,y!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,y!==""&&(u.name=y)}function ze(u,d,y){(d!=="number"||We(u.ownerDocument)!==u)&&(y==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+y&&(u.defaultValue=""+y))}var xt=Array.isArray;function tt(u,d,y,S){if(u=u.options,d){d={};for(var A=0;A<y.length;A++)d["$"+y[A]]=!0;for(y=0;y<u.length;y++)A=d.hasOwnProperty("$"+u[y].value),u[y].selected!==A&&(u[y].selected=A),A&&S&&(u[y].defaultSelected=!0)}else{for(y=""+be(y),d=null,A=0;A<u.length;A++){if(u[A].value===y){u[A].selected=!0,S&&(u[A].defaultSelected=!0);return}d!==null||u[A].disabled||(d=u[A])}d!==null&&(d.selected=!0)}}function jt(u,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return pe({},d,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function dt(u,d){var y=d.value;if(y==null){if(y=d.children,d=d.defaultValue,y!=null){if(d!=null)throw Error(r(92));if(xt(y)){if(1<y.length)throw Error(r(93));y=y[0]}d=y}d==null&&(d=""),y=d}u._wrapperState={initialValue:be(y)}}function _r(u,d){var y=be(d.value),S=be(d.defaultValue);y!=null&&(y=""+y,y!==u.value&&(u.value=y),d.defaultValue==null&&u.defaultValue!==y&&(u.defaultValue=y)),S!=null&&(u.defaultValue=""+S)}function or(u){var d=u.textContent;d===u._wrapperState.initialValue&&d!==""&&d!==null&&(u.value=d)}function mt(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gt(u,d){return u==null||u==="http://www.w3.org/1999/xhtml"?mt(d):u==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var hr,ft=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,y,S,A){MSApp.execUnsafeLocalFunction(function(){return u(d,y,S,A)})}:u})(function(u,d){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=d;else{for(hr=hr||document.createElement("div"),hr.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=hr.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;d.firstChild;)u.appendChild(d.firstChild)}});function zt(u,d){if(d){var y=u.firstChild;if(y&&y===u.lastChild&&y.nodeType===3){y.nodeValue=d;return}}u.textContent=d}var ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rn=["Webkit","ms","Moz","O"];Object.keys(ot).forEach(function(u){rn.forEach(function(d){d=d+u.charAt(0).toUpperCase()+u.substring(1),ot[d]=ot[u]})});function fr(u,d,y){return d==null||typeof d=="boolean"||d===""?"":y||typeof d!="number"||d===0||ot.hasOwnProperty(u)&&ot[u]?(""+d).trim():d+"px"}function Vt(u,d){u=u.style;for(var y in d)if(d.hasOwnProperty(y)){var S=y.indexOf("--")===0,A=fr(y,d[y],S);y==="float"&&(y="cssFloat"),S?u.setProperty(y,A):u[y]=A}}var Ht=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xr(u,d){if(d){if(Ht[u]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,u));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function Tt(u,d){if(u.indexOf("-")===-1)return typeof d.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rr=null;function Dt(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var qt=null,kr=null,Jt=null;function lt(u){if(u=Lu(u)){if(typeof qt!="function")throw Error(r(280));var d=u.stateNode;d&&(d=Fh(d),qt(u.stateNode,u.type,d))}}function Ar(u){kr?Jt?Jt.push(u):Jt=[u]:kr=u}function Ut(){if(kr){var u=kr,d=Jt;if(Jt=kr=null,lt(u),d)for(u=0;u<d.length;u++)lt(d[u])}}function pt(u,d){return u(d)}function mr(){}var cn=!1;function ct(u,d,y){if(cn)return u(d,y);cn=!0;try{return pt(u,d,y)}finally{cn=!1,(kr!==null||Jt!==null)&&(mr(),Ut())}}function un(u,d){var y=u.stateNode;if(y===null)return null;var S=Fh(y);if(S===null)return null;y=S[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(u=u.type,S=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!S;break e;default:u=!1}if(u)return null;if(y&&typeof y!="function")throw Error(r(231,d,typeof y));return y}var Ln=!1;if(o)try{var $r={};Object.defineProperty($r,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{Ln=!1}function _n(u,d,y,S,A,R,J,me,xe){var Pe=Array.prototype.slice.call(arguments,3);try{d.apply(y,Pe)}catch(He){this.onError(He)}}var Sr=!1,Yr=null,Sn=!1,ta=null,ra={onError:function(u){Sr=!0,Yr=u}};function us(u,d,y,S,A,R,J,me,xe){Sr=!1,Yr=null,_n.apply(ra,arguments)}function Qn(u,d,y,S,A,R,J,me,xe){if(us.apply(this,arguments),Sr){if(Sr){var Pe=Yr;Sr=!1,Yr=null}else throw Error(r(198));Sn||(Sn=!0,ta=Pe)}}function ei(u){var d=u,y=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,(d.flags&4098)!==0&&(y=d.return),u=d.return;while(u)}return d.tag===3?y:null}function Qi(u){if(u.tag===13){var d=u.memoizedState;if(d===null&&(u=u.alternate,u!==null&&(d=u.memoizedState)),d!==null)return d.dehydrated}return null}function Ui(u){if(ei(u)!==u)throw Error(r(188))}function eo(u){var d=u.alternate;if(!d){if(d=ei(u),d===null)throw Error(r(188));return d!==u?null:u}for(var y=u,S=d;;){var A=y.return;if(A===null)break;var R=A.alternate;if(R===null){if(S=A.return,S!==null){y=S;continue}break}if(A.child===R.child){for(R=A.child;R;){if(R===y)return Ui(A),u;if(R===S)return Ui(A),d;R=R.sibling}throw Error(r(188))}if(y.return!==S.return)y=A,S=R;else{for(var J=!1,me=A.child;me;){if(me===y){J=!0,y=A,S=R;break}if(me===S){J=!0,S=A,y=R;break}me=me.sibling}if(!J){for(me=R.child;me;){if(me===y){J=!0,y=R,S=A;break}if(me===S){J=!0,S=R,y=A;break}me=me.sibling}if(!J)throw Error(r(189))}}if(y.alternate!==S)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?u:d}function Os(u){return u=eo(u),u!==null?gt(u):null}function gt(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var d=gt(u);if(d!==null)return d;u=u.sibling}return null}var ye=e.unstable_scheduleCallback,Ge=e.unstable_cancelCallback,st=e.unstable_shouldYield,Xr=e.unstable_requestPaint,gr=e.unstable_now,pn=e.unstable_getCurrentPriorityLevel,qn=e.unstable_ImmediatePriority,Cn=e.unstable_UserBlockingPriority,es=e.unstable_NormalPriority,_l=e.unstable_LowPriority,yn=e.unstable_IdlePriority,to=null,qi=null;function Xd(u){if(qi&&typeof qi.onCommitFiberRoot=="function")try{qi.onCommitFiberRoot(to,u,void 0,(u.current.flags&128)===128)}catch{}}var ti=Math.clz32?Math.clz32:ri,du=Math.log,tm=Math.LN2;function ri(u){return u>>>=0,u===0?32:31-(du(u)/tm|0)|0}var uc=64,Is=4194304;function ro(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function hc(u,d){var y=u.pendingLanes;if(y===0)return 0;var S=0,A=u.suspendedLanes,R=u.pingedLanes,J=y&268435455;if(J!==0){var me=J&~A;me!==0?S=ro(me):(R&=J,R!==0&&(S=ro(R)))}else J=y&~A,J!==0?S=ro(J):R!==0&&(S=ro(R));if(S===0)return 0;if(d!==0&&d!==S&&(d&A)===0&&(A=S&-S,R=d&-d,A>=R||A===16&&(R&4194240)!==0))return d;if((S&4)!==0&&(S|=y&16),d=u.entangledLanes,d!==0)for(u=u.entanglements,d&=S;0<d;)y=31-ti(d),A=1<<y,S|=u[y],d&=~A;return S}function na(u,d){switch(u){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function di(u,d){for(var y=u.suspendedLanes,S=u.pingedLanes,A=u.expirationTimes,R=u.pendingLanes;0<R;){var J=31-ti(R),me=1<<J,xe=A[J];xe===-1?((me&y)===0||(me&S)!==0)&&(A[J]=na(me,d)):xe<=d&&(u.expiredLanes|=me),R&=~me}}function Ea(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function wh(){var u=uc;return uc<<=1,(uc&4194240)===0&&(uc=64),u}function _h(u){for(var d=[],y=0;31>y;y++)d.push(u);return d}function dc(u,d,y){u.pendingLanes|=d,d!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,d=31-ti(d),u[d]=y}function no(u,d){var y=u.pendingLanes&~d;u.pendingLanes=d,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=d,u.mutableReadLanes&=d,u.entangledLanes&=d,d=u.entanglements;var S=u.eventTimes;for(u=u.expirationTimes;0<y;){var A=31-ti(y),R=1<<A;d[A]=0,S[A]=-1,u[A]=-1,y&=~R}}function fu(u,d){var y=u.entangledLanes|=d;for(u=u.entanglements;y;){var S=31-ti(y),A=1<<S;A&d|u[S]&d&&(u[S]|=d),y&=~A}}var Ir=0;function fc(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var Sl,Sh,Jd,Zd,pu,mu=!1,hs=[],io=null,ds=null,ia=null,pc=new Map,Zt=new Map,so=[],rm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qd(u,d){switch(u){case"focusin":case"focusout":io=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":pc.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zt.delete(d.pointerId)}}function Ds(u,d,y,S,A,R){return u===null||u.nativeEvent!==R?(u={blockedOn:d,domEventName:y,eventSystemFlags:S,nativeEvent:R,targetContainers:[A]},d!==null&&(d=Lu(d),d!==null&&Sh(d)),u):(u.eventSystemFlags|=S,d=u.targetContainers,A!==null&&d.indexOf(A)===-1&&d.push(A),u)}function Mo(u,d,y,S,A){switch(d){case"focusin":return io=Ds(io,u,d,y,S,A),!0;case"dragenter":return ds=Ds(ds,u,d,y,S,A),!0;case"mouseover":return ia=Ds(ia,u,d,y,S,A),!0;case"pointerover":var R=A.pointerId;return pc.set(R,Ds(pc.get(R)||null,u,d,y,S,A)),!0;case"gotpointercapture":return R=A.pointerId,Zt.set(R,Ds(Zt.get(R)||null,u,d,y,S,A)),!0}return!1}function ef(u){var d=Ml(u.target);if(d!==null){var y=ei(d);if(y!==null){if(d=y.tag,d===13){if(d=Qi(y),d!==null){u.blockedOn=d,pu(u.priority,function(){Jd(y)});return}}else if(d===3&&y.stateNode.current.memoizedState.isDehydrated){u.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}u.blockedOn=null}function gu(u){if(u.blockedOn!==null)return!1;for(var d=u.targetContainers;0<d.length;){var y=yc(u.domEventName,u.eventSystemFlags,d[0],u.nativeEvent);if(y===null){y=u.nativeEvent;var S=new y.constructor(y.type,y);Rr=S,y.target.dispatchEvent(S),Rr=null}else return d=Lu(y),d!==null&&Sh(d),u.blockedOn=y,!1;d.shift()}return!0}function mc(u,d,y){gu(u)&&y.delete(d)}function Ch(){mu=!1,io!==null&&gu(io)&&(io=null),ds!==null&&gu(ds)&&(ds=null),ia!==null&&gu(ia)&&(ia=null),pc.forEach(mc),Zt.forEach(mc)}function ja(u,d){u.blockedOn===d&&(u.blockedOn=null,mu||(mu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ch)))}function gc(u){function d(A){return ja(A,u)}if(0<hs.length){ja(hs[0],u);for(var y=1;y<hs.length;y++){var S=hs[y];S.blockedOn===u&&(S.blockedOn=null)}}for(io!==null&&ja(io,u),ds!==null&&ja(ds,u),ia!==null&&ja(ia,u),pc.forEach(d),Zt.forEach(d),y=0;y<so.length;y++)S=so[y],S.blockedOn===u&&(S.blockedOn=null);for(;0<so.length&&(y=so[0],y.blockedOn===null);)ef(y),y.blockedOn===null&&so.shift()}var fs=j.ReactCurrentBatchConfig,yu=!0;function kh(u,d,y,S){var A=Ir,R=fs.transition;fs.transition=null;try{Ir=1,vu(u,d,y,S)}finally{Ir=A,fs.transition=R}}function Nh(u,d,y,S){var A=Ir,R=fs.transition;fs.transition=null;try{Ir=4,vu(u,d,y,S)}finally{Ir=A,fs.transition=R}}function vu(u,d,y,S){if(yu){var A=yc(u,d,y,S);if(A===null)Ih(u,d,S,sa,y),Qd(u,S);else if(Mo(A,u,d,y,S))S.stopPropagation();else if(Qd(u,S),d&4&&-1<rm.indexOf(u)){for(;A!==null;){var R=Lu(A);if(R!==null&&Sl(R),R=yc(u,d,y,S),R===null&&Ih(u,d,S,sa,y),R===A)break;A=R}A!==null&&S.stopPropagation()}else Ih(u,d,S,null,y)}}var sa=null;function yc(u,d,y,S){if(sa=null,u=Dt(S),u=Ml(u),u!==null)if(d=ei(u),d===null)u=null;else if(y=d.tag,y===13){if(u=Qi(d),u!==null)return u;u=null}else if(y===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;u=null}else d!==u&&(u=null);return sa=u,null}function vc(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pn()){case qn:return 1;case Cn:return 4;case es:case _l:return 16;case yn:return 536870912;default:return 16}default:return 16}}var aa=null,Oo=null,Cl=null;function Th(){if(Cl)return Cl;var u,d=Oo,y=d.length,S,A="value"in aa?aa.value:aa.textContent,R=A.length;for(u=0;u<y&&d[u]===A[u];u++);var J=y-u;for(S=1;S<=J&&d[y-S]===A[R-S];S++);return Cl=A.slice(u,1<S?1-S:void 0)}function xc(u){var d=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&d===13&&(u=13)):u=d,u===10&&(u=13),32<=u||u===13?u:0}function oa(){return!0}function ao(){return!1}function Wi(u){function d(y,S,A,R,J){this._reactName=y,this._targetInst=A,this.type=S,this.nativeEvent=R,this.target=J,this.currentTarget=null;for(var me in u)u.hasOwnProperty(me)&&(y=u[me],this[me]=y?y(R):R[me]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?oa:ao,this.isPropagationStopped=ao,this}return pe(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),d}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xu=Wi(la),T=pe({},la,{view:0,detail:0}),G=Wi(T),fe,ge,Ce,Be=pe({},T,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bc,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Ce&&(Ce&&u.type==="mousemove"?(fe=u.screenX-Ce.screenX,ge=u.screenY-Ce.screenY):ge=fe=0,Ce=u),fe)},movementY:function(u){return"movementY"in u?u.movementY:ge}}),qe=Wi(Be),bt=pe({},Be,{dataTransfer:0}),Rt=Wi(bt),sr=pe({},T,{relatedTarget:0}),dr=Wi(sr),Mr=pe({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),kn=Wi(Mr),ni=pe({},la,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),hn=Wi(ni),fi=pe({},la,{data:0}),Wn=Wi(fi),Pi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Io={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},La={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Do(u){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(u):(u=La[u])?!!d[u]:!1}function bc(){return Do}var bu=pe({},T,{key:function(u){if(u.key){var d=Pi[u.key]||u.key;if(d!=="Unidentified")return d}return u.type==="keypress"?(u=xc(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Io[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bc,charCode:function(u){return u.type==="keypress"?xc(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?xc(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),kl=Wi(bu),wc=pe({},Be,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nl=Wi(wc),Tl=pe({},T,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bc}),Ri=Wi(Tl),_c=pe({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sc=Wi(_c),Ah=pe({},Be,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Eh=Wi(Ah),ts=[9,13,27,32],Pa=o&&"CompositionEvent"in window,oo=null;o&&"documentMode"in document&&(oo=document.documentMode);var tf=o&&"TextEvent"in window&&!oo,Bs=o&&(!Pa||oo&&8<oo&&11>=oo),Al=" ",wu=!1;function _u(u,d){switch(u){case"keyup":return ts.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bo(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var ca=!1;function Fs(u,d){switch(u){case"compositionend":return Bo(d);case"keypress":return d.which!==32?null:(wu=!0,Al);case"textInput":return u=d.data,u===Al&&wu?null:u;default:return null}}function $s(u,d){if(ca)return u==="compositionend"||!Pa&&_u(u,d)?(u=Th(),Cl=Oo=aa=null,ca=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Bs&&d.locale!=="ko"?null:d.data;default:return null}}var El={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lo(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d==="input"?!!El[u.type]:d==="textarea"}function Fo(u,d,y,S){Ar(S),d=of(d,"onChange"),0<d.length&&(y=new xu("onChange","change",null,y,S),u.push({event:y,listeners:d}))}var $o=null,co=null;function Vn(u){Mh(u,0)}function Cc(u){var d=Mc(u);if(Ye(d))return u}function uo(u,d){if(u==="change")return d}var Ra=!1;if(o){var kc;if(o){var Nc="oninput"in document;if(!Nc){var Su=document.createElement("div");Su.setAttribute("oninput","return;"),Nc=typeof Su.oninput=="function"}kc=Nc}else kc=!1;Ra=kc&&(!document.documentMode||9<document.documentMode)}function Cu(){$o&&($o.detachEvent("onpropertychange",zo),co=$o=null)}function zo(u){if(u.propertyName==="value"&&Cc(co)){var d=[];Fo(d,co,u,Dt(u)),ct(Vn,d)}}function jl(u,d,y){u==="focusin"?(Cu(),$o=d,co=y,$o.attachEvent("onpropertychange",zo)):u==="focusout"&&Cu()}function Ll(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Cc(co)}function Tc(u,d){if(u==="click")return Cc(d)}function Pl(u,d){if(u==="input"||u==="change")return Cc(d)}function Ac(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var Pn=typeof Object.is=="function"?Object.is:Ac;function ps(u,d){if(Pn(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var y=Object.keys(u),S=Object.keys(d);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var A=y[S];if(!l.call(d,A)||!Pn(u[A],d[A]))return!1}return!0}function zr(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Jr(u,d){var y=zr(u);u=0;for(var S;y;){if(y.nodeType===3){if(S=u+y.textContent.length,u<=d&&S>=d)return{node:y,offset:d-u};u=S}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=zr(y)}}function Rn(u,d){return u&&d?u===d?!0:u&&u.nodeType===3?!1:d&&d.nodeType===3?Rn(u,d.parentNode):"contains"in u?u.contains(d):u.compareDocumentPosition?!!(u.compareDocumentPosition(d)&16):!1:!1}function ii(){for(var u=window,d=We();d instanceof u.HTMLIFrameElement;){try{var y=typeof d.contentWindow.location.href=="string"}catch{y=!1}if(y)u=d.contentWindow;else break;d=We(u.document)}return d}function Ma(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d&&(d==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||d==="textarea"||u.contentEditable==="true")}function jh(u){var d=ii(),y=u.focusedElem,S=u.selectionRange;if(d!==y&&y&&y.ownerDocument&&Rn(y.ownerDocument.documentElement,y)){if(S!==null&&Ma(y)){if(d=S.start,u=S.end,u===void 0&&(u=d),"selectionStart"in y)y.selectionStart=d,y.selectionEnd=Math.min(u,y.value.length);else if(u=(d=y.ownerDocument||document)&&d.defaultView||window,u.getSelection){u=u.getSelection();var A=y.textContent.length,R=Math.min(S.start,A);S=S.end===void 0?R:Math.min(S.end,A),!u.extend&&R>S&&(A=S,S=R,R=A),A=Jr(y,R);var J=Jr(y,S);A&&J&&(u.rangeCount!==1||u.anchorNode!==A.node||u.anchorOffset!==A.offset||u.focusNode!==J.node||u.focusOffset!==J.offset)&&(d=d.createRange(),d.setStart(A.node,A.offset),u.removeAllRanges(),R>S?(u.addRange(d),u.extend(J.node,J.offset)):(d.setEnd(J.node,J.offset),u.addRange(d)))}}for(d=[],u=y;u=u.parentNode;)u.nodeType===1&&d.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<d.length;y++)u=d[y],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var ku=o&&"documentMode"in document&&11>=document.documentMode,Uo=null,rf=null,Nu=null,nf=!1;function nm(u,d,y){var S=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;nf||Uo==null||Uo!==We(S)||(S=Uo,"selectionStart"in S&&Ma(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),Nu&&ps(Nu,S)||(Nu=S,S=of(rf,"onSelect"),0<S.length&&(d=new xu("onSelect","select",null,d,y),u.push({event:d,listeners:S}),d.target=Uo)))}function Lh(u,d){var y={};return y[u.toLowerCase()]=d.toLowerCase(),y["Webkit"+u]="webkit"+d,y["Moz"+u]="moz"+d,y}var Ec={animationend:Lh("Animation","AnimationEnd"),animationiteration:Lh("Animation","AnimationIteration"),animationstart:Lh("Animation","AnimationStart"),transitionend:Lh("Transition","TransitionEnd")},jc={},im={};o&&(im=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);function Ph(u){if(jc[u])return jc[u];if(!Ec[u])return u;var d=Ec[u],y;for(y in d)if(d.hasOwnProperty(y)&&y in im)return jc[u]=d[y];return u}var sm=Ph("animationend"),am=Ph("animationiteration"),om=Ph("animationstart"),lm=Ph("transitionend"),cm=new Map,um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ho(u,d){cm.set(u,d),s(d,[u])}for(var Tu=0;Tu<um.length;Tu++){var rs=um[Tu],ua=rs.toLowerCase(),sf=rs[0].toUpperCase()+rs.slice(1);ho(ua,"on"+sf)}ho(sm,"onAnimationEnd"),ho(am,"onAnimationIteration"),ho(om,"onAnimationStart"),ho("dblclick","onDoubleClick"),ho("focusin","onFocus"),ho("focusout","onBlur"),ho(lm,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function Rh(u,d,y){var S=u.type||"unknown-event";u.currentTarget=y,Qn(S,d,void 0,u),u.currentTarget=null}function Mh(u,d){d=(d&4)!==0;for(var y=0;y<u.length;y++){var S=u[y],A=S.event;S=S.listeners;e:{var R=void 0;if(d)for(var J=S.length-1;0<=J;J--){var me=S[J],xe=me.instance,Pe=me.currentTarget;if(me=me.listener,xe!==R&&A.isPropagationStopped())break e;Rh(A,me,Pe),R=xe}else for(J=0;J<S.length;J++){if(me=S[J],xe=me.instance,Pe=me.currentTarget,me=me.listener,xe!==R&&A.isPropagationStopped())break e;Rh(A,me,Pe),R=xe}}}if(Sn)throw u=ta,Sn=!1,ta=null,u}function nn(u,d){var y=d[gs];y===void 0&&(y=d[gs]=new Set);var S=u+"__bubble";y.has(S)||(Oh(d,u,2,!1),y.add(S))}function af(u,d,y){var S=0;d&&(S|=4),Oh(y,u,S,d)}var Au="_reactListening"+Math.random().toString(36).slice(2);function Lc(u){if(!u[Au]){u[Au]=!0,n.forEach(function(y){y!=="selectionchange"&&(j0.has(y)||af(y,!1,u),af(y,!0,u))});var d=u.nodeType===9?u:u.ownerDocument;d===null||d[Au]||(d[Au]=!0,af("selectionchange",!1,d))}}function Oh(u,d,y,S){switch(vc(d)){case 1:var A=kh;break;case 4:A=Nh;break;default:A=vu}y=A.bind(null,d,y,u),A=void 0,!Ln||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(A=!0),S?A!==void 0?u.addEventListener(d,y,{capture:!0,passive:A}):u.addEventListener(d,y,!0):A!==void 0?u.addEventListener(d,y,{passive:A}):u.addEventListener(d,y,!1)}function Ih(u,d,y,S,A){var R=S;if((d&1)===0&&(d&2)===0&&S!==null)e:for(;;){if(S===null)return;var J=S.tag;if(J===3||J===4){var me=S.stateNode.containerInfo;if(me===A||me.nodeType===8&&me.parentNode===A)break;if(J===4)for(J=S.return;J!==null;){var xe=J.tag;if((xe===3||xe===4)&&(xe=J.stateNode.containerInfo,xe===A||xe.nodeType===8&&xe.parentNode===A))return;J=J.return}for(;me!==null;){if(J=Ml(me),J===null)return;if(xe=J.tag,xe===5||xe===6){S=R=J;continue e}me=me.parentNode}}S=S.return}ct(function(){var Pe=R,He=Dt(y),Ke=[];e:{var Ve=cm.get(u);if(Ve!==void 0){var at=xu,_t=u;switch(u){case"keypress":if(xc(y)===0)break e;case"keydown":case"keyup":at=kl;break;case"focusin":_t="focus",at=dr;break;case"focusout":_t="blur",at=dr;break;case"beforeblur":case"afterblur":at=dr;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=qe;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=Rt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=Ri;break;case sm:case am:case om:at=kn;break;case lm:at=Sc;break;case"scroll":at=G;break;case"wheel":at=Eh;break;case"copy":case"cut":case"paste":at=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=Nl}var Lt=(d&4)!==0,gi=!Lt&&u==="scroll",Ee=Lt?Ve!==null?Ve+"Capture":null:Ve;Lt=[];for(var _e=Pe,Le;_e!==null;){Le=_e;var Je=Le.stateNode;if(Le.tag===5&&Je!==null&&(Le=Je,Ee!==null&&(Je=un(_e,Ee),Je!=null&&Lt.push(Dh(_e,Je,Le)))),gi)break;_e=_e.return}0<Lt.length&&(Ve=new at(Ve,_t,null,y,He),Ke.push({event:Ve,listeners:Lt}))}}if((d&7)===0){e:{if(Ve=u==="mouseover"||u==="pointerover",at=u==="mouseout"||u==="pointerout",Ve&&y!==Rr&&(_t=y.relatedTarget||y.fromElement)&&(Ml(_t)||_t[Vi]))break e;if((at||Ve)&&(Ve=He.window===He?He:(Ve=He.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,at?(_t=y.relatedTarget||y.toElement,at=Pe,_t=_t?Ml(_t):null,_t!==null&&(gi=ei(_t),_t!==gi||_t.tag!==5&&_t.tag!==6)&&(_t=null)):(at=null,_t=Pe),at!==_t)){if(Lt=qe,Je="onMouseLeave",Ee="onMouseEnter",_e="mouse",(u==="pointerout"||u==="pointerover")&&(Lt=Nl,Je="onPointerLeave",Ee="onPointerEnter",_e="pointer"),gi=at==null?Ve:Mc(at),Le=_t==null?Ve:Mc(_t),Ve=new Lt(Je,_e+"leave",at,y,He),Ve.target=gi,Ve.relatedTarget=Le,Je=null,Ml(He)===Pe&&(Lt=new Lt(Ee,_e+"enter",_t,y,He),Lt.target=Le,Lt.relatedTarget=gi,Je=Lt),gi=Je,at&&_t)t:{for(Lt=at,Ee=_t,_e=0,Le=Lt;Le;Le=Pc(Le))_e++;for(Le=0,Je=Ee;Je;Je=Pc(Je))Le++;for(;0<_e-Le;)Lt=Pc(Lt),_e--;for(;0<Le-_e;)Ee=Pc(Ee),Le--;for(;_e--;){if(Lt===Ee||Ee!==null&&Lt===Ee.alternate)break t;Lt=Pc(Lt),Ee=Pc(Ee)}Lt=null}else Lt=null;at!==null&&L0(Ke,Ve,at,Lt,!1),_t!==null&&gi!==null&&L0(Ke,gi,_t,Lt,!0)}}e:{if(Ve=Pe?Mc(Pe):window,at=Ve.nodeName&&Ve.nodeName.toLowerCase(),at==="select"||at==="input"&&Ve.type==="file")var Ot=uo;else if(lo(Ve))if(Ra)Ot=Pl;else{Ot=Ll;var Kt=jl}else(at=Ve.nodeName)&&at.toLowerCase()==="input"&&(Ve.type==="checkbox"||Ve.type==="radio")&&(Ot=Tc);if(Ot&&(Ot=Ot(u,Pe))){Fo(Ke,Ot,y,He);break e}Kt&&Kt(u,Ve,Pe),u==="focusout"&&(Kt=Ve._wrapperState)&&Kt.controlled&&Ve.type==="number"&&ze(Ve,"number",Ve.value)}switch(Kt=Pe?Mc(Pe):window,u){case"focusin":(lo(Kt)||Kt.contentEditable==="true")&&(Uo=Kt,rf=Pe,Nu=null);break;case"focusout":Nu=rf=Uo=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,nm(Ke,y,He);break;case"selectionchange":if(ku)break;case"keydown":case"keyup":nm(Ke,y,He)}var Xt;if(Pa)e:{switch(u){case"compositionstart":var lr="onCompositionStart";break e;case"compositionend":lr="onCompositionEnd";break e;case"compositionupdate":lr="onCompositionUpdate";break e}lr=void 0}else ca?_u(u,y)&&(lr="onCompositionEnd"):u==="keydown"&&y.keyCode===229&&(lr="onCompositionStart");lr&&(Bs&&y.locale!=="ko"&&(ca||lr!=="onCompositionStart"?lr==="onCompositionEnd"&&ca&&(Xt=Th()):(aa=He,Oo="value"in aa?aa.value:aa.textContent,ca=!0)),Kt=of(Pe,lr),0<Kt.length&&(lr=new Wn(lr,u,null,y,He),Ke.push({event:lr,listeners:Kt}),Xt?lr.data=Xt:(Xt=Bo(y),Xt!==null&&(lr.data=Xt)))),(Xt=tf?Fs(u,y):$s(u,y))&&(Pe=of(Pe,"onBeforeInput"),0<Pe.length&&(He=new Wn("onBeforeInput","beforeinput",null,y,He),Ke.push({event:He,listeners:Pe}),He.data=Xt))}Mh(Ke,d)})}function Dh(u,d,y){return{instance:u,listener:d,currentTarget:y}}function of(u,d){for(var y=d+"Capture",S=[];u!==null;){var A=u,R=A.stateNode;A.tag===5&&R!==null&&(A=R,R=un(u,y),R!=null&&S.unshift(Dh(u,R,A)),R=un(u,d),R!=null&&S.push(Dh(u,R,A))),u=u.return}return S}function Pc(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function L0(u,d,y,S,A){for(var R=d._reactName,J=[];y!==null&&y!==S;){var me=y,xe=me.alternate,Pe=me.stateNode;if(xe!==null&&xe===S)break;me.tag===5&&Pe!==null&&(me=Pe,A?(xe=un(y,R),xe!=null&&J.unshift(Dh(y,xe,me))):A||(xe=un(y,R),xe!=null&&J.push(Dh(y,xe,me)))),y=y.return}J.length!==0&&u.push({event:d,listeners:J})}var i2=/\r\n?/g,s2=/\u0000|\uFFFD/g;function P0(u){return(typeof u=="string"?u:""+u).replace(i2,`
`).replace(s2,"")}function lf(u,d,y){if(d=P0(d),P0(u)!==d&&y)throw Error(r(425))}function Eu(){}var Bh=null,Rc=null;function hm(u,d){return u==="textarea"||u==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var dm=typeof setTimeout=="function"?setTimeout:void 0,R0=typeof clearTimeout=="function"?clearTimeout:void 0,M0=typeof Promise=="function"?Promise:void 0,a2=typeof queueMicrotask=="function"?queueMicrotask:typeof M0<"u"?function(u){return M0.resolve(null).then(u).catch(o2)}:dm;function o2(u){setTimeout(function(){throw u})}function fm(u,d){var y=d,S=0;do{var A=y.nextSibling;if(u.removeChild(y),A&&A.nodeType===8)if(y=A.data,y==="/$"){if(S===0){u.removeChild(A),gc(d);return}S--}else y!=="$"&&y!=="$?"&&y!=="$!"||S++;y=A}while(y);gc(d)}function ns(u){for(;u!=null;u=u.nextSibling){var d=u.nodeType;if(d===1||d===3)break;if(d===8){if(d=u.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return u}function ha(u){u=u.previousSibling;for(var d=0;u;){if(u.nodeType===8){var y=u.data;if(y==="$"||y==="$!"||y==="$?"){if(d===0)return u;d--}else y==="/$"&&d++}u=u.previousSibling}return null}var ms=Math.random().toString(36).slice(2),fo="__reactFiber$"+ms,ju="__reactProps$"+ms,Vi="__reactContainer$"+ms,gs="__reactEvents$"+ms,l2="__reactListeners$"+ms,c2="__reactHandles$"+ms;function Ml(u){var d=u[fo];if(d)return d;for(var y=u.parentNode;y;){if(d=y[Vi]||y[fo]){if(y=d.alternate,d.child!==null||y!==null&&y.child!==null)for(u=ha(u);u!==null;){if(y=u[fo])return y;u=ha(u)}return d}u=y,y=u.parentNode}return null}function Lu(u){return u=u[fo]||u[Vi],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Mc(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(r(33))}function Fh(u){return u[ju]||null}var pm=[],qo=-1;function Oa(u){return{current:u}}function Kr(u){0>qo||(u.current=pm[qo],pm[qo]=null,qo--)}function Zr(u,d){qo++,pm[qo]=u.current,u.current=d}var Ol={},Mi=Oa(Ol),ys=Oa(!1),Oc=Ol;function Pu(u,d){var y=u.type.contextTypes;if(!y)return Ol;var S=u.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===d)return S.__reactInternalMemoizedMaskedChildContext;var A={},R;for(R in y)A[R]=d[R];return S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=d,u.__reactInternalMemoizedMaskedChildContext=A),A}function vs(u){return u=u.childContextTypes,u!=null}function cf(){Kr(ys),Kr(Mi)}function O0(u,d,y){if(Mi.current!==Ol)throw Error(r(168));Zr(Mi,d),Zr(ys,y)}function mm(u,d,y){var S=u.stateNode;if(d=d.childContextTypes,typeof S.getChildContext!="function")return y;S=S.getChildContext();for(var A in S)if(!(A in d))throw Error(r(108,de(u)||"Unknown",A));return pe({},y,S)}function Ic(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Ol,Oc=Mi.current,Zr(Mi,u),Zr(ys,ys.current),!0}function I0(u,d,y){var S=u.stateNode;if(!S)throw Error(r(169));y?(u=mm(u,d,Oc),S.__reactInternalMemoizedMergedChildContext=u,Kr(ys),Kr(Mi),Zr(Mi,u)):Kr(ys),Zr(ys,y)}var Wo=null,$h=!1,w=!1;function C(u){Wo===null?Wo=[u]:Wo.push(u)}function L(u){$h=!0,C(u)}function I(){if(!w&&Wo!==null){w=!0;var u=0,d=Ir;try{var y=Wo;for(Ir=1;u<y.length;u++){var S=y[u];do S=S(!0);while(S!==null)}Wo=null,$h=!1}catch(A){throw Wo!==null&&(Wo=Wo.slice(u+1)),ye(qn,I),A}finally{Ir=d,w=!1}}return null}var H=[],Z=0,te=null,ie=0,ae=[],ce=0,ve=null,Ae=1,he="";function we(u,d){H[Z++]=ie,H[Z++]=te,te=u,ie=d}function Ne(u,d,y){ae[ce++]=Ae,ae[ce++]=he,ae[ce++]=ve,ve=u;var S=Ae;u=he;var A=32-ti(S)-1;S&=~(1<<A),y+=1;var R=32-ti(d)+A;if(30<R){var J=A-A%5;R=(S&(1<<J)-1).toString(32),S>>=J,A-=J,Ae=1<<32-ti(d)+A|y<<A|S,he=R+u}else Ae=1<<R|y<<A|S,he=u}function Ie(u){u.return!==null&&(we(u,1),Ne(u,1,0))}function je(u){for(;u===te;)te=H[--Z],H[Z]=null,ie=H[--Z],H[Z]=null;for(;u===ve;)ve=ae[--ce],ae[ce]=null,he=ae[--ce],ae[ce]=null,Ae=ae[--ce],ae[ce]=null}var Me=null,Oe=null,Fe=!1,$e=null;function Mt(u,d){var y=vo(5,null,null,0);y.elementType="DELETED",y.stateNode=d,y.return=u,d=u.deletions,d===null?(u.deletions=[y],u.flags|=16):d.push(y)}function ut(u,d){switch(u.tag){case 5:var y=u.type;return d=d.nodeType!==1||y.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(u.stateNode=d,Me=u,Oe=ns(d.firstChild),!0):!1;case 6:return d=u.pendingProps===""||d.nodeType!==3?null:d,d!==null?(u.stateNode=d,Me=u,Oe=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(y=ve!==null?{id:Ae,overflow:he}:null,u.memoizedState={dehydrated:d,treeContext:y,retryLane:1073741824},y=vo(18,null,null,0),y.stateNode=d,y.return=u,u.child=y,Me=u,Oe=null,!0):!1;default:return!1}}function pr(u){return(u.mode&1)!==0&&(u.flags&128)===0}function wt(u){if(Fe){var d=Oe;if(d){var y=d;if(!ut(u,d)){if(pr(u))throw Error(r(418));d=ns(y.nextSibling);var S=Me;d&&ut(u,d)?Mt(S,y):(u.flags=u.flags&-4097|2,Fe=!1,Me=u)}}else{if(pr(u))throw Error(r(418));u.flags=u.flags&-4097|2,Fe=!1,Me=u}}}function Nr(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Me=u}function Mn(u){if(u!==Me)return!1;if(!Fe)return Nr(u),Fe=!0,!1;var d;if((d=u.tag!==3)&&!(d=u.tag!==5)&&(d=u.type,d=d!=="head"&&d!=="body"&&!hm(u.type,u.memoizedProps)),d&&(d=Oe)){if(pr(u))throw yr(),Error(r(418));for(;d;)Mt(u,d),d=ns(d.nextSibling)}if(Nr(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,d=0;u;){if(u.nodeType===8){var y=u.data;if(y==="/$"){if(d===0){Oe=ns(u.nextSibling);break e}d--}else y!=="$"&&y!=="$!"&&y!=="$?"||d++}u=u.nextSibling}Oe=null}}else Oe=Me?ns(u.stateNode.nextSibling):null;return!0}function yr(){for(var u=Oe;u;)u=ns(u.nextSibling)}function ht(){Oe=Me=null,Fe=!1}function Qe(u){$e===null?$e=[u]:$e.push(u)}var Hn=j.ReactCurrentBatchConfig;function nr(u,d,y){if(u=y.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(r(309));var S=y.stateNode}if(!S)throw Error(r(147,u));var A=S,R=""+u;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===R?d.ref:(d=function(J){var me=A.refs;J===null?delete me[R]:me[R]=J},d._stringRef=R,d)}if(typeof u!="string")throw Error(r(284));if(!y._owner)throw Error(r(290,u))}return u}function Cr(u,d){throw u=Object.prototype.toString.call(d),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u))}function dn(u){var d=u._init;return d(u._payload)}function Ci(u){function d(Ee,_e){if(u){var Le=Ee.deletions;Le===null?(Ee.deletions=[_e],Ee.flags|=16):Le.push(_e)}}function y(Ee,_e){if(!u)return null;for(;_e!==null;)d(Ee,_e),_e=_e.sibling;return null}function S(Ee,_e){for(Ee=new Map;_e!==null;)_e.key!==null?Ee.set(_e.key,_e):Ee.set(_e.index,_e),_e=_e.sibling;return Ee}function A(Ee,_e){return Ee=Uu(Ee,_e),Ee.index=0,Ee.sibling=null,Ee}function R(Ee,_e,Le){return Ee.index=Le,u?(Le=Ee.alternate,Le!==null?(Le=Le.index,Le<_e?(Ee.flags|=2,_e):Le):(Ee.flags|=2,_e)):(Ee.flags|=1048576,_e)}function J(Ee){return u&&Ee.alternate===null&&(Ee.flags|=2),Ee}function me(Ee,_e,Le,Je){return _e===null||_e.tag!==6?(_e=B2(Le,Ee.mode,Je),_e.return=Ee,_e):(_e=A(_e,Le),_e.return=Ee,_e)}function xe(Ee,_e,Le,Je){var Ot=Le.type;return Ot===D?He(Ee,_e,Le.props.children,Je,Le.key):_e!==null&&(_e.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===ee&&dn(Ot)===_e.type)?(Je=A(_e,Le.props),Je.ref=nr(Ee,_e,Le),Je.return=Ee,Je):(Je=ry(Le.type,Le.key,Le.props,null,Ee.mode,Je),Je.ref=nr(Ee,_e,Le),Je.return=Ee,Je)}function Pe(Ee,_e,Le,Je){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Le.containerInfo||_e.stateNode.implementation!==Le.implementation?(_e=F2(Le,Ee.mode,Je),_e.return=Ee,_e):(_e=A(_e,Le.children||[]),_e.return=Ee,_e)}function He(Ee,_e,Le,Je,Ot){return _e===null||_e.tag!==7?(_e=Yh(Le,Ee.mode,Je,Ot),_e.return=Ee,_e):(_e=A(_e,Le),_e.return=Ee,_e)}function Ke(Ee,_e,Le){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return _e=B2(""+_e,Ee.mode,Le),_e.return=Ee,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case P:return Le=ry(_e.type,_e.key,_e.props,null,Ee.mode,Le),Le.ref=nr(Ee,null,_e),Le.return=Ee,Le;case F:return _e=F2(_e,Ee.mode,Le),_e.return=Ee,_e;case ee:var Je=_e._init;return Ke(Ee,Je(_e._payload),Le)}if(xt(_e)||re(_e))return _e=Yh(_e,Ee.mode,Le,null),_e.return=Ee,_e;Cr(Ee,_e)}return null}function Ve(Ee,_e,Le,Je){var Ot=_e!==null?_e.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number")return Ot!==null?null:me(Ee,_e,""+Le,Je);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case P:return Le.key===Ot?xe(Ee,_e,Le,Je):null;case F:return Le.key===Ot?Pe(Ee,_e,Le,Je):null;case ee:return Ot=Le._init,Ve(Ee,_e,Ot(Le._payload),Je)}if(xt(Le)||re(Le))return Ot!==null?null:He(Ee,_e,Le,Je,null);Cr(Ee,Le)}return null}function at(Ee,_e,Le,Je,Ot){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return Ee=Ee.get(Le)||null,me(_e,Ee,""+Je,Ot);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case P:return Ee=Ee.get(Je.key===null?Le:Je.key)||null,xe(_e,Ee,Je,Ot);case F:return Ee=Ee.get(Je.key===null?Le:Je.key)||null,Pe(_e,Ee,Je,Ot);case ee:var Kt=Je._init;return at(Ee,_e,Le,Kt(Je._payload),Ot)}if(xt(Je)||re(Je))return Ee=Ee.get(Le)||null,He(_e,Ee,Je,Ot,null);Cr(_e,Je)}return null}function _t(Ee,_e,Le,Je){for(var Ot=null,Kt=null,Xt=_e,lr=_e=0,Xi=null;Xt!==null&&lr<Le.length;lr++){Xt.index>lr?(Xi=Xt,Xt=null):Xi=Xt.sibling;var Hr=Ve(Ee,Xt,Le[lr],Je);if(Hr===null){Xt===null&&(Xt=Xi);break}u&&Xt&&Hr.alternate===null&&d(Ee,Xt),_e=R(Hr,_e,lr),Kt===null?Ot=Hr:Kt.sibling=Hr,Kt=Hr,Xt=Xi}if(lr===Le.length)return y(Ee,Xt),Fe&&we(Ee,lr),Ot;if(Xt===null){for(;lr<Le.length;lr++)Xt=Ke(Ee,Le[lr],Je),Xt!==null&&(_e=R(Xt,_e,lr),Kt===null?Ot=Xt:Kt.sibling=Xt,Kt=Xt);return Fe&&we(Ee,lr),Ot}for(Xt=S(Ee,Xt);lr<Le.length;lr++)Xi=at(Xt,Ee,lr,Le[lr],Je),Xi!==null&&(u&&Xi.alternate!==null&&Xt.delete(Xi.key===null?lr:Xi.key),_e=R(Xi,_e,lr),Kt===null?Ot=Xi:Kt.sibling=Xi,Kt=Xi);return u&&Xt.forEach(function(qu){return d(Ee,qu)}),Fe&&we(Ee,lr),Ot}function Lt(Ee,_e,Le,Je){var Ot=re(Le);if(typeof Ot!="function")throw Error(r(150));if(Le=Ot.call(Le),Le==null)throw Error(r(151));for(var Kt=Ot=null,Xt=_e,lr=_e=0,Xi=null,Hr=Le.next();Xt!==null&&!Hr.done;lr++,Hr=Le.next()){Xt.index>lr?(Xi=Xt,Xt=null):Xi=Xt.sibling;var qu=Ve(Ee,Xt,Hr.value,Je);if(qu===null){Xt===null&&(Xt=Xi);break}u&&Xt&&qu.alternate===null&&d(Ee,Xt),_e=R(qu,_e,lr),Kt===null?Ot=qu:Kt.sibling=qu,Kt=qu,Xt=Xi}if(Hr.done)return y(Ee,Xt),Fe&&we(Ee,lr),Ot;if(Xt===null){for(;!Hr.done;lr++,Hr=Le.next())Hr=Ke(Ee,Hr.value,Je),Hr!==null&&(_e=R(Hr,_e,lr),Kt===null?Ot=Hr:Kt.sibling=Hr,Kt=Hr);return Fe&&we(Ee,lr),Ot}for(Xt=S(Ee,Xt);!Hr.done;lr++,Hr=Le.next())Hr=at(Xt,Ee,lr,Hr.value,Je),Hr!==null&&(u&&Hr.alternate!==null&&Xt.delete(Hr.key===null?lr:Hr.key),_e=R(Hr,_e,lr),Kt===null?Ot=Hr:Kt.sibling=Hr,Kt=Hr);return u&&Xt.forEach(function(sz){return d(Ee,sz)}),Fe&&we(Ee,lr),Ot}function gi(Ee,_e,Le,Je){if(typeof Le=="object"&&Le!==null&&Le.type===D&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case P:e:{for(var Ot=Le.key,Kt=_e;Kt!==null;){if(Kt.key===Ot){if(Ot=Le.type,Ot===D){if(Kt.tag===7){y(Ee,Kt.sibling),_e=A(Kt,Le.props.children),_e.return=Ee,Ee=_e;break e}}else if(Kt.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===ee&&dn(Ot)===Kt.type){y(Ee,Kt.sibling),_e=A(Kt,Le.props),_e.ref=nr(Ee,Kt,Le),_e.return=Ee,Ee=_e;break e}y(Ee,Kt);break}else d(Ee,Kt);Kt=Kt.sibling}Le.type===D?(_e=Yh(Le.props.children,Ee.mode,Je,Le.key),_e.return=Ee,Ee=_e):(Je=ry(Le.type,Le.key,Le.props,null,Ee.mode,Je),Je.ref=nr(Ee,_e,Le),Je.return=Ee,Ee=Je)}return J(Ee);case F:e:{for(Kt=Le.key;_e!==null;){if(_e.key===Kt)if(_e.tag===4&&_e.stateNode.containerInfo===Le.containerInfo&&_e.stateNode.implementation===Le.implementation){y(Ee,_e.sibling),_e=A(_e,Le.children||[]),_e.return=Ee,Ee=_e;break e}else{y(Ee,_e);break}else d(Ee,_e);_e=_e.sibling}_e=F2(Le,Ee.mode,Je),_e.return=Ee,Ee=_e}return J(Ee);case ee:return Kt=Le._init,gi(Ee,_e,Kt(Le._payload),Je)}if(xt(Le))return _t(Ee,_e,Le,Je);if(re(Le))return Lt(Ee,_e,Le,Je);Cr(Ee,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"?(Le=""+Le,_e!==null&&_e.tag===6?(y(Ee,_e.sibling),_e=A(_e,Le),_e.return=Ee,Ee=_e):(y(Ee,_e),_e=B2(Le,Ee.mode,Je),_e.return=Ee,Ee=_e),J(Ee)):y(Ee,_e)}return gi}var si=Ci(!0),Nn=Ci(!1),pi=Oa(null),ki=null,vn=null,Er=null;function Ur(){Er=vn=ki=null}function xn(u){var d=pi.current;Kr(pi),u._currentValue=d}function qr(u,d,y){for(;u!==null;){var S=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,S!==null&&(S.childLanes|=d)):S!==null&&(S.childLanes&d)!==d&&(S.childLanes|=d),u===y)break;u=u.return}}function On(u,d){ki=u,Er=vn=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&d)!==0&&(fa=!0),u.firstContext=null)}function In(u){var d=u._currentValue;if(Er!==u)if(u={context:u,memoizedValue:d,next:null},vn===null){if(ki===null)throw Error(r(308));vn=u,ki.dependencies={lanes:0,firstContext:u}}else vn=vn.next=u;return d}var sn=null;function Hi(u){sn===null?sn=[u]:sn.push(u)}function Qr(u,d,y,S){var A=d.interleaved;return A===null?(y.next=y,Hi(d)):(y.next=A.next,A.next=y),d.interleaved=y,an(u,S)}function an(u,d){u.lanes|=d;var y=u.alternate;for(y!==null&&(y.lanes|=d),y=u,u=u.return;u!==null;)u.childLanes|=d,y=u.alternate,y!==null&&(y.childLanes|=d),y=u,u=u.return;return y.tag===3?y.stateNode:null}var ai=!1;function Oi(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xs(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Gn(u,d){return{eventTime:u,lane:d,tag:0,payload:null,callback:null,next:null}}function Yn(u,d,y){var S=u.updateQueue;if(S===null)return null;if(S=S.shared,(Wr&2)!==0){var A=S.pending;return A===null?d.next=d:(d.next=A.next,A.next=d),S.pending=d,an(u,y)}return A=S.interleaved,A===null?(d.next=d,Hi(S)):(d.next=A.next,A.next=d),S.interleaved=d,an(u,y)}function Gi(u,d,y){if(d=d.updateQueue,d!==null&&(d=d.shared,(y&4194240)!==0)){var S=d.lanes;S&=u.pendingLanes,y|=S,d.lanes=y,fu(u,y)}}function on(u,d){var y=u.updateQueue,S=u.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var A=null,R=null;if(y=y.firstBaseUpdate,y!==null){do{var J={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};R===null?A=R=J:R=R.next=J,y=y.next}while(y!==null);R===null?A=R=d:R=R.next=d}else A=R=d;y={baseState:S.baseState,firstBaseUpdate:A,lastBaseUpdate:R,shared:S.shared,effects:S.effects},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=d:u.next=d,y.lastBaseUpdate=d}function Yi(u,d,y,S){var A=u.updateQueue;ai=!1;var R=A.firstBaseUpdate,J=A.lastBaseUpdate,me=A.shared.pending;if(me!==null){A.shared.pending=null;var xe=me,Pe=xe.next;xe.next=null,J===null?R=Pe:J.next=Pe,J=xe;var He=u.alternate;He!==null&&(He=He.updateQueue,me=He.lastBaseUpdate,me!==J&&(me===null?He.firstBaseUpdate=Pe:me.next=Pe,He.lastBaseUpdate=xe))}if(R!==null){var Ke=A.baseState;J=0,He=Pe=xe=null,me=R;do{var Ve=me.lane,at=me.eventTime;if((S&Ve)===Ve){He!==null&&(He=He.next={eventTime:at,lane:0,tag:me.tag,payload:me.payload,callback:me.callback,next:null});e:{var _t=u,Lt=me;switch(Ve=d,at=y,Lt.tag){case 1:if(_t=Lt.payload,typeof _t=="function"){Ke=_t.call(at,Ke,Ve);break e}Ke=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=Lt.payload,Ve=typeof _t=="function"?_t.call(at,Ke,Ve):_t,Ve==null)break e;Ke=pe({},Ke,Ve);break e;case 2:ai=!0}}me.callback!==null&&me.lane!==0&&(u.flags|=64,Ve=A.effects,Ve===null?A.effects=[me]:Ve.push(me))}else at={eventTime:at,lane:Ve,tag:me.tag,payload:me.payload,callback:me.callback,next:null},He===null?(Pe=He=at,xe=Ke):He=He.next=at,J|=Ve;if(me=me.next,me===null){if(me=A.shared.pending,me===null)break;Ve=me,me=Ve.next,Ve.next=null,A.lastBaseUpdate=Ve,A.shared.pending=null}}while(!0);if(He===null&&(xe=Ke),A.baseState=xe,A.firstBaseUpdate=Pe,A.lastBaseUpdate=He,d=A.shared.interleaved,d!==null){A=d;do J|=A.lane,A=A.next;while(A!==d)}else R===null&&(A.shared.lanes=0);Wh|=J,u.lanes=J,u.memoizedState=Ke}}function da(u,d,y){if(u=d.effects,d.effects=null,u!==null)for(d=0;d<u.length;d++){var S=u[d],A=S.callback;if(A!==null){if(S.callback=null,S=y,typeof A!="function")throw Error(r(191,A));A.call(S)}}}var Ia={},Ni=Oa(Ia),Kn=Oa(Ia),Il=Oa(Ia);function Vo(u){if(u===Ia)throw Error(r(174));return u}function Ru(u,d){switch(Zr(Il,d),Zr(Kn,u),Zr(Ni,Ia),u=d.nodeType,u){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Gt(null,"");break;default:u=u===8?d.parentNode:d,d=u.namespaceURI||null,u=u.tagName,d=Gt(d,u)}Kr(Ni),Zr(Ni,d)}function po(){Kr(Ni),Kr(Kn),Kr(Il)}function D0(u){Vo(Il.current);var d=Vo(Ni.current),y=Gt(d,u.type);d!==y&&(Zr(Kn,u),Zr(Ni,y))}function gm(u){Kn.current===u&&(Kr(Ni),Kr(Kn))}var mn=Oa(0);function Da(u){for(var d=u;d!==null;){if(d.tag===13){var y=d.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var ym=[];function vm(){for(var u=0;u<ym.length;u++)ym[u]._workInProgressVersionPrimary=null;ym.length=0}var uf=j.ReactCurrentDispatcher,hf=j.ReactCurrentBatchConfig,mo=0,bn=null,oi=null,Xn=null,Mu=!1,Ho=!1,Ou=0,u2=0;function mi(){throw Error(r(321))}function df(u,d){if(d===null)return!1;for(var y=0;y<d.length&&y<u.length;y++)if(!Pn(u[y],d[y]))return!1;return!0}function zh(u,d,y,S,A,R){if(mo=R,bn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,uf.current=u===null||u.memoizedState===null?L9:P9,u=y(S,A),Ho){R=0;do{if(Ho=!1,Ou=0,25<=R)throw Error(r(301));R+=1,Xn=oi=null,d.updateQueue=null,uf.current=R9,u=y(S,A)}while(Ho)}if(uf.current=U0,d=oi!==null&&oi.next!==null,mo=0,Xn=oi=bn=null,Mu=!1,d)throw Error(r(300));return u}function go(){var u=Ou!==0;return Ou=0,u}function Ba(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?bn.memoizedState=Xn=u:Xn=Xn.next=u,Xn}function zs(){if(oi===null){var u=bn.alternate;u=u!==null?u.memoizedState:null}else u=oi.next;var d=Xn===null?bn.memoizedState:Xn.next;if(d!==null)Xn=d,oi=u;else{if(u===null)throw Error(r(310));oi=u,u={memoizedState:oi.memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},Xn===null?bn.memoizedState=Xn=u:Xn=Xn.next=u}return Xn}function Uh(u,d){return typeof d=="function"?d(u):d}function ff(u){var d=zs(),y=d.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=u;var S=oi,A=S.baseQueue,R=y.pending;if(R!==null){if(A!==null){var J=A.next;A.next=R.next,R.next=J}S.baseQueue=A=R,y.pending=null}if(A!==null){R=A.next,S=S.baseState;var me=J=null,xe=null,Pe=R;do{var He=Pe.lane;if((mo&He)===He)xe!==null&&(xe=xe.next={lane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),S=Pe.hasEagerState?Pe.eagerState:u(S,Pe.action);else{var Ke={lane:He,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null};xe===null?(me=xe=Ke,J=S):xe=xe.next=Ke,bn.lanes|=He,Wh|=He}Pe=Pe.next}while(Pe!==null&&Pe!==R);xe===null?J=S:xe.next=me,Pn(S,d.memoizedState)||(fa=!0),d.memoizedState=S,d.baseState=J,d.baseQueue=xe,y.lastRenderedState=S}if(u=y.interleaved,u!==null){A=u;do R=A.lane,bn.lanes|=R,Wh|=R,A=A.next;while(A!==u)}else A===null&&(y.lanes=0);return[d.memoizedState,y.dispatch]}function Dl(u){var d=zs(),y=d.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=u;var S=y.dispatch,A=y.pending,R=d.memoizedState;if(A!==null){y.pending=null;var J=A=A.next;do R=u(R,J.action),J=J.next;while(J!==A);Pn(R,d.memoizedState)||(fa=!0),d.memoizedState=R,d.baseQueue===null&&(d.baseState=R),y.lastRenderedState=R}return[R,S]}function B0(){}function xm(u,d){var y=bn,S=zs(),A=d(),R=!Pn(S.memoizedState,A);if(R&&(S.memoizedState=A,fa=!0),S=S.queue,gf($0.bind(null,y,S,u),[u]),S.getSnapshot!==d||R||Xn!==null&&Xn.memoizedState.tag&1){if(y.flags|=2048,Us(9,bm.bind(null,y,S,A,d),void 0,null),Ki===null)throw Error(r(349));(mo&30)!==0||F0(y,d,A)}return A}function F0(u,d,y){u.flags|=16384,u={getSnapshot:d,value:y},d=bn.updateQueue,d===null?(d={lastEffect:null,stores:null},bn.updateQueue=d,d.stores=[u]):(y=d.stores,y===null?d.stores=[u]:y.push(u))}function bm(u,d,y,S){d.value=y,d.getSnapshot=S,Iu(d)&&pf(u)}function $0(u,d,y){return y(function(){Iu(d)&&pf(u)})}function Iu(u){var d=u.getSnapshot;u=u.value;try{var y=d();return!Pn(u,y)}catch{return!0}}function pf(u){var d=an(u,1);d!==null&&Jo(d,u,1,-1)}function qh(u){var d=Ba();return typeof u=="function"&&(u=u()),d.memoizedState=d.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uh,lastRenderedState:u},d.queue=u,u=u.dispatch=j9.bind(null,bn,u),[d.memoizedState,u]}function Us(u,d,y,S){return u={tag:u,create:d,destroy:y,deps:S,next:null},d=bn.updateQueue,d===null?(d={lastEffect:null,stores:null},bn.updateQueue=d,d.lastEffect=u.next=u):(y=d.lastEffect,y===null?d.lastEffect=u.next=u:(S=y.next,y.next=u,u.next=S,d.lastEffect=u)),u}function Go(){return zs().memoizedState}function Fa(u,d,y,S){var A=Ba();bn.flags|=u,A.memoizedState=Us(1|d,y,void 0,S===void 0?null:S)}function Dc(u,d,y,S){var A=zs();S=S===void 0?null:S;var R=void 0;if(oi!==null){var J=oi.memoizedState;if(R=J.destroy,S!==null&&df(S,J.deps)){A.memoizedState=Us(d,y,R,S);return}}bn.flags|=u,A.memoizedState=Us(1|d,y,R,S)}function mf(u,d){return Fa(8390656,8,u,d)}function gf(u,d){return Dc(2048,8,u,d)}function z0(u,d){return Dc(4,2,u,d)}function yf(u,d){return Dc(4,4,u,d)}function vf(u,d){if(typeof d=="function")return u=u(),d(u),function(){d(null)};if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function $k(u,d,y){return y=y!=null?y.concat([u]):null,Dc(4,4,vf.bind(null,d,u),y)}function h2(){}function zk(u,d){var y=zs();d=d===void 0?null:d;var S=y.memoizedState;return S!==null&&d!==null&&df(d,S[1])?S[0]:(y.memoizedState=[u,d],u)}function Uk(u,d){var y=zs();d=d===void 0?null:d;var S=y.memoizedState;return S!==null&&d!==null&&df(d,S[1])?S[0]:(u=u(),y.memoizedState=[u,d],u)}function qk(u,d,y){return(mo&21)===0?(u.baseState&&(u.baseState=!1,fa=!0),u.memoizedState=y):(Pn(y,d)||(y=wh(),bn.lanes|=y,Wh|=y,u.baseState=!0),d)}function A9(u,d){var y=Ir;Ir=y!==0&&4>y?y:4,u(!0);var S=hf.transition;hf.transition={};try{u(!1),d()}finally{Ir=y,hf.transition=S}}function Wk(){return zs().memoizedState}function E9(u,d,y){var S=$u(u);if(y={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null},Vk(u))Hk(d,y);else if(y=Qr(u,d,y,S),y!==null){var A=Ws();Jo(y,u,S,A),Gk(y,d,S)}}function j9(u,d,y){var S=$u(u),A={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null};if(Vk(u))Hk(d,A);else{var R=u.alternate;if(u.lanes===0&&(R===null||R.lanes===0)&&(R=d.lastRenderedReducer,R!==null))try{var J=d.lastRenderedState,me=R(J,y);if(A.hasEagerState=!0,A.eagerState=me,Pn(me,J)){var xe=d.interleaved;xe===null?(A.next=A,Hi(d)):(A.next=xe.next,xe.next=A),d.interleaved=A;return}}catch{}finally{}y=Qr(u,d,A,S),y!==null&&(A=Ws(),Jo(y,u,S,A),Gk(y,d,S))}}function Vk(u){var d=u.alternate;return u===bn||d!==null&&d===bn}function Hk(u,d){Ho=Mu=!0;var y=u.pending;y===null?d.next=d:(d.next=y.next,y.next=d),u.pending=d}function Gk(u,d,y){if((y&4194240)!==0){var S=d.lanes;S&=u.pendingLanes,y|=S,d.lanes=y,fu(u,y)}}var U0={readContext:In,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},L9={readContext:In,useCallback:function(u,d){return Ba().memoizedState=[u,d===void 0?null:d],u},useContext:In,useEffect:mf,useImperativeHandle:function(u,d,y){return y=y!=null?y.concat([u]):null,Fa(4194308,4,vf.bind(null,d,u),y)},useLayoutEffect:function(u,d){return Fa(4194308,4,u,d)},useInsertionEffect:function(u,d){return Fa(4,2,u,d)},useMemo:function(u,d){var y=Ba();return d=d===void 0?null:d,u=u(),y.memoizedState=[u,d],u},useReducer:function(u,d,y){var S=Ba();return d=y!==void 0?y(d):d,S.memoizedState=S.baseState=d,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:d},S.queue=u,u=u.dispatch=E9.bind(null,bn,u),[S.memoizedState,u]},useRef:function(u){var d=Ba();return u={current:u},d.memoizedState=u},useState:qh,useDebugValue:h2,useDeferredValue:function(u){return Ba().memoizedState=u},useTransition:function(){var u=qh(!1),d=u[0];return u=A9.bind(null,u[1]),Ba().memoizedState=u,[d,u]},useMutableSource:function(){},useSyncExternalStore:function(u,d,y){var S=bn,A=Ba();if(Fe){if(y===void 0)throw Error(r(407));y=y()}else{if(y=d(),Ki===null)throw Error(r(349));(mo&30)!==0||F0(S,d,y)}A.memoizedState=y;var R={value:y,getSnapshot:d};return A.queue=R,mf($0.bind(null,S,R,u),[u]),S.flags|=2048,Us(9,bm.bind(null,S,R,y,d),void 0,null),y},useId:function(){var u=Ba(),d=Ki.identifierPrefix;if(Fe){var y=he,S=Ae;y=(S&~(1<<32-ti(S)-1)).toString(32)+y,d=":"+d+"R"+y,y=Ou++,0<y&&(d+="H"+y.toString(32)),d+=":"}else y=u2++,d=":"+d+"r"+y.toString(32)+":";return u.memoizedState=d},unstable_isNewReconciler:!1},P9={readContext:In,useCallback:zk,useContext:In,useEffect:gf,useImperativeHandle:$k,useInsertionEffect:z0,useLayoutEffect:yf,useMemo:Uk,useReducer:ff,useRef:Go,useState:function(){return ff(Uh)},useDebugValue:h2,useDeferredValue:function(u){var d=zs();return qk(d,oi.memoizedState,u)},useTransition:function(){var u=ff(Uh)[0],d=zs().memoizedState;return[u,d]},useMutableSource:B0,useSyncExternalStore:xm,useId:Wk,unstable_isNewReconciler:!1},R9={readContext:In,useCallback:zk,useContext:In,useEffect:gf,useImperativeHandle:$k,useInsertionEffect:z0,useLayoutEffect:yf,useMemo:Uk,useReducer:Dl,useRef:Go,useState:function(){return Dl(Uh)},useDebugValue:h2,useDeferredValue:function(u){var d=zs();return oi===null?d.memoizedState=u:qk(d,oi.memoizedState,u)},useTransition:function(){var u=Dl(Uh)[0],d=zs().memoizedState;return[u,d]},useMutableSource:B0,useSyncExternalStore:xm,useId:Wk,unstable_isNewReconciler:!1};function Yo(u,d){if(u&&u.defaultProps){d=pe({},d),u=u.defaultProps;for(var y in u)d[y]===void 0&&(d[y]=u[y]);return d}return d}function d2(u,d,y,S){d=u.memoizedState,y=y(S,d),y=y==null?d:pe({},d,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var q0={isMounted:function(u){return(u=u._reactInternals)?ei(u)===u:!1},enqueueSetState:function(u,d,y){u=u._reactInternals;var S=Ws(),A=$u(u),R=Gn(S,A);R.payload=d,y!=null&&(R.callback=y),d=Yn(u,R,A),d!==null&&(Jo(d,u,A,S),Gi(d,u,A))},enqueueReplaceState:function(u,d,y){u=u._reactInternals;var S=Ws(),A=$u(u),R=Gn(S,A);R.tag=1,R.payload=d,y!=null&&(R.callback=y),d=Yn(u,R,A),d!==null&&(Jo(d,u,A,S),Gi(d,u,A))},enqueueForceUpdate:function(u,d){u=u._reactInternals;var y=Ws(),S=$u(u),A=Gn(y,S);A.tag=2,d!=null&&(A.callback=d),d=Yn(u,A,S),d!==null&&(Jo(d,u,S,y),Gi(d,u,S))}};function Yk(u,d,y,S,A,R,J){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(S,R,J):d.prototype&&d.prototype.isPureReactComponent?!ps(y,S)||!ps(A,R):!0}function Kk(u,d,y){var S=!1,A=Ol,R=d.contextType;return typeof R=="object"&&R!==null?R=In(R):(A=vs(d)?Oc:Mi.current,S=d.contextTypes,R=(S=S!=null)?Pu(u,A):Ol),d=new d(y,R),u.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=q0,u.stateNode=d,d._reactInternals=u,S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=A,u.__reactInternalMemoizedMaskedChildContext=R),d}function Xk(u,d,y,S){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(y,S),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(y,S),d.state!==u&&q0.enqueueReplaceState(d,d.state,null)}function f2(u,d,y,S){var A=u.stateNode;A.props=y,A.state=u.memoizedState,A.refs={},Oi(u);var R=d.contextType;typeof R=="object"&&R!==null?A.context=In(R):(R=vs(d)?Oc:Mi.current,A.context=Pu(u,R)),A.state=u.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(d2(u,d,R,y),A.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(d=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),d!==A.state&&q0.enqueueReplaceState(A,A.state,null),Yi(u,y,A,S),A.state=u.memoizedState),typeof A.componentDidMount=="function"&&(u.flags|=4194308)}function xf(u,d){try{var y="",S=d;do y+=oe(S),S=S.return;while(S);var A=y}catch(R){A=`
Error generating stack: `+R.message+`
`+R.stack}return{value:u,source:d,stack:A,digest:null}}function p2(u,d,y){return{value:u,source:null,stack:y??null,digest:d??null}}function m2(u,d){try{console.error(d.value)}catch(y){setTimeout(function(){throw y})}}var M9=typeof WeakMap=="function"?WeakMap:Map;function Jk(u,d,y){y=Gn(-1,y),y.tag=3,y.payload={element:null};var S=d.value;return y.callback=function(){X0||(X0=!0,j2=S),m2(u,d)},y}function Zk(u,d,y){y=Gn(-1,y),y.tag=3;var S=u.type.getDerivedStateFromError;if(typeof S=="function"){var A=d.value;y.payload=function(){return S(A)},y.callback=function(){m2(u,d)}}var R=u.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(y.callback=function(){m2(u,d),typeof S!="function"&&(Bu===null?Bu=new Set([this]):Bu.add(this));var J=d.stack;this.componentDidCatch(d.value,{componentStack:J!==null?J:""})}),y}function Qk(u,d,y){var S=u.pingCache;if(S===null){S=u.pingCache=new M9;var A=new Set;S.set(d,A)}else A=S.get(d),A===void 0&&(A=new Set,S.set(d,A));A.has(y)||(A.add(y),u=Y9.bind(null,u,d,y),d.then(u,u))}function e3(u){do{var d;if((d=u.tag===13)&&(d=u.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return u;u=u.return}while(u!==null);return null}function t3(u,d,y,S,A){return(u.mode&1)===0?(u===d?u.flags|=65536:(u.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(d=Gn(-1,1),d.tag=2,Yn(y,d,1))),y.lanes|=1),u):(u.flags|=65536,u.lanes=A,u)}var O9=j.ReactCurrentOwner,fa=!1;function qs(u,d,y,S){d.child=u===null?Nn(d,null,y,S):si(d,u.child,y,S)}function r3(u,d,y,S,A){y=y.render;var R=d.ref;return On(d,A),S=zh(u,d,y,S,R,A),y=go(),u!==null&&!fa?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~A,Bc(u,d,A)):(Fe&&y&&Ie(d),d.flags|=1,qs(u,d,S,A),d.child)}function n3(u,d,y,S,A){if(u===null){var R=y.type;return typeof R=="function"&&!D2(R)&&R.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(d.tag=15,d.type=R,i3(u,d,R,S,A)):(u=ry(y.type,null,S,d,d.mode,A),u.ref=d.ref,u.return=d,d.child=u)}if(R=u.child,(u.lanes&A)===0){var J=R.memoizedProps;if(y=y.compare,y=y!==null?y:ps,y(J,S)&&u.ref===d.ref)return Bc(u,d,A)}return d.flags|=1,u=Uu(R,S),u.ref=d.ref,u.return=d,d.child=u}function i3(u,d,y,S,A){if(u!==null){var R=u.memoizedProps;if(ps(R,S)&&u.ref===d.ref)if(fa=!1,d.pendingProps=S=R,(u.lanes&A)!==0)(u.flags&131072)!==0&&(fa=!0);else return d.lanes=u.lanes,Bc(u,d,A)}return g2(u,d,y,S,A)}function s3(u,d,y){var S=d.pendingProps,A=S.children,R=u!==null?u.memoizedState:null;if(S.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zr(wf,$a),$a|=y;else{if((y&1073741824)===0)return u=R!==null?R.baseLanes|y:y,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:u,cachePool:null,transitions:null},d.updateQueue=null,Zr(wf,$a),$a|=u,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=R!==null?R.baseLanes:y,Zr(wf,$a),$a|=S}else R!==null?(S=R.baseLanes|y,d.memoizedState=null):S=y,Zr(wf,$a),$a|=S;return qs(u,d,A,y),d.child}function a3(u,d){var y=d.ref;(u===null&&y!==null||u!==null&&u.ref!==y)&&(d.flags|=512,d.flags|=2097152)}function g2(u,d,y,S,A){var R=vs(y)?Oc:Mi.current;return R=Pu(d,R),On(d,A),y=zh(u,d,y,S,R,A),S=go(),u!==null&&!fa?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~A,Bc(u,d,A)):(Fe&&S&&Ie(d),d.flags|=1,qs(u,d,y,A),d.child)}function o3(u,d,y,S,A){if(vs(y)){var R=!0;Ic(d)}else R=!1;if(On(d,A),d.stateNode===null)V0(u,d),Kk(d,y,S),f2(d,y,S,A),S=!0;else if(u===null){var J=d.stateNode,me=d.memoizedProps;J.props=me;var xe=J.context,Pe=y.contextType;typeof Pe=="object"&&Pe!==null?Pe=In(Pe):(Pe=vs(y)?Oc:Mi.current,Pe=Pu(d,Pe));var He=y.getDerivedStateFromProps,Ke=typeof He=="function"||typeof J.getSnapshotBeforeUpdate=="function";Ke||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(me!==S||xe!==Pe)&&Xk(d,J,S,Pe),ai=!1;var Ve=d.memoizedState;J.state=Ve,Yi(d,S,J,A),xe=d.memoizedState,me!==S||Ve!==xe||ys.current||ai?(typeof He=="function"&&(d2(d,y,He,S),xe=d.memoizedState),(me=ai||Yk(d,y,me,S,Ve,xe,Pe))?(Ke||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(d.flags|=4194308)):(typeof J.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=S,d.memoizedState=xe),J.props=S,J.state=xe,J.context=Pe,S=me):(typeof J.componentDidMount=="function"&&(d.flags|=4194308),S=!1)}else{J=d.stateNode,xs(u,d),me=d.memoizedProps,Pe=d.type===d.elementType?me:Yo(d.type,me),J.props=Pe,Ke=d.pendingProps,Ve=J.context,xe=y.contextType,typeof xe=="object"&&xe!==null?xe=In(xe):(xe=vs(y)?Oc:Mi.current,xe=Pu(d,xe));var at=y.getDerivedStateFromProps;(He=typeof at=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(me!==Ke||Ve!==xe)&&Xk(d,J,S,xe),ai=!1,Ve=d.memoizedState,J.state=Ve,Yi(d,S,J,A);var _t=d.memoizedState;me!==Ke||Ve!==_t||ys.current||ai?(typeof at=="function"&&(d2(d,y,at,S),_t=d.memoizedState),(Pe=ai||Yk(d,y,Pe,S,Ve,_t,xe)||!1)?(He||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(S,_t,xe),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(S,_t,xe)),typeof J.componentDidUpdate=="function"&&(d.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof J.componentDidUpdate!="function"||me===u.memoizedProps&&Ve===u.memoizedState||(d.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||me===u.memoizedProps&&Ve===u.memoizedState||(d.flags|=1024),d.memoizedProps=S,d.memoizedState=_t),J.props=S,J.state=_t,J.context=xe,S=Pe):(typeof J.componentDidUpdate!="function"||me===u.memoizedProps&&Ve===u.memoizedState||(d.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||me===u.memoizedProps&&Ve===u.memoizedState||(d.flags|=1024),S=!1)}return y2(u,d,y,S,R,A)}function y2(u,d,y,S,A,R){a3(u,d);var J=(d.flags&128)!==0;if(!S&&!J)return A&&I0(d,y,!1),Bc(u,d,R);S=d.stateNode,O9.current=d;var me=J&&typeof y.getDerivedStateFromError!="function"?null:S.render();return d.flags|=1,u!==null&&J?(d.child=si(d,u.child,null,R),d.child=si(d,null,me,R)):qs(u,d,me,R),d.memoizedState=S.state,A&&I0(d,y,!0),d.child}function l3(u){var d=u.stateNode;d.pendingContext?O0(u,d.pendingContext,d.pendingContext!==d.context):d.context&&O0(u,d.context,!1),Ru(u,d.containerInfo)}function c3(u,d,y,S,A){return ht(),Qe(A),d.flags|=256,qs(u,d,y,S),d.child}var v2={dehydrated:null,treeContext:null,retryLane:0};function x2(u){return{baseLanes:u,cachePool:null,transitions:null}}function u3(u,d,y){var S=d.pendingProps,A=mn.current,R=!1,J=(d.flags&128)!==0,me;if((me=J)||(me=u!==null&&u.memoizedState===null?!1:(A&2)!==0),me?(R=!0,d.flags&=-129):(u===null||u.memoizedState!==null)&&(A|=1),Zr(mn,A&1),u===null)return wt(d),u=d.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((d.mode&1)===0?d.lanes=1:u.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(J=S.children,u=S.fallback,R?(S=d.mode,R=d.child,J={mode:"hidden",children:J},(S&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=J):R=ny(J,S,0,null),u=Yh(u,S,y,null),R.return=d,u.return=d,R.sibling=u,d.child=R,d.child.memoizedState=x2(y),d.memoizedState=v2,u):b2(d,J));if(A=u.memoizedState,A!==null&&(me=A.dehydrated,me!==null))return I9(u,d,J,S,me,A,y);if(R){R=S.fallback,J=d.mode,A=u.child,me=A.sibling;var xe={mode:"hidden",children:S.children};return(J&1)===0&&d.child!==A?(S=d.child,S.childLanes=0,S.pendingProps=xe,d.deletions=null):(S=Uu(A,xe),S.subtreeFlags=A.subtreeFlags&14680064),me!==null?R=Uu(me,R):(R=Yh(R,J,y,null),R.flags|=2),R.return=d,S.return=d,S.sibling=R,d.child=S,S=R,R=d.child,J=u.child.memoizedState,J=J===null?x2(y):{baseLanes:J.baseLanes|y,cachePool:null,transitions:J.transitions},R.memoizedState=J,R.childLanes=u.childLanes&~y,d.memoizedState=v2,S}return R=u.child,u=R.sibling,S=Uu(R,{mode:"visible",children:S.children}),(d.mode&1)===0&&(S.lanes=y),S.return=d,S.sibling=null,u!==null&&(y=d.deletions,y===null?(d.deletions=[u],d.flags|=16):y.push(u)),d.child=S,d.memoizedState=null,S}function b2(u,d){return d=ny({mode:"visible",children:d},u.mode,0,null),d.return=u,u.child=d}function W0(u,d,y,S){return S!==null&&Qe(S),si(d,u.child,null,y),u=b2(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function I9(u,d,y,S,A,R,J){if(y)return d.flags&256?(d.flags&=-257,S=p2(Error(r(422))),W0(u,d,J,S)):d.memoizedState!==null?(d.child=u.child,d.flags|=128,null):(R=S.fallback,A=d.mode,S=ny({mode:"visible",children:S.children},A,0,null),R=Yh(R,A,J,null),R.flags|=2,S.return=d,R.return=d,S.sibling=R,d.child=S,(d.mode&1)!==0&&si(d,u.child,null,J),d.child.memoizedState=x2(J),d.memoizedState=v2,R);if((d.mode&1)===0)return W0(u,d,J,null);if(A.data==="$!"){if(S=A.nextSibling&&A.nextSibling.dataset,S)var me=S.dgst;return S=me,R=Error(r(419)),S=p2(R,S,void 0),W0(u,d,J,S)}if(me=(J&u.childLanes)!==0,fa||me){if(S=Ki,S!==null){switch(J&-J){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(S.suspendedLanes|J))!==0?0:A,A!==0&&A!==R.retryLane&&(R.retryLane=A,an(u,A),Jo(S,u,A,-1))}return I2(),S=p2(Error(r(421))),W0(u,d,J,S)}return A.data==="$?"?(d.flags|=128,d.child=u.child,d=K9.bind(null,u),A._reactRetry=d,null):(u=R.treeContext,Oe=ns(A.nextSibling),Me=d,Fe=!0,$e=null,u!==null&&(ae[ce++]=Ae,ae[ce++]=he,ae[ce++]=ve,Ae=u.id,he=u.overflow,ve=d),d=b2(d,S.children),d.flags|=4096,d)}function h3(u,d,y){u.lanes|=d;var S=u.alternate;S!==null&&(S.lanes|=d),qr(u.return,d,y)}function w2(u,d,y,S,A){var R=u.memoizedState;R===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:A}:(R.isBackwards=d,R.rendering=null,R.renderingStartTime=0,R.last=S,R.tail=y,R.tailMode=A)}function d3(u,d,y){var S=d.pendingProps,A=S.revealOrder,R=S.tail;if(qs(u,d,S.children,y),S=mn.current,(S&2)!==0)S=S&1|2,d.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&h3(u,y,d);else if(u.tag===19)h3(u,y,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}S&=1}if(Zr(mn,S),(d.mode&1)===0)d.memoizedState=null;else switch(A){case"forwards":for(y=d.child,A=null;y!==null;)u=y.alternate,u!==null&&Da(u)===null&&(A=y),y=y.sibling;y=A,y===null?(A=d.child,d.child=null):(A=y.sibling,y.sibling=null),w2(d,!1,A,y,R);break;case"backwards":for(y=null,A=d.child,d.child=null;A!==null;){if(u=A.alternate,u!==null&&Da(u)===null){d.child=A;break}u=A.sibling,A.sibling=y,y=A,A=u}w2(d,!0,y,null,R);break;case"together":w2(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function V0(u,d){(d.mode&1)===0&&u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2)}function Bc(u,d,y){if(u!==null&&(d.dependencies=u.dependencies),Wh|=d.lanes,(y&d.childLanes)===0)return null;if(u!==null&&d.child!==u.child)throw Error(r(153));if(d.child!==null){for(u=d.child,y=Uu(u,u.pendingProps),d.child=y,y.return=d;u.sibling!==null;)u=u.sibling,y=y.sibling=Uu(u,u.pendingProps),y.return=d;y.sibling=null}return d.child}function D9(u,d,y){switch(d.tag){case 3:l3(d),ht();break;case 5:D0(d);break;case 1:vs(d.type)&&Ic(d);break;case 4:Ru(d,d.stateNode.containerInfo);break;case 10:var S=d.type._context,A=d.memoizedProps.value;Zr(pi,S._currentValue),S._currentValue=A;break;case 13:if(S=d.memoizedState,S!==null)return S.dehydrated!==null?(Zr(mn,mn.current&1),d.flags|=128,null):(y&d.child.childLanes)!==0?u3(u,d,y):(Zr(mn,mn.current&1),u=Bc(u,d,y),u!==null?u.sibling:null);Zr(mn,mn.current&1);break;case 19:if(S=(y&d.childLanes)!==0,(u.flags&128)!==0){if(S)return d3(u,d,y);d.flags|=128}if(A=d.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Zr(mn,mn.current),S)break;return null;case 22:case 23:return d.lanes=0,s3(u,d,y)}return Bc(u,d,y)}var f3,_2,p3,m3;f3=function(u,d){for(var y=d.child;y!==null;){if(y.tag===5||y.tag===6)u.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===d)break;for(;y.sibling===null;){if(y.return===null||y.return===d)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},_2=function(){},p3=function(u,d,y,S){var A=u.memoizedProps;if(A!==S){u=d.stateNode,Vo(Ni.current);var R=null;switch(y){case"input":A=nt(u,A),S=nt(u,S),R=[];break;case"select":A=pe({},A,{value:void 0}),S=pe({},S,{value:void 0}),R=[];break;case"textarea":A=jt(u,A),S=jt(u,S),R=[];break;default:typeof A.onClick!="function"&&typeof S.onClick=="function"&&(u.onclick=Eu)}xr(y,S);var J;y=null;for(Pe in A)if(!S.hasOwnProperty(Pe)&&A.hasOwnProperty(Pe)&&A[Pe]!=null)if(Pe==="style"){var me=A[Pe];for(J in me)me.hasOwnProperty(J)&&(y||(y={}),y[J]="")}else Pe!=="dangerouslySetInnerHTML"&&Pe!=="children"&&Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&Pe!=="autoFocus"&&(i.hasOwnProperty(Pe)?R||(R=[]):(R=R||[]).push(Pe,null));for(Pe in S){var xe=S[Pe];if(me=A?.[Pe],S.hasOwnProperty(Pe)&&xe!==me&&(xe!=null||me!=null))if(Pe==="style")if(me){for(J in me)!me.hasOwnProperty(J)||xe&&xe.hasOwnProperty(J)||(y||(y={}),y[J]="");for(J in xe)xe.hasOwnProperty(J)&&me[J]!==xe[J]&&(y||(y={}),y[J]=xe[J])}else y||(R||(R=[]),R.push(Pe,y)),y=xe;else Pe==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,me=me?me.__html:void 0,xe!=null&&me!==xe&&(R=R||[]).push(Pe,xe)):Pe==="children"?typeof xe!="string"&&typeof xe!="number"||(R=R||[]).push(Pe,""+xe):Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Pe)?(xe!=null&&Pe==="onScroll"&&nn("scroll",u),R||me===xe||(R=[])):(R=R||[]).push(Pe,xe))}y&&(R=R||[]).push("style",y);var Pe=R;(d.updateQueue=Pe)&&(d.flags|=4)}},m3=function(u,d,y,S){y!==S&&(d.flags|=4)};function wm(u,d){if(!Fe)switch(u.tailMode){case"hidden":d=u.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:S.sibling=null}}function bs(u){var d=u.alternate!==null&&u.alternate.child===u.child,y=0,S=0;if(d)for(var A=u.child;A!==null;)y|=A.lanes|A.childLanes,S|=A.subtreeFlags&14680064,S|=A.flags&14680064,A.return=u,A=A.sibling;else for(A=u.child;A!==null;)y|=A.lanes|A.childLanes,S|=A.subtreeFlags,S|=A.flags,A.return=u,A=A.sibling;return u.subtreeFlags|=S,u.childLanes=y,d}function B9(u,d,y){var S=d.pendingProps;switch(je(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bs(d),null;case 1:return vs(d.type)&&cf(),bs(d),null;case 3:return S=d.stateNode,po(),Kr(ys),Kr(Mi),vm(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(u===null||u.child===null)&&(Mn(d)?d.flags|=4:u===null||u.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,$e!==null&&(R2($e),$e=null))),_2(u,d),bs(d),null;case 5:gm(d);var A=Vo(Il.current);if(y=d.type,u!==null&&d.stateNode!=null)p3(u,d,y,S,A),u.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!S){if(d.stateNode===null)throw Error(r(166));return bs(d),null}if(u=Vo(Ni.current),Mn(d)){S=d.stateNode,y=d.type;var R=d.memoizedProps;switch(S[fo]=d,S[ju]=R,u=(d.mode&1)!==0,y){case"dialog":nn("cancel",S),nn("close",S);break;case"iframe":case"object":case"embed":nn("load",S);break;case"video":case"audio":for(A=0;A<Rl.length;A++)nn(Rl[A],S);break;case"source":nn("error",S);break;case"img":case"image":case"link":nn("error",S),nn("load",S);break;case"details":nn("toggle",S);break;case"input":le(S,R),nn("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!R.multiple},nn("invalid",S);break;case"textarea":dt(S,R),nn("invalid",S)}xr(y,R),A=null;for(var J in R)if(R.hasOwnProperty(J)){var me=R[J];J==="children"?typeof me=="string"?S.textContent!==me&&(R.suppressHydrationWarning!==!0&&lf(S.textContent,me,u),A=["children",me]):typeof me=="number"&&S.textContent!==""+me&&(R.suppressHydrationWarning!==!0&&lf(S.textContent,me,u),A=["children",""+me]):i.hasOwnProperty(J)&&me!=null&&J==="onScroll"&&nn("scroll",S)}switch(y){case"input":De(S),vt(S,R,!0);break;case"textarea":De(S),or(S);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(S.onclick=Eu)}S=A,d.updateQueue=S,S!==null&&(d.flags|=4)}else{J=A.nodeType===9?A:A.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=mt(y)),u==="http://www.w3.org/1999/xhtml"?y==="script"?(u=J.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof S.is=="string"?u=J.createElement(y,{is:S.is}):(u=J.createElement(y),y==="select"&&(J=u,S.multiple?J.multiple=!0:S.size&&(J.size=S.size))):u=J.createElementNS(u,y),u[fo]=d,u[ju]=S,f3(u,d,!1,!1),d.stateNode=u;e:{switch(J=Tt(y,S),y){case"dialog":nn("cancel",u),nn("close",u),A=S;break;case"iframe":case"object":case"embed":nn("load",u),A=S;break;case"video":case"audio":for(A=0;A<Rl.length;A++)nn(Rl[A],u);A=S;break;case"source":nn("error",u),A=S;break;case"img":case"image":case"link":nn("error",u),nn("load",u),A=S;break;case"details":nn("toggle",u),A=S;break;case"input":le(u,S),A=nt(u,S),nn("invalid",u);break;case"option":A=S;break;case"select":u._wrapperState={wasMultiple:!!S.multiple},A=pe({},S,{value:void 0}),nn("invalid",u);break;case"textarea":dt(u,S),A=jt(u,S),nn("invalid",u);break;default:A=S}xr(y,A),me=A;for(R in me)if(me.hasOwnProperty(R)){var xe=me[R];R==="style"?Vt(u,xe):R==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,xe!=null&&ft(u,xe)):R==="children"?typeof xe=="string"?(y!=="textarea"||xe!=="")&&zt(u,xe):typeof xe=="number"&&zt(u,""+xe):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(i.hasOwnProperty(R)?xe!=null&&R==="onScroll"&&nn("scroll",u):xe!=null&&N(u,R,xe,J))}switch(y){case"input":De(u),vt(u,S,!1);break;case"textarea":De(u),or(u);break;case"option":S.value!=null&&u.setAttribute("value",""+be(S.value));break;case"select":u.multiple=!!S.multiple,R=S.value,R!=null?tt(u,!!S.multiple,R,!1):S.defaultValue!=null&&tt(u,!!S.multiple,S.defaultValue,!0);break;default:typeof A.onClick=="function"&&(u.onclick=Eu)}switch(y){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return bs(d),null;case 6:if(u&&d.stateNode!=null)m3(u,d,u.memoizedProps,S);else{if(typeof S!="string"&&d.stateNode===null)throw Error(r(166));if(y=Vo(Il.current),Vo(Ni.current),Mn(d)){if(S=d.stateNode,y=d.memoizedProps,S[fo]=d,(R=S.nodeValue!==y)&&(u=Me,u!==null))switch(u.tag){case 3:lf(S.nodeValue,y,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&lf(S.nodeValue,y,(u.mode&1)!==0)}R&&(d.flags|=4)}else S=(y.nodeType===9?y:y.ownerDocument).createTextNode(S),S[fo]=d,d.stateNode=S}return bs(d),null;case 13:if(Kr(mn),S=d.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Fe&&Oe!==null&&(d.mode&1)!==0&&(d.flags&128)===0)yr(),ht(),d.flags|=98560,R=!1;else if(R=Mn(d),S!==null&&S.dehydrated!==null){if(u===null){if(!R)throw Error(r(318));if(R=d.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[fo]=d}else ht(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;bs(d),R=!1}else $e!==null&&(R2($e),$e=null),R=!0;if(!R)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=y,d):(S=S!==null,S!==(u!==null&&u.memoizedState!==null)&&S&&(d.child.flags|=8192,(d.mode&1)!==0&&(u===null||(mn.current&1)!==0?Ii===0&&(Ii=3):I2())),d.updateQueue!==null&&(d.flags|=4),bs(d),null);case 4:return po(),_2(u,d),u===null&&Lc(d.stateNode.containerInfo),bs(d),null;case 10:return xn(d.type._context),bs(d),null;case 17:return vs(d.type)&&cf(),bs(d),null;case 19:if(Kr(mn),R=d.memoizedState,R===null)return bs(d),null;if(S=(d.flags&128)!==0,J=R.rendering,J===null)if(S)wm(R,!1);else{if(Ii!==0||u!==null&&(u.flags&128)!==0)for(u=d.child;u!==null;){if(J=Da(u),J!==null){for(d.flags|=128,wm(R,!1),S=J.updateQueue,S!==null&&(d.updateQueue=S,d.flags|=4),d.subtreeFlags=0,S=y,y=d.child;y!==null;)R=y,u=S,R.flags&=14680066,J=R.alternate,J===null?(R.childLanes=0,R.lanes=u,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=J.childLanes,R.lanes=J.lanes,R.child=J.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=J.memoizedProps,R.memoizedState=J.memoizedState,R.updateQueue=J.updateQueue,R.type=J.type,u=J.dependencies,R.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),y=y.sibling;return Zr(mn,mn.current&1|2),d.child}u=u.sibling}R.tail!==null&&gr()>_f&&(d.flags|=128,S=!0,wm(R,!1),d.lanes=4194304)}else{if(!S)if(u=Da(J),u!==null){if(d.flags|=128,S=!0,y=u.updateQueue,y!==null&&(d.updateQueue=y,d.flags|=4),wm(R,!0),R.tail===null&&R.tailMode==="hidden"&&!J.alternate&&!Fe)return bs(d),null}else 2*gr()-R.renderingStartTime>_f&&y!==1073741824&&(d.flags|=128,S=!0,wm(R,!1),d.lanes=4194304);R.isBackwards?(J.sibling=d.child,d.child=J):(y=R.last,y!==null?y.sibling=J:d.child=J,R.last=J)}return R.tail!==null?(d=R.tail,R.rendering=d,R.tail=d.sibling,R.renderingStartTime=gr(),d.sibling=null,y=mn.current,Zr(mn,S?y&1|2:y&1),d):(bs(d),null);case 22:case 23:return O2(),S=d.memoizedState!==null,u!==null&&u.memoizedState!==null!==S&&(d.flags|=8192),S&&(d.mode&1)!==0?($a&1073741824)!==0&&(bs(d),d.subtreeFlags&6&&(d.flags|=8192)):bs(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function F9(u,d){switch(je(d),d.tag){case 1:return vs(d.type)&&cf(),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return po(),Kr(ys),Kr(Mi),vm(),u=d.flags,(u&65536)!==0&&(u&128)===0?(d.flags=u&-65537|128,d):null;case 5:return gm(d),null;case 13:if(Kr(mn),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(r(340));ht()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return Kr(mn),null;case 4:return po(),null;case 10:return xn(d.type._context),null;case 22:case 23:return O2(),null;case 24:return null;default:return null}}var H0=!1,ws=!1,$9=typeof WeakSet=="function"?WeakSet:Set,yt=null;function bf(u,d){var y=u.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(S){li(u,d,S)}else y.current=null}function S2(u,d,y){try{y()}catch(S){li(u,d,S)}}var g3=!1;function z9(u,d){if(Bh=yu,u=ii(),Ma(u)){if("selectionStart"in u)var y={start:u.selectionStart,end:u.selectionEnd};else e:{y=(y=u.ownerDocument)&&y.defaultView||window;var S=y.getSelection&&y.getSelection();if(S&&S.rangeCount!==0){y=S.anchorNode;var A=S.anchorOffset,R=S.focusNode;S=S.focusOffset;try{y.nodeType,R.nodeType}catch{y=null;break e}var J=0,me=-1,xe=-1,Pe=0,He=0,Ke=u,Ve=null;t:for(;;){for(var at;Ke!==y||A!==0&&Ke.nodeType!==3||(me=J+A),Ke!==R||S!==0&&Ke.nodeType!==3||(xe=J+S),Ke.nodeType===3&&(J+=Ke.nodeValue.length),(at=Ke.firstChild)!==null;)Ve=Ke,Ke=at;for(;;){if(Ke===u)break t;if(Ve===y&&++Pe===A&&(me=J),Ve===R&&++He===S&&(xe=J),(at=Ke.nextSibling)!==null)break;Ke=Ve,Ve=Ke.parentNode}Ke=at}y=me===-1||xe===-1?null:{start:me,end:xe}}else y=null}y=y||{start:0,end:0}}else y=null;for(Rc={focusedElem:u,selectionRange:y},yu=!1,yt=d;yt!==null;)if(d=yt,u=d.child,(d.subtreeFlags&1028)!==0&&u!==null)u.return=d,yt=u;else for(;yt!==null;){d=yt;try{var _t=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(_t!==null){var Lt=_t.memoizedProps,gi=_t.memoizedState,Ee=d.stateNode,_e=Ee.getSnapshotBeforeUpdate(d.elementType===d.type?Lt:Yo(d.type,Lt),gi);Ee.__reactInternalSnapshotBeforeUpdate=_e}break;case 3:var Le=d.stateNode.containerInfo;Le.nodeType===1?Le.textContent="":Le.nodeType===9&&Le.documentElement&&Le.removeChild(Le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Je){li(d,d.return,Je)}if(u=d.sibling,u!==null){u.return=d.return,yt=u;break}yt=d.return}return _t=g3,g3=!1,_t}function _m(u,d,y){var S=d.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var A=S=S.next;do{if((A.tag&u)===u){var R=A.destroy;A.destroy=void 0,R!==void 0&&S2(d,y,R)}A=A.next}while(A!==S)}}function G0(u,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var y=d=d.next;do{if((y.tag&u)===u){var S=y.create;y.destroy=S()}y=y.next}while(y!==d)}}function C2(u){var d=u.ref;if(d!==null){var y=u.stateNode;switch(u.tag){case 5:u=y;break;default:u=y}typeof d=="function"?d(u):d.current=u}}function y3(u){var d=u.alternate;d!==null&&(u.alternate=null,y3(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&(delete d[fo],delete d[ju],delete d[gs],delete d[l2],delete d[c2])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function v3(u){return u.tag===5||u.tag===3||u.tag===4}function x3(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||v3(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function k2(u,d,y){var S=u.tag;if(S===5||S===6)u=u.stateNode,d?y.nodeType===8?y.parentNode.insertBefore(u,d):y.insertBefore(u,d):(y.nodeType===8?(d=y.parentNode,d.insertBefore(u,y)):(d=y,d.appendChild(u)),y=y._reactRootContainer,y!=null||d.onclick!==null||(d.onclick=Eu));else if(S!==4&&(u=u.child,u!==null))for(k2(u,d,y),u=u.sibling;u!==null;)k2(u,d,y),u=u.sibling}function N2(u,d,y){var S=u.tag;if(S===5||S===6)u=u.stateNode,d?y.insertBefore(u,d):y.appendChild(u);else if(S!==4&&(u=u.child,u!==null))for(N2(u,d,y),u=u.sibling;u!==null;)N2(u,d,y),u=u.sibling}var is=null,Ko=!1;function Du(u,d,y){for(y=y.child;y!==null;)b3(u,d,y),y=y.sibling}function b3(u,d,y){if(qi&&typeof qi.onCommitFiberUnmount=="function")try{qi.onCommitFiberUnmount(to,y)}catch{}switch(y.tag){case 5:ws||bf(y,d);case 6:var S=is,A=Ko;is=null,Du(u,d,y),is=S,Ko=A,is!==null&&(Ko?(u=is,y=y.stateNode,u.nodeType===8?u.parentNode.removeChild(y):u.removeChild(y)):is.removeChild(y.stateNode));break;case 18:is!==null&&(Ko?(u=is,y=y.stateNode,u.nodeType===8?fm(u.parentNode,y):u.nodeType===1&&fm(u,y),gc(u)):fm(is,y.stateNode));break;case 4:S=is,A=Ko,is=y.stateNode.containerInfo,Ko=!0,Du(u,d,y),is=S,Ko=A;break;case 0:case 11:case 14:case 15:if(!ws&&(S=y.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){A=S=S.next;do{var R=A,J=R.destroy;R=R.tag,J!==void 0&&((R&2)!==0||(R&4)!==0)&&S2(y,d,J),A=A.next}while(A!==S)}Du(u,d,y);break;case 1:if(!ws&&(bf(y,d),S=y.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=y.memoizedProps,S.state=y.memoizedState,S.componentWillUnmount()}catch(me){li(y,d,me)}Du(u,d,y);break;case 21:Du(u,d,y);break;case 22:y.mode&1?(ws=(S=ws)||y.memoizedState!==null,Du(u,d,y),ws=S):Du(u,d,y);break;default:Du(u,d,y)}}function w3(u){var d=u.updateQueue;if(d!==null){u.updateQueue=null;var y=u.stateNode;y===null&&(y=u.stateNode=new $9),d.forEach(function(S){var A=X9.bind(null,u,S);y.has(S)||(y.add(S),S.then(A,A))})}}function Xo(u,d){var y=d.deletions;if(y!==null)for(var S=0;S<y.length;S++){var A=y[S];try{var R=u,J=d,me=J;e:for(;me!==null;){switch(me.tag){case 5:is=me.stateNode,Ko=!1;break e;case 3:is=me.stateNode.containerInfo,Ko=!0;break e;case 4:is=me.stateNode.containerInfo,Ko=!0;break e}me=me.return}if(is===null)throw Error(r(160));b3(R,J,A),is=null,Ko=!1;var xe=A.alternate;xe!==null&&(xe.return=null),A.return=null}catch(Pe){li(A,d,Pe)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)_3(d,u),d=d.sibling}function _3(u,d){var y=u.alternate,S=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Xo(d,u),Bl(u),S&4){try{_m(3,u,u.return),G0(3,u)}catch(Lt){li(u,u.return,Lt)}try{_m(5,u,u.return)}catch(Lt){li(u,u.return,Lt)}}break;case 1:Xo(d,u),Bl(u),S&512&&y!==null&&bf(y,y.return);break;case 5:if(Xo(d,u),Bl(u),S&512&&y!==null&&bf(y,y.return),u.flags&32){var A=u.stateNode;try{zt(A,"")}catch(Lt){li(u,u.return,Lt)}}if(S&4&&(A=u.stateNode,A!=null)){var R=u.memoizedProps,J=y!==null?y.memoizedProps:R,me=u.type,xe=u.updateQueue;if(u.updateQueue=null,xe!==null)try{me==="input"&&R.type==="radio"&&R.name!=null&&Ze(A,R),Tt(me,J);var Pe=Tt(me,R);for(J=0;J<xe.length;J+=2){var He=xe[J],Ke=xe[J+1];He==="style"?Vt(A,Ke):He==="dangerouslySetInnerHTML"?ft(A,Ke):He==="children"?zt(A,Ke):N(A,He,Ke,Pe)}switch(me){case"input":er(A,R);break;case"textarea":_r(A,R);break;case"select":var Ve=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!R.multiple;var at=R.value;at!=null?tt(A,!!R.multiple,at,!1):Ve!==!!R.multiple&&(R.defaultValue!=null?tt(A,!!R.multiple,R.defaultValue,!0):tt(A,!!R.multiple,R.multiple?[]:"",!1))}A[ju]=R}catch(Lt){li(u,u.return,Lt)}}break;case 6:if(Xo(d,u),Bl(u),S&4){if(u.stateNode===null)throw Error(r(162));A=u.stateNode,R=u.memoizedProps;try{A.nodeValue=R}catch(Lt){li(u,u.return,Lt)}}break;case 3:if(Xo(d,u),Bl(u),S&4&&y!==null&&y.memoizedState.isDehydrated)try{gc(d.containerInfo)}catch(Lt){li(u,u.return,Lt)}break;case 4:Xo(d,u),Bl(u);break;case 13:Xo(d,u),Bl(u),A=u.child,A.flags&8192&&(R=A.memoizedState!==null,A.stateNode.isHidden=R,!R||A.alternate!==null&&A.alternate.memoizedState!==null||(E2=gr())),S&4&&w3(u);break;case 22:if(He=y!==null&&y.memoizedState!==null,u.mode&1?(ws=(Pe=ws)||He,Xo(d,u),ws=Pe):Xo(d,u),Bl(u),S&8192){if(Pe=u.memoizedState!==null,(u.stateNode.isHidden=Pe)&&!He&&(u.mode&1)!==0)for(yt=u,He=u.child;He!==null;){for(Ke=yt=He;yt!==null;){switch(Ve=yt,at=Ve.child,Ve.tag){case 0:case 11:case 14:case 15:_m(4,Ve,Ve.return);break;case 1:bf(Ve,Ve.return);var _t=Ve.stateNode;if(typeof _t.componentWillUnmount=="function"){S=Ve,y=Ve.return;try{d=S,_t.props=d.memoizedProps,_t.state=d.memoizedState,_t.componentWillUnmount()}catch(Lt){li(S,y,Lt)}}break;case 5:bf(Ve,Ve.return);break;case 22:if(Ve.memoizedState!==null){k3(Ke);continue}}at!==null?(at.return=Ve,yt=at):k3(Ke)}He=He.sibling}e:for(He=null,Ke=u;;){if(Ke.tag===5){if(He===null){He=Ke;try{A=Ke.stateNode,Pe?(R=A.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(me=Ke.stateNode,xe=Ke.memoizedProps.style,J=xe!=null&&xe.hasOwnProperty("display")?xe.display:null,me.style.display=fr("display",J))}catch(Lt){li(u,u.return,Lt)}}}else if(Ke.tag===6){if(He===null)try{Ke.stateNode.nodeValue=Pe?"":Ke.memoizedProps}catch(Lt){li(u,u.return,Lt)}}else if((Ke.tag!==22&&Ke.tag!==23||Ke.memoizedState===null||Ke===u)&&Ke.child!==null){Ke.child.return=Ke,Ke=Ke.child;continue}if(Ke===u)break e;for(;Ke.sibling===null;){if(Ke.return===null||Ke.return===u)break e;He===Ke&&(He=null),Ke=Ke.return}He===Ke&&(He=null),Ke.sibling.return=Ke.return,Ke=Ke.sibling}}break;case 19:Xo(d,u),Bl(u),S&4&&w3(u);break;case 21:break;default:Xo(d,u),Bl(u)}}function Bl(u){var d=u.flags;if(d&2){try{e:{for(var y=u.return;y!==null;){if(v3(y)){var S=y;break e}y=y.return}throw Error(r(160))}switch(S.tag){case 5:var A=S.stateNode;S.flags&32&&(zt(A,""),S.flags&=-33);var R=x3(u);N2(u,R,A);break;case 3:case 4:var J=S.stateNode.containerInfo,me=x3(u);k2(u,me,J);break;default:throw Error(r(161))}}catch(xe){li(u,u.return,xe)}u.flags&=-3}d&4096&&(u.flags&=-4097)}function U9(u,d,y){yt=u,S3(u)}function S3(u,d,y){for(var S=(u.mode&1)!==0;yt!==null;){var A=yt,R=A.child;if(A.tag===22&&S){var J=A.memoizedState!==null||H0;if(!J){var me=A.alternate,xe=me!==null&&me.memoizedState!==null||ws;me=H0;var Pe=ws;if(H0=J,(ws=xe)&&!Pe)for(yt=A;yt!==null;)J=yt,xe=J.child,J.tag===22&&J.memoizedState!==null?N3(A):xe!==null?(xe.return=J,yt=xe):N3(A);for(;R!==null;)yt=R,S3(R),R=R.sibling;yt=A,H0=me,ws=Pe}C3(u)}else(A.subtreeFlags&8772)!==0&&R!==null?(R.return=A,yt=R):C3(u)}}function C3(u){for(;yt!==null;){var d=yt;if((d.flags&8772)!==0){var y=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:ws||G0(5,d);break;case 1:var S=d.stateNode;if(d.flags&4&&!ws)if(y===null)S.componentDidMount();else{var A=d.elementType===d.type?y.memoizedProps:Yo(d.type,y.memoizedProps);S.componentDidUpdate(A,y.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var R=d.updateQueue;R!==null&&da(d,R,S);break;case 3:var J=d.updateQueue;if(J!==null){if(y=null,d.child!==null)switch(d.child.tag){case 5:y=d.child.stateNode;break;case 1:y=d.child.stateNode}da(d,J,y)}break;case 5:var me=d.stateNode;if(y===null&&d.flags&4){y=me;var xe=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":xe.autoFocus&&y.focus();break;case"img":xe.src&&(y.src=xe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var Pe=d.alternate;if(Pe!==null){var He=Pe.memoizedState;if(He!==null){var Ke=He.dehydrated;Ke!==null&&gc(Ke)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ws||d.flags&512&&C2(d)}catch(Ve){li(d,d.return,Ve)}}if(d===u){yt=null;break}if(y=d.sibling,y!==null){y.return=d.return,yt=y;break}yt=d.return}}function k3(u){for(;yt!==null;){var d=yt;if(d===u){yt=null;break}var y=d.sibling;if(y!==null){y.return=d.return,yt=y;break}yt=d.return}}function N3(u){for(;yt!==null;){var d=yt;try{switch(d.tag){case 0:case 11:case 15:var y=d.return;try{G0(4,d)}catch(xe){li(d,y,xe)}break;case 1:var S=d.stateNode;if(typeof S.componentDidMount=="function"){var A=d.return;try{S.componentDidMount()}catch(xe){li(d,A,xe)}}var R=d.return;try{C2(d)}catch(xe){li(d,R,xe)}break;case 5:var J=d.return;try{C2(d)}catch(xe){li(d,J,xe)}}}catch(xe){li(d,d.return,xe)}if(d===u){yt=null;break}var me=d.sibling;if(me!==null){me.return=d.return,yt=me;break}yt=d.return}}var q9=Math.ceil,Y0=j.ReactCurrentDispatcher,T2=j.ReactCurrentOwner,yo=j.ReactCurrentBatchConfig,Wr=0,Ki=null,Ti=null,ss=0,$a=0,wf=Oa(0),Ii=0,Sm=null,Wh=0,K0=0,A2=0,Cm=null,pa=null,E2=0,_f=1/0,Fc=null,X0=!1,j2=null,Bu=null,J0=!1,Fu=null,Z0=0,km=0,L2=null,Q0=-1,ey=0;function Ws(){return(Wr&6)!==0?gr():Q0!==-1?Q0:Q0=gr()}function $u(u){return(u.mode&1)===0?1:(Wr&2)!==0&&ss!==0?ss&-ss:Hn.transition!==null?(ey===0&&(ey=wh()),ey):(u=Ir,u!==0||(u=window.event,u=u===void 0?16:vc(u.type)),u)}function Jo(u,d,y,S){if(50<km)throw km=0,L2=null,Error(r(185));dc(u,y,S),((Wr&2)===0||u!==Ki)&&(u===Ki&&((Wr&2)===0&&(K0|=y),Ii===4&&zu(u,ss)),ma(u,S),y===1&&Wr===0&&(d.mode&1)===0&&(_f=gr()+500,$h&&I()))}function ma(u,d){var y=u.callbackNode;di(u,d);var S=hc(u,u===Ki?ss:0);if(S===0)y!==null&&Ge(y),u.callbackNode=null,u.callbackPriority=0;else if(d=S&-S,u.callbackPriority!==d){if(y!=null&&Ge(y),d===1)u.tag===0?L(A3.bind(null,u)):C(A3.bind(null,u)),a2(function(){(Wr&6)===0&&I()}),y=null;else{switch(fc(S)){case 1:y=qn;break;case 4:y=Cn;break;case 16:y=es;break;case 536870912:y=yn;break;default:y=es}y=I3(y,T3.bind(null,u))}u.callbackPriority=d,u.callbackNode=y}}function T3(u,d){if(Q0=-1,ey=0,(Wr&6)!==0)throw Error(r(327));var y=u.callbackNode;if(Sf()&&u.callbackNode!==y)return null;var S=hc(u,u===Ki?ss:0);if(S===0)return null;if((S&30)!==0||(S&u.expiredLanes)!==0||d)d=ty(u,S);else{d=S;var A=Wr;Wr|=2;var R=j3();(Ki!==u||ss!==d)&&(Fc=null,_f=gr()+500,Hh(u,d));do try{H9();break}catch(me){E3(u,me)}while(!0);Ur(),Y0.current=R,Wr=A,Ti!==null?d=0:(Ki=null,ss=0,d=Ii)}if(d!==0){if(d===2&&(A=Ea(u),A!==0&&(S=A,d=P2(u,A))),d===1)throw y=Sm,Hh(u,0),zu(u,S),ma(u,gr()),y;if(d===6)zu(u,S);else{if(A=u.current.alternate,(S&30)===0&&!W9(A)&&(d=ty(u,S),d===2&&(R=Ea(u),R!==0&&(S=R,d=P2(u,R))),d===1))throw y=Sm,Hh(u,0),zu(u,S),ma(u,gr()),y;switch(u.finishedWork=A,u.finishedLanes=S,d){case 0:case 1:throw Error(r(345));case 2:Gh(u,pa,Fc);break;case 3:if(zu(u,S),(S&130023424)===S&&(d=E2+500-gr(),10<d)){if(hc(u,0)!==0)break;if(A=u.suspendedLanes,(A&S)!==S){Ws(),u.pingedLanes|=u.suspendedLanes&A;break}u.timeoutHandle=dm(Gh.bind(null,u,pa,Fc),d);break}Gh(u,pa,Fc);break;case 4:if(zu(u,S),(S&4194240)===S)break;for(d=u.eventTimes,A=-1;0<S;){var J=31-ti(S);R=1<<J,J=d[J],J>A&&(A=J),S&=~R}if(S=A,S=gr()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*q9(S/1960))-S,10<S){u.timeoutHandle=dm(Gh.bind(null,u,pa,Fc),S);break}Gh(u,pa,Fc);break;case 5:Gh(u,pa,Fc);break;default:throw Error(r(329))}}}return ma(u,gr()),u.callbackNode===y?T3.bind(null,u):null}function P2(u,d){var y=Cm;return u.current.memoizedState.isDehydrated&&(Hh(u,d).flags|=256),u=ty(u,d),u!==2&&(d=pa,pa=y,d!==null&&R2(d)),u}function R2(u){pa===null?pa=u:pa.push.apply(pa,u)}function W9(u){for(var d=u;;){if(d.flags&16384){var y=d.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var S=0;S<y.length;S++){var A=y[S],R=A.getSnapshot;A=A.value;try{if(!Pn(R(),A))return!1}catch{return!1}}}if(y=d.child,d.subtreeFlags&16384&&y!==null)y.return=d,d=y;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function zu(u,d){for(d&=~A2,d&=~K0,u.suspendedLanes|=d,u.pingedLanes&=~d,u=u.expirationTimes;0<d;){var y=31-ti(d),S=1<<y;u[y]=-1,d&=~S}}function A3(u){if((Wr&6)!==0)throw Error(r(327));Sf();var d=hc(u,0);if((d&1)===0)return ma(u,gr()),null;var y=ty(u,d);if(u.tag!==0&&y===2){var S=Ea(u);S!==0&&(d=S,y=P2(u,S))}if(y===1)throw y=Sm,Hh(u,0),zu(u,d),ma(u,gr()),y;if(y===6)throw Error(r(345));return u.finishedWork=u.current.alternate,u.finishedLanes=d,Gh(u,pa,Fc),ma(u,gr()),null}function M2(u,d){var y=Wr;Wr|=1;try{return u(d)}finally{Wr=y,Wr===0&&(_f=gr()+500,$h&&I())}}function Vh(u){Fu!==null&&Fu.tag===0&&(Wr&6)===0&&Sf();var d=Wr;Wr|=1;var y=yo.transition,S=Ir;try{if(yo.transition=null,Ir=1,u)return u()}finally{Ir=S,yo.transition=y,Wr=d,(Wr&6)===0&&I()}}function O2(){$a=wf.current,Kr(wf)}function Hh(u,d){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;if(y!==-1&&(u.timeoutHandle=-1,R0(y)),Ti!==null)for(y=Ti.return;y!==null;){var S=y;switch(je(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&cf();break;case 3:po(),Kr(ys),Kr(Mi),vm();break;case 5:gm(S);break;case 4:po();break;case 13:Kr(mn);break;case 19:Kr(mn);break;case 10:xn(S.type._context);break;case 22:case 23:O2()}y=y.return}if(Ki=u,Ti=u=Uu(u.current,null),ss=$a=d,Ii=0,Sm=null,A2=K0=Wh=0,pa=Cm=null,sn!==null){for(d=0;d<sn.length;d++)if(y=sn[d],S=y.interleaved,S!==null){y.interleaved=null;var A=S.next,R=y.pending;if(R!==null){var J=R.next;R.next=A,S.next=J}y.pending=S}sn=null}return u}function E3(u,d){do{var y=Ti;try{if(Ur(),uf.current=U0,Mu){for(var S=bn.memoizedState;S!==null;){var A=S.queue;A!==null&&(A.pending=null),S=S.next}Mu=!1}if(mo=0,Xn=oi=bn=null,Ho=!1,Ou=0,T2.current=null,y===null||y.return===null){Ii=1,Sm=d,Ti=null;break}e:{var R=u,J=y.return,me=y,xe=d;if(d=ss,me.flags|=32768,xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var Pe=xe,He=me,Ke=He.tag;if((He.mode&1)===0&&(Ke===0||Ke===11||Ke===15)){var Ve=He.alternate;Ve?(He.updateQueue=Ve.updateQueue,He.memoizedState=Ve.memoizedState,He.lanes=Ve.lanes):(He.updateQueue=null,He.memoizedState=null)}var at=e3(J);if(at!==null){at.flags&=-257,t3(at,J,me,R,d),at.mode&1&&Qk(R,Pe,d),d=at,xe=Pe;var _t=d.updateQueue;if(_t===null){var Lt=new Set;Lt.add(xe),d.updateQueue=Lt}else _t.add(xe);break e}else{if((d&1)===0){Qk(R,Pe,d),I2();break e}xe=Error(r(426))}}else if(Fe&&me.mode&1){var gi=e3(J);if(gi!==null){(gi.flags&65536)===0&&(gi.flags|=256),t3(gi,J,me,R,d),Qe(xf(xe,me));break e}}R=xe=xf(xe,me),Ii!==4&&(Ii=2),Cm===null?Cm=[R]:Cm.push(R),R=J;do{switch(R.tag){case 3:R.flags|=65536,d&=-d,R.lanes|=d;var Ee=Jk(R,xe,d);on(R,Ee);break e;case 1:me=xe;var _e=R.type,Le=R.stateNode;if((R.flags&128)===0&&(typeof _e.getDerivedStateFromError=="function"||Le!==null&&typeof Le.componentDidCatch=="function"&&(Bu===null||!Bu.has(Le)))){R.flags|=65536,d&=-d,R.lanes|=d;var Je=Zk(R,me,d);on(R,Je);break e}}R=R.return}while(R!==null)}P3(y)}catch(Ot){d=Ot,Ti===y&&y!==null&&(Ti=y=y.return);continue}break}while(!0)}function j3(){var u=Y0.current;return Y0.current=U0,u===null?U0:u}function I2(){(Ii===0||Ii===3||Ii===2)&&(Ii=4),Ki===null||(Wh&268435455)===0&&(K0&268435455)===0||zu(Ki,ss)}function ty(u,d){var y=Wr;Wr|=2;var S=j3();(Ki!==u||ss!==d)&&(Fc=null,Hh(u,d));do try{V9();break}catch(A){E3(u,A)}while(!0);if(Ur(),Wr=y,Y0.current=S,Ti!==null)throw Error(r(261));return Ki=null,ss=0,Ii}function V9(){for(;Ti!==null;)L3(Ti)}function H9(){for(;Ti!==null&&!st();)L3(Ti)}function L3(u){var d=O3(u.alternate,u,$a);u.memoizedProps=u.pendingProps,d===null?P3(u):Ti=d,T2.current=null}function P3(u){var d=u;do{var y=d.alternate;if(u=d.return,(d.flags&32768)===0){if(y=B9(y,d,$a),y!==null){Ti=y;return}}else{if(y=F9(y,d),y!==null){y.flags&=32767,Ti=y;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Ii=6,Ti=null;return}}if(d=d.sibling,d!==null){Ti=d;return}Ti=d=u}while(d!==null);Ii===0&&(Ii=5)}function Gh(u,d,y){var S=Ir,A=yo.transition;try{yo.transition=null,Ir=1,G9(u,d,y,S)}finally{yo.transition=A,Ir=S}return null}function G9(u,d,y,S){do Sf();while(Fu!==null);if((Wr&6)!==0)throw Error(r(327));y=u.finishedWork;var A=u.finishedLanes;if(y===null)return null;if(u.finishedWork=null,u.finishedLanes=0,y===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0;var R=y.lanes|y.childLanes;if(no(u,R),u===Ki&&(Ti=Ki=null,ss=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||J0||(J0=!0,I3(es,function(){return Sf(),null})),R=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||R){R=yo.transition,yo.transition=null;var J=Ir;Ir=1;var me=Wr;Wr|=4,T2.current=null,z9(u,y),_3(y,u),jh(Rc),yu=!!Bh,Rc=Bh=null,u.current=y,U9(y),Xr(),Wr=me,Ir=J,yo.transition=R}else u.current=y;if(J0&&(J0=!1,Fu=u,Z0=A),R=u.pendingLanes,R===0&&(Bu=null),Xd(y.stateNode),ma(u,gr()),d!==null)for(S=u.onRecoverableError,y=0;y<d.length;y++)A=d[y],S(A.value,{componentStack:A.stack,digest:A.digest});if(X0)throw X0=!1,u=j2,j2=null,u;return(Z0&1)!==0&&u.tag!==0&&Sf(),R=u.pendingLanes,(R&1)!==0?u===L2?km++:(km=0,L2=u):km=0,I(),null}function Sf(){if(Fu!==null){var u=fc(Z0),d=yo.transition,y=Ir;try{if(yo.transition=null,Ir=16>u?16:u,Fu===null)var S=!1;else{if(u=Fu,Fu=null,Z0=0,(Wr&6)!==0)throw Error(r(331));var A=Wr;for(Wr|=4,yt=u.current;yt!==null;){var R=yt,J=R.child;if((yt.flags&16)!==0){var me=R.deletions;if(me!==null){for(var xe=0;xe<me.length;xe++){var Pe=me[xe];for(yt=Pe;yt!==null;){var He=yt;switch(He.tag){case 0:case 11:case 15:_m(8,He,R)}var Ke=He.child;if(Ke!==null)Ke.return=He,yt=Ke;else for(;yt!==null;){He=yt;var Ve=He.sibling,at=He.return;if(y3(He),He===Pe){yt=null;break}if(Ve!==null){Ve.return=at,yt=Ve;break}yt=at}}}var _t=R.alternate;if(_t!==null){var Lt=_t.child;if(Lt!==null){_t.child=null;do{var gi=Lt.sibling;Lt.sibling=null,Lt=gi}while(Lt!==null)}}yt=R}}if((R.subtreeFlags&2064)!==0&&J!==null)J.return=R,yt=J;else e:for(;yt!==null;){if(R=yt,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:_m(9,R,R.return)}var Ee=R.sibling;if(Ee!==null){Ee.return=R.return,yt=Ee;break e}yt=R.return}}var _e=u.current;for(yt=_e;yt!==null;){J=yt;var Le=J.child;if((J.subtreeFlags&2064)!==0&&Le!==null)Le.return=J,yt=Le;else e:for(J=_e;yt!==null;){if(me=yt,(me.flags&2048)!==0)try{switch(me.tag){case 0:case 11:case 15:G0(9,me)}}catch(Ot){li(me,me.return,Ot)}if(me===J){yt=null;break e}var Je=me.sibling;if(Je!==null){Je.return=me.return,yt=Je;break e}yt=me.return}}if(Wr=A,I(),qi&&typeof qi.onPostCommitFiberRoot=="function")try{qi.onPostCommitFiberRoot(to,u)}catch{}S=!0}return S}finally{Ir=y,yo.transition=d}}return!1}function R3(u,d,y){d=xf(y,d),d=Jk(u,d,1),u=Yn(u,d,1),d=Ws(),u!==null&&(dc(u,1,d),ma(u,d))}function li(u,d,y){if(u.tag===3)R3(u,u,y);else for(;d!==null;){if(d.tag===3){R3(d,u,y);break}else if(d.tag===1){var S=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Bu===null||!Bu.has(S))){u=xf(y,u),u=Zk(d,u,1),d=Yn(d,u,1),u=Ws(),d!==null&&(dc(d,1,u),ma(d,u));break}}d=d.return}}function Y9(u,d,y){var S=u.pingCache;S!==null&&S.delete(d),d=Ws(),u.pingedLanes|=u.suspendedLanes&y,Ki===u&&(ss&y)===y&&(Ii===4||Ii===3&&(ss&130023424)===ss&&500>gr()-E2?Hh(u,0):A2|=y),ma(u,d)}function M3(u,d){d===0&&((u.mode&1)===0?d=1:(d=Is,Is<<=1,(Is&130023424)===0&&(Is=4194304)));var y=Ws();u=an(u,d),u!==null&&(dc(u,d,y),ma(u,y))}function K9(u){var d=u.memoizedState,y=0;d!==null&&(y=d.retryLane),M3(u,y)}function X9(u,d){var y=0;switch(u.tag){case 13:var S=u.stateNode,A=u.memoizedState;A!==null&&(y=A.retryLane);break;case 19:S=u.stateNode;break;default:throw Error(r(314))}S!==null&&S.delete(d),M3(u,y)}var O3;O3=function(u,d,y){if(u!==null)if(u.memoizedProps!==d.pendingProps||ys.current)fa=!0;else{if((u.lanes&y)===0&&(d.flags&128)===0)return fa=!1,D9(u,d,y);fa=(u.flags&131072)!==0}else fa=!1,Fe&&(d.flags&1048576)!==0&&Ne(d,ie,d.index);switch(d.lanes=0,d.tag){case 2:var S=d.type;V0(u,d),u=d.pendingProps;var A=Pu(d,Mi.current);On(d,y),A=zh(null,d,S,u,A,y);var R=go();return d.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,vs(S)?(R=!0,Ic(d)):R=!1,d.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,Oi(d),A.updater=q0,d.stateNode=A,A._reactInternals=d,f2(d,S,u,y),d=y2(null,d,S,!0,R,y)):(d.tag=0,Fe&&R&&Ie(d),qs(null,d,A,y),d=d.child),d;case 16:S=d.elementType;e:{switch(V0(u,d),u=d.pendingProps,A=S._init,S=A(S._payload),d.type=S,A=d.tag=Z9(S),u=Yo(S,u),A){case 0:d=g2(null,d,S,u,y);break e;case 1:d=o3(null,d,S,u,y);break e;case 11:d=r3(null,d,S,u,y);break e;case 14:d=n3(null,d,S,Yo(S.type,u),y);break e}throw Error(r(306,S,""))}return d;case 0:return S=d.type,A=d.pendingProps,A=d.elementType===S?A:Yo(S,A),g2(u,d,S,A,y);case 1:return S=d.type,A=d.pendingProps,A=d.elementType===S?A:Yo(S,A),o3(u,d,S,A,y);case 3:e:{if(l3(d),u===null)throw Error(r(387));S=d.pendingProps,R=d.memoizedState,A=R.element,xs(u,d),Yi(d,S,null,y);var J=d.memoizedState;if(S=J.element,R.isDehydrated)if(R={element:S,isDehydrated:!1,cache:J.cache,pendingSuspenseBoundaries:J.pendingSuspenseBoundaries,transitions:J.transitions},d.updateQueue.baseState=R,d.memoizedState=R,d.flags&256){A=xf(Error(r(423)),d),d=c3(u,d,S,y,A);break e}else if(S!==A){A=xf(Error(r(424)),d),d=c3(u,d,S,y,A);break e}else for(Oe=ns(d.stateNode.containerInfo.firstChild),Me=d,Fe=!0,$e=null,y=Nn(d,null,S,y),d.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(ht(),S===A){d=Bc(u,d,y);break e}qs(u,d,S,y)}d=d.child}return d;case 5:return D0(d),u===null&&wt(d),S=d.type,A=d.pendingProps,R=u!==null?u.memoizedProps:null,J=A.children,hm(S,A)?J=null:R!==null&&hm(S,R)&&(d.flags|=32),a3(u,d),qs(u,d,J,y),d.child;case 6:return u===null&&wt(d),null;case 13:return u3(u,d,y);case 4:return Ru(d,d.stateNode.containerInfo),S=d.pendingProps,u===null?d.child=si(d,null,S,y):qs(u,d,S,y),d.child;case 11:return S=d.type,A=d.pendingProps,A=d.elementType===S?A:Yo(S,A),r3(u,d,S,A,y);case 7:return qs(u,d,d.pendingProps,y),d.child;case 8:return qs(u,d,d.pendingProps.children,y),d.child;case 12:return qs(u,d,d.pendingProps.children,y),d.child;case 10:e:{if(S=d.type._context,A=d.pendingProps,R=d.memoizedProps,J=A.value,Zr(pi,S._currentValue),S._currentValue=J,R!==null)if(Pn(R.value,J)){if(R.children===A.children&&!ys.current){d=Bc(u,d,y);break e}}else for(R=d.child,R!==null&&(R.return=d);R!==null;){var me=R.dependencies;if(me!==null){J=R.child;for(var xe=me.firstContext;xe!==null;){if(xe.context===S){if(R.tag===1){xe=Gn(-1,y&-y),xe.tag=2;var Pe=R.updateQueue;if(Pe!==null){Pe=Pe.shared;var He=Pe.pending;He===null?xe.next=xe:(xe.next=He.next,He.next=xe),Pe.pending=xe}}R.lanes|=y,xe=R.alternate,xe!==null&&(xe.lanes|=y),qr(R.return,y,d),me.lanes|=y;break}xe=xe.next}}else if(R.tag===10)J=R.type===d.type?null:R.child;else if(R.tag===18){if(J=R.return,J===null)throw Error(r(341));J.lanes|=y,me=J.alternate,me!==null&&(me.lanes|=y),qr(J,y,d),J=R.sibling}else J=R.child;if(J!==null)J.return=R;else for(J=R;J!==null;){if(J===d){J=null;break}if(R=J.sibling,R!==null){R.return=J.return,J=R;break}J=J.return}R=J}qs(u,d,A.children,y),d=d.child}return d;case 9:return A=d.type,S=d.pendingProps.children,On(d,y),A=In(A),S=S(A),d.flags|=1,qs(u,d,S,y),d.child;case 14:return S=d.type,A=Yo(S,d.pendingProps),A=Yo(S.type,A),n3(u,d,S,A,y);case 15:return i3(u,d,d.type,d.pendingProps,y);case 17:return S=d.type,A=d.pendingProps,A=d.elementType===S?A:Yo(S,A),V0(u,d),d.tag=1,vs(S)?(u=!0,Ic(d)):u=!1,On(d,y),Kk(d,S,A),f2(d,S,A,y),y2(null,d,S,!0,u,y);case 19:return d3(u,d,y);case 22:return s3(u,d,y)}throw Error(r(156,d.tag))};function I3(u,d){return ye(u,d)}function J9(u,d,y,S){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vo(u,d,y,S){return new J9(u,d,y,S)}function D2(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Z9(u){if(typeof u=="function")return D2(u)?1:0;if(u!=null){if(u=u.$$typeof,u===q)return 11;if(u===Q)return 14}return 2}function Uu(u,d){var y=u.alternate;return y===null?(y=vo(u.tag,d,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=d,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&14680064,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,d=u.dependencies,y.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y}function ry(u,d,y,S,A,R){var J=2;if(S=u,typeof u=="function")D2(u)&&(J=1);else if(typeof u=="string")J=5;else e:switch(u){case D:return Yh(y.children,A,R,d);case U:J=8,A|=8;break;case z:return u=vo(12,y,d,A|2),u.elementType=z,u.lanes=R,u;case W:return u=vo(13,y,d,A),u.elementType=W,u.lanes=R,u;case $:return u=vo(19,y,d,A),u.elementType=$,u.lanes=R,u;case se:return ny(y,A,R,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case K:J=10;break e;case B:J=9;break e;case q:J=11;break e;case Q:J=14;break e;case ee:J=16,S=null;break e}throw Error(r(130,u==null?u:typeof u,""))}return d=vo(J,y,d,A),d.elementType=u,d.type=S,d.lanes=R,d}function Yh(u,d,y,S){return u=vo(7,u,S,d),u.lanes=y,u}function ny(u,d,y,S){return u=vo(22,u,S,d),u.elementType=se,u.lanes=y,u.stateNode={isHidden:!1},u}function B2(u,d,y){return u=vo(6,u,null,d),u.lanes=y,u}function F2(u,d,y){return d=vo(4,u.children!==null?u.children:[],u.key,d),d.lanes=y,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function Q9(u,d,y,S,A){this.tag=d,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_h(0),this.expirationTimes=_h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_h(0),this.identifierPrefix=S,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function $2(u,d,y,S,A,R,J,me,xe){return u=new Q9(u,d,y,me,xe),d===1?(d=1,R===!0&&(d|=8)):d=0,R=vo(3,null,null,d),u.current=R,R.stateNode=u,R.memoizedState={element:S,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oi(R),u}function ez(u,d,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:S==null?null:""+S,children:u,containerInfo:d,implementation:y}}function D3(u){if(!u)return Ol;u=u._reactInternals;e:{if(ei(u)!==u||u.tag!==1)throw Error(r(170));var d=u;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(vs(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(u.tag===1){var y=u.type;if(vs(y))return mm(u,y,d)}return d}function B3(u,d,y,S,A,R,J,me,xe){return u=$2(y,S,!0,u,A,R,J,me,xe),u.context=D3(null),y=u.current,S=Ws(),A=$u(y),R=Gn(S,A),R.callback=d??null,Yn(y,R,A),u.current.lanes=A,dc(u,A,S),ma(u,S),u}function iy(u,d,y,S){var A=d.current,R=Ws(),J=$u(A);return y=D3(y),d.context===null?d.context=y:d.pendingContext=y,d=Gn(R,J),d.payload={element:u},S=S===void 0?null:S,S!==null&&(d.callback=S),u=Yn(A,d,J),u!==null&&(Jo(u,A,J,R),Gi(u,A,J)),J}function sy(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function F3(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<d?y:d}}function z2(u,d){F3(u,d),(u=u.alternate)&&F3(u,d)}function tz(){return null}var $3=typeof reportError=="function"?reportError:function(u){console.error(u)};function U2(u){this._internalRoot=u}ay.prototype.render=U2.prototype.render=function(u){var d=this._internalRoot;if(d===null)throw Error(r(409));iy(u,d,null,null)},ay.prototype.unmount=U2.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var d=u.containerInfo;Vh(function(){iy(null,u,null,null)}),d[Vi]=null}};function ay(u){this._internalRoot=u}ay.prototype.unstable_scheduleHydration=function(u){if(u){var d=Zd();u={blockedOn:null,target:u,priority:d};for(var y=0;y<so.length&&d!==0&&d<so[y].priority;y++);so.splice(y,0,u),y===0&&ef(u)}};function q2(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function oy(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function z3(){}function rz(u,d,y,S,A){if(A){if(typeof S=="function"){var R=S;S=function(){var Pe=sy(J);R.call(Pe)}}var J=B3(d,S,u,0,null,!1,!1,"",z3);return u._reactRootContainer=J,u[Vi]=J.current,Lc(u.nodeType===8?u.parentNode:u),Vh(),J}for(;A=u.lastChild;)u.removeChild(A);if(typeof S=="function"){var me=S;S=function(){var Pe=sy(xe);me.call(Pe)}}var xe=$2(u,0,!1,null,null,!1,!1,"",z3);return u._reactRootContainer=xe,u[Vi]=xe.current,Lc(u.nodeType===8?u.parentNode:u),Vh(function(){iy(d,xe,y,S)}),xe}function ly(u,d,y,S,A){var R=y._reactRootContainer;if(R){var J=R;if(typeof A=="function"){var me=A;A=function(){var xe=sy(J);me.call(xe)}}iy(d,J,u,A)}else J=rz(y,d,u,A,S);return sy(J)}Sl=function(u){switch(u.tag){case 3:var d=u.stateNode;if(d.current.memoizedState.isDehydrated){var y=ro(d.pendingLanes);y!==0&&(fu(d,y|1),ma(d,gr()),(Wr&6)===0&&(_f=gr()+500,I()))}break;case 13:Vh(function(){var S=an(u,1);if(S!==null){var A=Ws();Jo(S,u,1,A)}}),z2(u,1)}},Sh=function(u){if(u.tag===13){var d=an(u,134217728);if(d!==null){var y=Ws();Jo(d,u,134217728,y)}z2(u,134217728)}},Jd=function(u){if(u.tag===13){var d=$u(u),y=an(u,d);if(y!==null){var S=Ws();Jo(y,u,d,S)}z2(u,d)}},Zd=function(){return Ir},pu=function(u,d){var y=Ir;try{return Ir=u,d()}finally{Ir=y}},qt=function(u,d,y){switch(d){case"input":if(er(u,y),d=y.name,y.type==="radio"&&d!=null){for(y=u;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<y.length;d++){var S=y[d];if(S!==u&&S.form===u.form){var A=Fh(S);if(!A)throw Error(r(90));Ye(S),er(S,A)}}}break;case"textarea":_r(u,y);break;case"select":d=y.value,d!=null&&tt(u,!!y.multiple,d,!1)}},pt=M2,mr=Vh;var nz={usingClientEntryPoint:!1,Events:[Lu,Mc,Fh,Ar,Ut,M2]},Nm={findFiberByHostInstance:Ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iz={bundleType:Nm.bundleType,version:Nm.version,rendererPackageName:Nm.rendererPackageName,rendererConfig:Nm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Os(u),u===null?null:u.stateNode},findFiberByHostInstance:Nm.findFiberByHostInstance||tz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cy.isDisabled&&cy.supportsFiber)try{to=cy.inject(iz),qi=cy}catch{}}return ga.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nz,ga.createPortal=function(u,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!q2(d))throw Error(r(200));return ez(u,d,null,y)},ga.createRoot=function(u,d){if(!q2(u))throw Error(r(299));var y=!1,S="",A=$3;return d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onRecoverableError!==void 0&&(A=d.onRecoverableError)),d=$2(u,1,!1,null,null,y,!1,S,A),u[Vi]=d.current,Lc(u.nodeType===8?u.parentNode:u),new U2(d)},ga.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=Os(d),u=u===null?null:u.stateNode,u},ga.flushSync=function(u){return Vh(u)},ga.hydrate=function(u,d,y){if(!oy(d))throw Error(r(200));return ly(null,u,d,!0,y)},ga.hydrateRoot=function(u,d,y){if(!q2(u))throw Error(r(405));var S=y!=null&&y.hydratedSources||null,A=!1,R="",J=$3;if(y!=null&&(y.unstable_strictMode===!0&&(A=!0),y.identifierPrefix!==void 0&&(R=y.identifierPrefix),y.onRecoverableError!==void 0&&(J=y.onRecoverableError)),d=B3(d,null,u,1,y??null,A,!1,R,J),u[Vi]=d.current,Lc(u),S)for(u=0;u<S.length;u++)y=S[u],A=y._getVersion,A=A(y._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[y,A]:d.mutableSourceEagerHydrationData.push(y,A);return new ay(d)},ga.render=function(u,d,y){if(!oy(d))throw Error(r(200));return ly(null,u,d,!1,y)},ga.unmountComponentAtNode=function(u){if(!oy(u))throw Error(r(40));return u._reactRootContainer?(Vh(function(){ly(null,null,u,!1,function(){u._reactRootContainer=null,u[Vi]=null})}),!0):!1},ga.unstable_batchedUpdates=M2,ga.unstable_renderSubtreeIntoContainer=function(u,d,y,S){if(!oy(y))throw Error(r(200));if(u==null||u._reactInternals===void 0)throw Error(r(38));return ly(u,d,y,!1,S)},ga.version="18.3.1-next-f1338f8080-20240426",ga}var K3;function Xj(){if(K3)return H2.exports;K3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),H2.exports=fz(),H2.exports}var X3;function pz(){if(X3)return uy;X3=1;var t=Xj();return uy.createRoot=t.createRoot,uy.hydrateRoot=t.hydrateRoot,uy}var mz=pz();var J3="popstate";function gz(t={}){function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return Ew("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Cg(i)}return vz(e,r,null,t)}function zn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ja(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yz(){return Math.random().toString(36).substring(2,10)}function Z3(t,e){return{usr:t.state,key:t.key,idx:e}}function Ew(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Pp(e):e,state:r,key:e&&e.key||n||yz()}}function Cg({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Pp(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function vz(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o="POP",l=null,c=h();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function h(){return(a.state||{idx:null}).idx}function f(){o="POP";let b=h(),_=b==null?null:b-c;c=b,l&&l({action:o,location:x.location,delta:_})}function g(b,_){o="PUSH";let k=Ew(x.location,b,_);c=h()+1;let N=Z3(k,c),j=x.createHref(k);try{a.pushState(N,"",j)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(j)}s&&l&&l({action:o,location:x.location,delta:1})}function p(b,_){o="REPLACE";let k=Ew(x.location,b,_);c=h();let N=Z3(k,c),j=x.createHref(k);a.replaceState(N,"",j),s&&l&&l({action:o,location:x.location,delta:0})}function v(b){return xz(b)}let x={get action(){return o},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(J3,f),l=b,()=>{i.removeEventListener(J3,f),l=null}},createHref(b){return e(i,b)},createURL:v,encodeLocation(b){let _=v(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:p,go(b){return a.go(b)}};return x}function xz(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),zn(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Cg(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Jj(t,e,r="/"){return bz(t,e,r,!1)}function bz(t,e,r,n){let i=typeof e=="string"?Pp(e):e,s=ru(i.pathname||"/",r);if(s==null)return null;let a=Zj(t);wz(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=Pz(s);o=jz(a[l],c,n)}return o}function Zj(t,e=[],r=[],n="",i=!1){let s=(a,o,l=i,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&l)return;zn(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let f=Qc([n,h.relativePath]),g=r.concat(h);a.children&&a.children.length>0&&(zn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Zj(a.children,e,g,f,l)),!(a.path==null&&!a.index)&&e.push({path:f,score:Az(f,a.index),routesMeta:g})};return t.forEach((a,o)=>{if(a.path===""||!a.path?.includes("?"))s(a,o);else for(let l of Qj(a.path))s(a,o,!0,l)}),e}function Qj(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=Qj(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function wz(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Ez(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var _z=/^:[\w-]+$/,Sz=3,Cz=2,kz=1,Nz=10,Tz=-2,Q3=t=>t==="*";function Az(t,e){let r=t.split("/"),n=r.length;return r.some(Q3)&&(n+=Tz),e&&(n+=Cz),r.filter(i=>!Q3(i)).reduce((i,s)=>i+(_z.test(s)?Sz:s===""?kz:Nz),n)}function Ez(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function jz(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=U1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),g=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=U1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Qc([s,f.pathname]),pathnameBase:Dz(Qc([s,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(s=Qc([s,f.pathnameBase]))}return a}function U1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Lz(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,{paramName:h,isOptional:f},g)=>{if(h==="*"){let v=o[g]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const p=o[g];return f&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function Lz(t,e=!1,r=!0){Ja(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Pz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ja(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ru(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var Rz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mz=t=>Rz.test(t);function Oz(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Pp(t):t,s;if(r)if(Mz(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Ja(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${r}`)}r.startsWith("/")?s=eN(r.substring(1),"/"):s=eN(r,e)}else s=e;return{pathname:s,search:Bz(n),hash:Fz(i)}}function eN(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function K2(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Iz(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function q_(t){let e=Iz(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function W_(t,e,r,n=!1){let i;typeof t=="string"?i=Pp(t):(i={...t},zn(!i.pathname||!i.pathname.includes("?"),K2("?","pathname","search",i)),zn(!i.pathname||!i.pathname.includes("#"),K2("#","pathname","hash",i)),zn(!i.search||!i.search.includes("#"),K2("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let f=e.length-1;if(!n&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}o=f>=0?e[f]:"/"}let l=Oz(i,o),c=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}var Qc=t=>t.join("/").replace(/\/\/+/g,"/"),Dz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Bz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Fz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $z(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var e6=["POST","PUT","PATCH","DELETE"];new Set(e6);var zz=["GET",...e6];new Set(zz);var Rp=E.createContext(null);Rp.displayName="DataRouter";var Qv=E.createContext(null);Qv.displayName="DataRouterState";E.createContext(!1);var t6=E.createContext({isTransitioning:!1});t6.displayName="ViewTransition";var Uz=E.createContext(new Map);Uz.displayName="Fetchers";var qz=E.createContext(null);qz.displayName="Await";var gl=E.createContext(null);gl.displayName="Navigation";var e0=E.createContext(null);e0.displayName="Location";var Lo=E.createContext({outlet:null,matches:[],isDataRoute:!1});Lo.displayName="Route";var V_=E.createContext(null);V_.displayName="RouteError";function Wz(t,{relative:e}={}){zn(Mp(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=E.useContext(gl),{hash:i,pathname:s,search:a}=t0(t,{relative:e}),o=s;return r!=="/"&&(o=s==="/"?r:Qc([r,s])),n.createHref({pathname:o,search:a,hash:i})}function Mp(){return E.useContext(e0)!=null}function Po(){return zn(Mp(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(e0).location}var r6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n6(t){E.useContext(gl).static||E.useLayoutEffect(t)}function Qs(){let{isDataRoute:t}=E.useContext(Lo);return t?sU():Vz()}function Vz(){zn(Mp(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Rp),{basename:e,navigator:r}=E.useContext(gl),{matches:n}=E.useContext(Lo),{pathname:i}=Po(),s=JSON.stringify(q_(n)),a=E.useRef(!1);return n6(()=>{a.current=!0}),E.useCallback((l,c={})=>{if(Ja(a.current,r6),!a.current)return;if(typeof l=="number"){r.go(l);return}let h=W_(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Qc([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,s,i,t])}var Hz=E.createContext(null);function Gz(t){let e=E.useContext(Lo).outlet;return E.useMemo(()=>e&&E.createElement(Hz.Provider,{value:t},e),[e,t])}function i6(){let{matches:t}=E.useContext(Lo),e=t[t.length-1];return e?e.params:{}}function t0(t,{relative:e}={}){let{matches:r}=E.useContext(Lo),{pathname:n}=Po(),i=JSON.stringify(q_(r));return E.useMemo(()=>W_(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function Yz(t,e){return s6(t,e)}function s6(t,e,r,n,i){zn(Mp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=E.useContext(gl),{matches:a}=E.useContext(Lo),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",h=o?o.pathnameBase:"/",f=o&&o.route;{let k=f&&f.path||"";a6(c,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let g=Po(),p;if(e){let k=typeof e=="string"?Pp(e):e;zn(h==="/"||k.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${k.pathname}" was given in the \`location\` prop.`),p=k}else p=g;let v=p.pathname||"/",x=v;if(h!=="/"){let k=h.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let b=Jj(t,{pathname:x});Ja(f||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Ja(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=Qz(b&&b.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:Qc([h,s.encodeLocation?s.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:Qc([h,s.encodeLocation?s.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),a,r,n,i);return e&&_?E.createElement(e0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},_):_}function Kz(){let t=iU(),e=$z(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:s},"ErrorBoundary")," or"," ",E.createElement("code",{style:s},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),r?E.createElement("pre",{style:i},r):null,a)}var Xz=E.createElement(Kz,null),Jz=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?E.createElement(Lo.Provider,{value:this.props.routeContext},E.createElement(V_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Zz({routeContext:t,match:e,children:r}){let n=E.useContext(Rp);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Lo.Provider,{value:t},r)}function Qz(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,a=r?.errors;if(a!=null){let h=s.findIndex(f=>f.route.id&&a?.[f.route.id]!==void 0);zn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let o=!1,l=-1;if(r)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=h),f.route.id){let{loaderData:g,errors:p}=r,v=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let c=r&&n?(h,f)=>{n(h,{location:r.location,params:r.matches?.[0]?.params??{},errorInfo:f})}:void 0;return s.reduceRight((h,f,g)=>{let p,v=!1,x=null,b=null;r&&(p=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||Xz,o&&(l<0&&g===0?(a6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):l===g&&(v=!0,b=f.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,g+1)),k=()=>{let N;return p?N=x:v?N=b:f.route.Component?N=E.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=h,E.createElement(Zz,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:r!=null},children:N})};return r&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?E.createElement(Jz,{location:r.location,revalidation:r.revalidation,component:x,error:p,children:k(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:c}):k()},null)}function H_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eU(t){let e=E.useContext(Rp);return zn(e,H_(t)),e}function tU(t){let e=E.useContext(Qv);return zn(e,H_(t)),e}function rU(t){let e=E.useContext(Lo);return zn(e,H_(t)),e}function G_(t){let e=rU(t),r=e.matches[e.matches.length-1];return zn(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function nU(){return G_("useRouteId")}function iU(){let t=E.useContext(V_),e=tU("useRouteError"),r=G_("useRouteError");return t!==void 0?t:e.errors?.[r]}function sU(){let{router:t}=eU("useNavigate"),e=G_("useNavigate"),r=E.useRef(!1);return n6(()=>{r.current=!0}),E.useCallback(async(i,s={})=>{Ja(r.current,r6),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var tN={};function a6(t,e,r){!e&&!tN[t]&&(tN[t]=!0,Ja(!1,r))}E.memo(aU);function aU({routes:t,future:e,state:r,unstable_onError:n}){return s6(t,void 0,r,n,e)}function o6({to:t,replace:e,state:r,relative:n}){zn(Mp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(gl);Ja(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=E.useContext(Lo),{pathname:a}=Po(),o=Qs(),l=W_(t,q_(s),a,n==="path"),c=JSON.stringify(l);return E.useEffect(()=>{o(JSON.parse(c),{replace:e,state:r,relative:n})},[o,c,n,e,r]),null}function oU(t){return Gz(t.context)}function Bn(t){zn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lU({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){zn(!Mp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=E.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof r=="string"&&(r=Pp(r));let{pathname:l="/",search:c="",hash:h="",state:f=null,key:g="default"}=r,p=E.useMemo(()=>{let v=ru(l,a);return v==null?null:{location:{pathname:v,search:c,hash:h,state:f,key:g},navigationType:n}},[a,l,c,h,f,g,n]);return Ja(p!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:E.createElement(gl.Provider,{value:o},E.createElement(e0.Provider,{children:e,value:p}))}function cU({children:t,location:e}){return Yz(jw(t),e)}function jw(t,e=[]){let r=[];return E.Children.forEach(t,(n,i)=>{if(!E.isValidElement(n))return;let s=[...e,i];if(n.type===E.Fragment){r.push.apply(r,jw(n.props.children,s));return}zn(n.type===Bn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=jw(n.props.children,s)),r.push(a)}),r}var l1="get",c1="application/x-www-form-urlencoded";function ex(t){return t!=null&&typeof t.tagName=="string"}function uU(t){return ex(t)&&t.tagName.toLowerCase()==="button"}function hU(t){return ex(t)&&t.tagName.toLowerCase()==="form"}function dU(t){return ex(t)&&t.tagName.toLowerCase()==="input"}function fU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pU(t,e){return t.button===0&&(!e||e==="_self")&&!fU(t)}function Lw(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function mU(t,e){let r=Lw(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}var hy=null;function gU(){if(hy===null)try{new FormData(document.createElement("form"),0),hy=!1}catch{hy=!0}return hy}var yU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function X2(t){return t!=null&&!yU.has(t)?(Ja(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${c1}"`),null):t}function vU(t,e){let r,n,i,s,a;if(hU(t)){let o=t.getAttribute("action");n=o?ru(o,e):null,r=t.getAttribute("method")||l1,i=X2(t.getAttribute("enctype"))||c1,s=new FormData(t)}else if(uU(t)||dU(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(n=l?ru(l,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||l1,i=X2(t.getAttribute("formenctype"))||X2(o.getAttribute("enctype"))||c1,s=new FormData(o,t),!gU()){let{name:c,type:h,value:f}=t;if(h==="image"){let g=c?`${c}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else c&&s.append(c,f)}}else{if(ex(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=l1,n=null,i=c1,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Y_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xU(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&ru(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function bU(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wU(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _U(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await bU(s,r);return a.links?a.links():[]}return[]}));return NU(n.flat(1).filter(wU).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function rN(t,e,r,n,i,s){let a=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,o=(l,c)=>r[c].pathname!==l.pathname||r[c].route.path?.endsWith("*")&&r[c].params["*"]!==l.params["*"];return s==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?e.filter((l,c)=>{let h=n.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function SU(t,e,{includeHydrateFallback:r}={}){return CU(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function CU(t){return[...new Set(t)]}function kU(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function NU(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(kU(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function l6(){let t=E.useContext(Rp);return Y_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function TU(){let t=E.useContext(Qv);return Y_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var K_=E.createContext(void 0);K_.displayName="FrameworkContext";function c6(){let t=E.useContext(K_);return Y_(t,"You must render this element inside a <HydratedRouter> element"),t}function AU(t,e){let r=E.useContext(K_),[n,i]=E.useState(!1),[s,a]=E.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:h,onTouchStart:f}=e,g=E.useRef(null);E.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let x=_=>{_.forEach(k=>{a(k.isIntersecting)})},b=new IntersectionObserver(x,{threshold:.5});return g.current&&b.observe(g.current),()=>{b.disconnect()}}},[t]),E.useEffect(()=>{if(n){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[n]);let p=()=>{i(!0)},v=()=>{i(!1),a(!1)};return r?t!=="intent"?[s,g,{}]:[s,g,{onFocus:Am(o,p),onBlur:Am(l,v),onMouseEnter:Am(c,p),onMouseLeave:Am(h,v),onTouchStart:Am(f,p)}]:[!1,g,{}]}function Am(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function EU({page:t,...e}){let{router:r}=l6(),n=E.useMemo(()=>Jj(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?E.createElement(LU,{page:t,matches:n,...e}):null}function jU(t){let{manifest:e,routeModules:r}=c6(),[n,i]=E.useState([]);return E.useEffect(()=>{let s=!1;return _U(t,e,r).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,r]),n}function LU({page:t,matches:e,...r}){let n=Po(),{manifest:i,routeModules:s}=c6(),{basename:a}=l6(),{loaderData:o,matches:l}=TU(),c=E.useMemo(()=>rN(t,e,l,i,n,"data"),[t,e,l,i,n]),h=E.useMemo(()=>rN(t,e,l,i,n,"assets"),[t,e,l,i,n]),f=E.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let v=new Set,x=!1;if(e.forEach(_=>{let k=i.routes[_.route.id];!k||!k.hasLoader||(!c.some(N=>N.route.id===_.route.id)&&_.route.id in o&&s[_.route.id]?.shouldRevalidate||k.hasClientLoader?x=!0:v.add(_.route.id))}),v.size===0)return[];let b=xU(t,a,"data");return x&&v.size>0&&b.searchParams.set("_routes",e.filter(_=>v.has(_.route.id)).map(_=>_.route.id).join(",")),[b.pathname+b.search]},[a,o,n,i,c,e,t,s]),g=E.useMemo(()=>SU(h,i),[h,i]),p=jU(h);return E.createElement(E.Fragment,null,f.map(v=>E.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),g.map(v=>E.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),p.map(({key:v,link:x})=>E.createElement("link",{key:v,nonce:r.nonce,...x})))}function PU(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var u6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u6&&(window.__reactRouterVersion="7.9.6")}catch{}function RU({basename:t,children:e,window:r}){let n=E.useRef();n.current==null&&(n.current=gz({window:r,v5Compat:!0}));let i=n.current,[s,a]=E.useState({action:i.action,location:i.location}),o=E.useCallback(l=>{E.startTransition(()=>a(l))},[a]);return E.useLayoutEffect(()=>i.listen(o),[i,o]),E.createElement(lU,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var h6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ql=E.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:h,viewTransition:f,...g},p){let{basename:v}=E.useContext(gl),x=typeof c=="string"&&h6.test(c),b,_=!1;if(typeof c=="string"&&x&&(b=c,u6))try{let z=new URL(window.location.href),K=c.startsWith("//")?new URL(z.protocol+c):new URL(c),B=ru(K.pathname,v);K.origin===z.origin&&B!=null?c=B+K.search+K.hash:_=!0}catch{Ja(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=Wz(c,{relative:i}),[N,j,P]=AU(n,g),F=DU(c,{replace:a,state:o,target:l,preventScrollReset:h,relative:i,viewTransition:f});function D(z){e&&e(z),z.defaultPrevented||F(z)}let U=E.createElement("a",{...g,...P,href:b||k,onClick:_||s?e:D,ref:PU(p,j),target:l,"data-discover":!x&&r==="render"?"true":void 0});return N&&!x?E.createElement(E.Fragment,null,U,E.createElement(EU,{page:k})):U});Ql.displayName="Link";var MU=E.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...c},h){let f=t0(a,{relative:c.relative}),g=Po(),p=E.useContext(Qv),{navigator:v,basename:x}=E.useContext(gl),b=p!=null&&qU(f)&&o===!0,_=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,k=g.pathname,N=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(k=k.toLowerCase(),N=N?N.toLowerCase():null,_=_.toLowerCase()),N&&x&&(N=ru(N,x)||N);const j=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let P=k===_||!i&&k.startsWith(_)&&k.charAt(j)==="/",F=N!=null&&(N===_||!i&&N.startsWith(_)&&N.charAt(_.length)==="/"),D={isActive:P,isPending:F,isTransitioning:b},U=P?e:void 0,z;typeof n=="function"?z=n(D):z=[n,P?"active":null,F?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let K=typeof s=="function"?s(D):s;return E.createElement(Ql,{...c,"aria-current":U,className:z,ref:h,style:K,to:a,viewTransition:o},typeof l=="function"?l(D):l)});MU.displayName="NavLink";var OU=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:a=l1,action:o,onSubmit:l,relative:c,preventScrollReset:h,viewTransition:f,...g},p)=>{let v=zU(),x=UU(o,{relative:c}),b=a.toLowerCase()==="get"?"get":"post",_=typeof o=="string"&&h6.test(o),k=N=>{if(l&&l(N),N.defaultPrevented)return;N.preventDefault();let j=N.nativeEvent.submitter,P=j?.getAttribute("formmethod")||a;v(j||N.currentTarget,{fetcherKey:e,method:P,navigate:r,replace:i,state:s,relative:c,preventScrollReset:h,viewTransition:f})};return E.createElement("form",{ref:p,method:b,action:x,onSubmit:n?l:k,...g,"data-discover":!_&&t==="render"?"true":void 0})});OU.displayName="Form";function IU(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d6(t){let e=E.useContext(Rp);return zn(e,IU(t)),e}function DU(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=Qs(),l=Po(),c=t0(t,{relative:s});return E.useCallback(h=>{if(pU(h,e)){h.preventDefault();let f=r!==void 0?r:Cg(l)===Cg(c);o(t,{replace:f,state:n,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,c,r,n,e,t,i,s,a])}function BU(t){Ja(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=E.useRef(Lw(t)),r=E.useRef(!1),n=Po(),i=E.useMemo(()=>mU(n.search,r.current?null:e.current),[n.search]),s=Qs(),a=E.useCallback((o,l)=>{const c=Lw(typeof o=="function"?o(new URLSearchParams(i)):o);r.current=!0,s("?"+c,l)},[s,i]);return[i,a]}var FU=0,$U=()=>`__${String(++FU)}__`;function zU(){let{router:t}=d6("useSubmit"),{basename:e}=E.useContext(gl),r=nU();return E.useCallback(async(n,i={})=>{let{action:s,method:a,encType:o,formData:l,body:c}=vU(n,e);if(i.navigate===!1){let h=i.fetcherKey||$U();await t.fetch(h,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function UU(t,{relative:e}={}){let{basename:r}=E.useContext(gl),n=E.useContext(Lo);zn(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...t0(t||".",{relative:e})},a=Po();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(h=>h==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let h=o.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Qc([r,s.pathname])),Cg(s)}function qU(t,{relative:e}={}){let r=E.useContext(t6);zn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=d6("useViewTransitionState"),i=t0(t,{relative:e});if(!r.isTransitioning)return!1;let s=ru(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=ru(r.nextLocation.pathname,n)||r.nextLocation.pathname;return U1(i.pathname,a)!=null||U1(i.pathname,s)!=null}var X_=Xj();const f6=Zv(X_);var Pw=function(t,e){return Pw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Pw(t,e)};function p6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Pw(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var So=function(){return So=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},So.apply(this,arguments)};function ph(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function m6(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function g6(t,e){return function(r,n){e(r,n,t)}}function y6(t,e,r,n,i,s){function a(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,h=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f,g=!1,p=r.length-1;p>=0;p--){var v={};for(var x in n)v[x]=x==="access"?{}:n[x];for(var x in n.access)v.access[x]=n.access[x];v.addInitializer=function(_){if(g)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(_||null))};var b=(0,r[p])(o==="accessor"?{get:h.get,set:h.set}:h[l],v);if(o==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(f=a(b.get))&&(h.get=f),(f=a(b.set))&&(h.set=f),(f=a(b.init))&&i.unshift(f)}else(f=a(b))&&(o==="field"?i.unshift(f):h[l]=f)}c&&Object.defineProperty(c,n.name,h),g=!0}function v6(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function x6(t){return typeof t=="symbol"?t:"".concat(t)}function b6(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function w6(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function It(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{c(n.next(h))}catch(f){a(f)}}function l(h){try{c(n.throw(h))}catch(f){a(f)}}function c(h){h.done?s(h.value):i(h.value).then(o,l)}c((n=n.apply(t,e||[])).next())})}function _6(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(h){return l([c,h])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(h){c=[6,h],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var tx=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function S6(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&tx(e,t,r)}function q1(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function J_(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s}function C6(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(J_(arguments[e]));return t}function k6(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function Z_(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function vp(t){return this instanceof vp?(this.v=t,this):new vp(t)}function N6(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(v){return Promise.resolve(v).then(p,f)}}function o(p,v){n[p]&&(i[p]=function(x){return new Promise(function(b,_){s.push([p,x,b,_])>1||l(p,x)})},v&&(i[p]=v(i[p])))}function l(p,v){try{c(n[p](v))}catch(x){g(s[0][3],x)}}function c(p){p.value instanceof vp?Promise.resolve(p.value.v).then(h,f):g(s[0][2],p)}function h(p){l("next",p)}function f(p){l("throw",p)}function g(p,v){p(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function T6(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(a){return(r=!r)?{value:vp(t[i](a)),done:!1}:s?s(a):a}:s}}function A6(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof q1=="function"?q1(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(c){s({value:c,done:o})},a)}}function E6(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var WU=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Rw=function(t){return Rw=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Rw(t)};function j6(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Rw(t),n=0;n<r.length;n++)r[n]!=="default"&&tx(e,t,r[n]);return WU(e,t),e}function L6(t){return t&&t.__esModule?t:{default:t}}function P6(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function R6(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function M6(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function O6(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var VU=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function I6(t){function e(s){t.error=t.hasError?new VU(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(a){return e(a),i()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function D6(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,a){return n?e?".jsx":".js":i&&(!s||!a)?r:i+s+"."+a.toLowerCase()+"js"}):t}const HU={__extends:p6,__assign:So,__rest:ph,__decorate:m6,__param:g6,__esDecorate:y6,__runInitializers:v6,__propKey:x6,__setFunctionName:b6,__metadata:w6,__awaiter:It,__generator:_6,__createBinding:tx,__exportStar:S6,__values:q1,__read:J_,__spread:C6,__spreadArrays:k6,__spreadArray:Z_,__await:vp,__asyncGenerator:N6,__asyncDelegator:T6,__asyncValues:A6,__makeTemplateObject:E6,__importStar:j6,__importDefault:L6,__classPrivateFieldGet:P6,__classPrivateFieldSet:R6,__classPrivateFieldIn:M6,__addDisposableResource:O6,__disposeResources:I6,__rewriteRelativeImportExtension:D6},GU=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:O6,get __assign(){return So},__asyncDelegator:T6,__asyncGenerator:N6,__asyncValues:A6,__await:vp,__awaiter:It,__classPrivateFieldGet:P6,__classPrivateFieldIn:M6,__classPrivateFieldSet:R6,__createBinding:tx,__decorate:m6,__disposeResources:I6,__esDecorate:y6,__exportStar:S6,__extends:p6,__generator:_6,__importDefault:L6,__importStar:j6,__makeTemplateObject:E6,__metadata:w6,__param:g6,__propKey:x6,__read:J_,__rest:ph,__rewriteRelativeImportExtension:D6,__runInitializers:v6,__setFunctionName:b6,__spread:C6,__spreadArray:Z_,__spreadArrays:k6,__values:q1,default:HU},Symbol.toStringTag,{value:"Module"})),YU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Q_ extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class KU extends Q_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class nN extends Q_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class iN extends Q_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Mw;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Mw||(Mw={}));class XU{constructor(e,{headers:r={},customFetch:n,region:i=Mw.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=YU(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return It(this,arguments,void 0,function*(r,n={}){var i;let s,a;try{const{headers:o,method:l,body:c,signal:h,timeout:f}=n;let g={},{region:p}=n;p||(p=this.region);const v=new URL(`${this.url}/${r}`);p&&p!=="any"&&(g["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let x;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",x=c):typeof c=="string"?(g["Content-Type"]="text/plain",x=c):typeof FormData<"u"&&c instanceof FormData?x=c:(g["Content-Type"]="application/json",x=JSON.stringify(c)):x=c;let b=h;f&&(a=new AbortController,s=setTimeout(()=>a.abort(),f),h?(b=a.signal,h.addEventListener("abort",()=>a.abort())):b=a.signal);const _=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),o),body:x,signal:b}).catch(P=>{throw new KU(P)}),k=_.headers.get("x-relay-error");if(k&&k==="true")throw new nN(_);if(!_.ok)throw new iN(_);let N=((i=_.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return N==="application/json"?j=yield _.json():N==="application/octet-stream"||N==="application/pdf"?j=yield _.blob():N==="text/event-stream"?j=_:N==="multipart/form-data"?j=yield _.formData():j=yield _.text(),{data:j,error:null,response:_}}catch(o){return{data:null,error:o,response:o instanceof iN||o instanceof nN?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var _s={};const Op=az(GU);var dy={},fy={},py={},my={},gy={},yy={},sN;function B6(){if(sN)return yy;sN=1,Object.defineProperty(yy,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return yy.default=t,yy}var aN;function F6(){if(aN)return gy;aN=1,Object.defineProperty(gy,"__esModule",{value:!0});const e=Op.__importDefault(B6());class r{constructor(i){var s,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,h,f,g;let p=null,v=null,x=null,b=l.status,_=l.statusText;if(l.ok){if(this.method!=="HEAD"){const P=await l.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?v=P:v=JSON.parse(P))}const N=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),j=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");N&&j&&j.length>1&&(x=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(p={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,x=null,b=406,_="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const N=await l.text();try{p=JSON.parse(N),Array.isArray(p)&&l.status===404&&(v=[],p=null,b=200,_="OK")}catch{l.status===404&&N===""?(b=204,_="No Content"):p={message:N}}if(p&&this.isMaybeSingle&&(!((g=p?.details)===null||g===void 0)&&g.includes("0 rows"))&&(p=null,b=200,_="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:v,count:x,status:b,statusText:_}});return this.shouldThrowOnError||(o=o.catch(l=>{var c,h,f,g,p,v;let x="";const b=l?.cause;if(b){const _=(c=b?.message)!==null&&c!==void 0?c:"",k=(h=b?.code)!==null&&h!==void 0?h:"";x=`${(f=l?.name)!==null&&f!==void 0?f:"FetchError"}: ${l?.message}`,x+=`

Caused by: ${(g=b?.name)!==null&&g!==void 0?g:"Error"}: ${_}`,k&&(x+=` (${k})`),b?.stack&&(x+=`
${b.stack}`)}else x=(p=l?.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(v=l?.name)!==null&&v!==void 0?v:"FetchError"}: ${l?.message}`,details:x,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(i,s)}returns(){return this}overrideTypes(){return this}}return gy.default=r,gy}var oN;function $6(){if(oN)return my;oN=1,Object.defineProperty(my,"__esModule",{value:!0});const e=Op.__importDefault(F6());class r extends e.default{select(i){let s=!1;const a=(i??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var h;const f=[i?"analyze":null,s?"verbose":null,a?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${g}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return my.default=r,my}var lN;function eS(){if(lN)return py;lN=1,Object.defineProperty(py,"__esModule",{value:!0});const e=Op.__importDefault($6()),r=new RegExp("[,()]");class n extends e.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const o=Array.from(new Set(a)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const h=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${c}fts${h}.${a}`),this}match(s){return Object.entries(s).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(s,a,o){return this.url.searchParams.append(s,`not.${a}.${o}`),this}or(s,{foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,a,o){return this.url.searchParams.append(s,`${a}.${o}`),this}}return py.default=n,py}var cN;function z6(){if(cN)return fy;cN=1,Object.defineProperty(fy,"__esModule",{value:!0});const e=Op.__importDefault(eS());class r{constructor(i,{headers:s={},schema:a,fetch:o}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=o}select(i,s){const{head:a=!1,count:o}=s??{},l=a?"HEAD":"GET";let c=!1;const h=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",h),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var o;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(c.length>0){const h=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:o,defaultToNull:l=!0}={}){var c;const h="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(f.length>0){const g=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:s}={}){var a;const o="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return fy.default=r,fy}var uN;function JU(){if(uN)return dy;uN=1,Object.defineProperty(dy,"__esModule",{value:!0});const t=Op,e=t.__importDefault(z6()),r=t.__importDefault(eS());class n{constructor(s,{headers:a={},schema:o,fetch:l}={}){this.url=s,this.headers=new Headers(a),this.schemaName=o,this.fetch=l}from(s){const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:o=!1,get:l=!1,count:c}={}){var h;let f;const g=new URL(`${this.url}/rpc/${s}`);let p;o||l?(f=o?"HEAD":"GET",Object.entries(a).filter(([x,b])=>b!==void 0).map(([x,b])=>[x,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([x,b])=>{g.searchParams.append(x,b)})):(f="POST",p=a);const v=new Headers(this.headers);return c&&v.set("Prefer",`count=${c}`),new r.default({method:f,url:g,headers:v,schema:this.schemaName,body:p,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return dy.default=n,dy}var hN;function ZU(){if(hN)return _s;hN=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.PostgrestError=_s.PostgrestBuilder=_s.PostgrestTransformBuilder=_s.PostgrestFilterBuilder=_s.PostgrestQueryBuilder=_s.PostgrestClient=void 0;const t=Op,e=t.__importDefault(JU());_s.PostgrestClient=e.default;const r=t.__importDefault(z6());_s.PostgrestQueryBuilder=r.default;const n=t.__importDefault(eS());_s.PostgrestFilterBuilder=n.default;const i=t.__importDefault($6());_s.PostgrestTransformBuilder=i.default;const s=t.__importDefault(F6());_s.PostgrestBuilder=s.default;const a=t.__importDefault(B6());return _s.PostgrestError=a.default,_s.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:a.default},_s}var U6=ZU();const q6=Zv(U6),QU=Kj({__proto__:null,default:q6},[U6]),{PostgrestClient:eq,PostgrestQueryBuilder:pwe,PostgrestFilterBuilder:mwe,PostgrestTransformBuilder:gwe,PostgrestBuilder:ywe,PostgrestError:vwe}=q6||QU;class tq{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const rq="2.83.0",nq=`realtime-js/${rq}`,W6="1.0.0",iq="2.0.0",dN=W6,Ow=1e4,sq=1e3,aq=100;var sd;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(sd||(sd={}));var Bi;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Bi||(Bi={}));var _o;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(_o||(_o={}));var Iw;(function(t){t.websocket="websocket"})(Iw||(Iw={}));var ad;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ad||(ad={}));class oq{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodePush(e){var r,n;const{event:i,topic:s,payload:a}=e,o=(r=e.ref)!==null&&r!==void 0?r:"",l=(n=e.join_ref)!==null&&n!==void 0?n:"",c=this.META_LENGTH+l.length+o.length+s.length+i.length,h=new ArrayBuffer(this.HEADER_LENGTH+c);let f=new DataView(h),g=0;f.setUint8(g++,this.KINDS.push),f.setUint8(g++,l.length),f.setUint8(g++,o.length),f.setUint8(g++,s.length),f.setUint8(g++,i.length),Array.from(l,v=>f.setUint8(g++,v.charCodeAt(0))),Array.from(o,v=>f.setUint8(g++,v.charCodeAt(0))),Array.from(s,v=>f.setUint8(g++,v.charCodeAt(0))),Array.from(i,v=>f.setUint8(g++,v.charCodeAt(0)));var p=new Uint8Array(h.byteLength+a.byteLength);return p.set(new Uint8Array(h),0),p.set(new Uint8Array(a),h.byteLength),p.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n,i,s;const a=e.topic,o=(r=e.ref)!==null&&r!==void 0?r:"",l=(n=e.join_ref)!==null&&n!==void 0?n:"",c=e.payload.event,h=(s=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:new ArrayBuffer(0),f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+c.length,g=new ArrayBuffer(this.HEADER_LENGTH+f);let p=new DataView(g),v=0;p.setUint8(v++,this.KINDS.userBroadcastPush),p.setUint8(v++,l.length),p.setUint8(v++,o.length),p.setUint8(v++,a.length),p.setUint8(v++,c.length),p.setUint8(v++,this.BINARY_ENCODING),Array.from(l,b=>p.setUint8(v++,b.charCodeAt(0))),Array.from(o,b=>p.setUint8(v++,b.charCodeAt(0))),Array.from(a,b=>p.setUint8(v++,b.charCodeAt(0))),Array.from(c,b=>p.setUint8(v++,b.charCodeAt(0)));var x=new Uint8Array(g.byteLength+h.byteLength);return x.set(new Uint8Array(g),0),x.set(new Uint8Array(h),g.byteLength),x.buffer}_encodeJsonUserBroadcastPush(e){var r,n,i,s;const a=e.topic,o=(r=e.ref)!==null&&r!==void 0?r:"",l=(n=e.join_ref)!==null&&n!==void 0?n:"",c=e.payload.event,h=(s=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:{},g=new TextEncoder().encode(JSON.stringify(h)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+c.length,v=new ArrayBuffer(this.HEADER_LENGTH+p);let x=new DataView(v),b=0;x.setUint8(b++,this.KINDS.userBroadcastPush),x.setUint8(b++,l.length),x.setUint8(b++,o.length),x.setUint8(b++,a.length),x.setUint8(b++,c.length),x.setUint8(b++,this.JSON_ENCODING),Array.from(l,k=>x.setUint8(b++,k.charCodeAt(0))),Array.from(o,k=>x.setUint8(b++,k.charCodeAt(0))),Array.from(a,k=>x.setUint8(b++,k.charCodeAt(0))),Array.from(c,k=>x.setUint8(b++,k.charCodeAt(0)));var _=new Uint8Array(v.byteLength+g.byteLength);return _.set(new Uint8Array(v),0),_.set(new Uint8Array(g),v.byteLength),_.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,a,o,l]=n;return r({join_ref:i,ref:s,topic:a,event:o,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,r,i);case this.KINDS.reply:return this._decodeReply(e,r,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodePush(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3);let o=this.HEADER_LENGTH+this.META_LENGTH-1;const l=n.decode(e.slice(o,o+i));o=o+i;const c=n.decode(e.slice(o,o+s));o=o+s;const h=n.decode(e.slice(o,o+a));o=o+a;const f=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{join_ref:l,ref:null,topic:c,event:h,payload:f}}_decodeReply(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const c=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+s));l=l+s;const f=n.decode(e.slice(l,l+a));l=l+a;const g=n.decode(e.slice(l,l+o));l=l+o;const p=JSON.parse(n.decode(e.slice(l,e.byteLength))),v={status:g,response:p};return{join_ref:c,ref:h,topic:f,event:_o.reply,payload:v}}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+i));a=a+i;const l=n.decode(e.slice(a,a+s));a=a+s;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{join_ref:null,ref:null,topic:o,event:l,payload:c}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+s));l=l+s;const f=n.decode(e.slice(l,l+a));l=l+a;const g=e.slice(l,e.byteLength),p=o===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,v={type:this.BROADCAST,event:h,payload:p};return a>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:v}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}let V6=class{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var wn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(wn||(wn={}));const fN=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=lq(a,t,e,i),s),{}):{}},lq=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i?.type,a=r[t];return s&&!n.includes(s)?H6(s,a):Dw(a)},H6=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return dq(e,r)}switch(t){case wn.bool:return cq(e);case wn.float4:case wn.float8:case wn.int2:case wn.int4:case wn.int8:case wn.numeric:case wn.oid:return uq(e);case wn.json:case wn.jsonb:return hq(e);case wn.timestamp:return fq(e);case wn.abstime:case wn.date:case wn.daterange:case wn.int4range:case wn.int8range:case wn.money:case wn.reltime:case wn.text:case wn.time:case wn.timestamptz:case wn.timetz:case wn.tsrange:case wn.tstzrange:return Dw(e);default:return Dw(e)}},Dw=t=>t,cq=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},uq=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},hq=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},dq=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>H6(e,o))}return t},fq=t=>typeof t=="string"?t.replace(" ","T"):t,G6=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class J2{constructor(e,r,n={},i=Ow){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var pN;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(pN||(pN={}));class ag{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ag.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=ag.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ag.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(s,(c,h)=>{a[c]||(l[c]=h)}),this.map(a,(c,h)=>{const f=s[c];if(f){const g=h.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),v=h.filter(b=>p.indexOf(b.presence_ref)<0),x=f.filter(b=>g.indexOf(b.presence_ref)<0);v.length>0&&(o[c]=v),x.length>0&&(l[c]=x)}else o[c]=h}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;const h=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),h.length>0){const f=e[o].map(p=>p.presence_ref),g=h.filter(p=>f.indexOf(p.presence_ref)<0);e[o].unshift(...g)}n(o,h,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const h=l.map(f=>f.presence_ref);c=c.filter(f=>h.indexOf(f.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mN;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(mN||(mN={}));var og;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(og||(og={}));var Yc;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Yc||(Yc={}));class tS{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Bi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new J2(this,_o.join,this.params,this.timeout),this.rejoinTimer=new V6(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bi.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Bi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Bi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_o.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new ag(this),this.broadcastEndpointURL=G6(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Bi.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[og.PRESENCE]&&this.bindings[og.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},g={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:h}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e?.(Yc.CHANNEL_ERROR,p)),this._onClose(()=>e?.(Yc.CLOSED)),this.updateJoinPayload(Object.assign({config:g},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){e?.(Yc.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(v=x?.length)!==null&&v!==void 0?v:0,_=[];for(let k=0;k<b;k++){const N=x[k],{filter:{event:j,schema:P,table:F,filter:D}}=N,U=p&&p[k];if(U&&U.event===j&&U.schema===P&&U.table===F&&U.filter===D)_.push(Object.assign(Object.assign({},N),{id:U.id}));else{this.unsubscribe(),this.state=Bi.errored,e?.(Yc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Yc.SUBSCRIBED);return}}).receive("error",p=>{this.state=Bi.errored,e?.(Yc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e?.(Yc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Bi.joined&&e===og.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Bi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_o.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new J2(this,_o.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bi.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new J2(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>aq){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:h}=_o;if(n&&[o,l,c,h].indexOf(a)>=0&&n!==this._joinRef())return;let g=this._onMessage(a,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var v,x,b;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(x=p.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(p=>p.callback(g,n)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var v,x,b,_,k,N;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const j=p.id,P=(v=p.filter)===null||v===void 0?void 0:v.event;return j&&((x=r.ids)===null||x===void 0?void 0:x.includes(j))&&(P==="*"||P?.toLocaleLowerCase()===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(k=(_=p?.filter)===null||_===void 0?void 0:_.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return j==="*"||j===((N=r?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof g=="object"&&"ids"in g){const v=g.data,{schema:x,table:b,commit_timestamp:_,type:k,errors:N}=v;g=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:_,eventType:k,new:{},old:{},errors:N}),this._getPayloadRecords(v))}p.callback(g,n)})}_isClosed(){return this.state===Bi.closed}_isJoined(){return this.state===Bi.joined}_isJoining(){return this.state===Bi.joining}_isLeaving(){return this.state===Bi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&tS.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_o.close,{},e)}_onError(e){this._on(_o.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=fN(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=fN(e.columns,e.old_record)),r}}const Z2=()=>{},vy={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},pq=[1e3,2e3,5e3,1e4],mq=1e4,gq=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yq{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ow,this.transport=null,this.heartbeatIntervalMs=vy.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Z2,this.ref=0,this.reconnectTimer=null,this.vsn=dN,this.logger=Z2,this.conn=null,this.sendBuffer=[],this.serializer=new oq,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Iw.websocket}`,this.httpEndpoint=G6(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=tq.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case sd.connecting:return ad.Connecting;case sd.open:return ad.Open;case sd.closing:return ad.Closing;default:return ad.Closed}}isConnected(){return this.connectionState()===ad.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new tS(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(sq,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},vy.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),s),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===sd.open||this.conn.readyState===sd.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(_o.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([gq],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:nq};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(_o.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new V6(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vy.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,o,l,c,h,f,g,p;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:Ow,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:vy.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e?.heartbeatCallback)!==null&&o!==void 0?o:Z2,this.vsn=(l=e?.vsn)!==null&&l!==void 0?l:dN,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(v=>pq[v-1]||mq),this.vsn){case W6:this.encode=(h=e?.encode)!==null&&h!==void 0?h:((v,x)=>x(JSON.stringify(v))),this.decode=(f=e?.decode)!==null&&f!==void 0?f:((v,x)=>x(JSON.parse(v)));break;case iq:this.encode=(g=e?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(p=e?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class rS extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Jn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class vq extends rS{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Bw extends rS{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const nS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),xq=()=>Response,Fw=t=>{if(Array.isArray(t))return t.map(r=>Fw(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Fw(n)}),e},bq=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Q2=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},wq=(t,e,r)=>It(void 0,void 0,void 0,function*(){const n=yield xq();t instanceof n&&!r?.noResolveJson?t.json().then(i=>{const s=t.status||500,a=i?.statusCode||s+"";e(new vq(Q2(i),s,a))}).catch(i=>{e(new Bw(Q2(i),i))}):e(new Bw(Q2(t),t))}),_q=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(bq(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function r0(t,e,r,n,i,s){return It(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,_q(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n?.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>wq(l,o,n))})})}function kg(t,e,r,n){return It(this,void 0,void 0,function*(){return r0(t,"GET",e,r,n)})}function nl(t,e,r,n,i){return It(this,void 0,void 0,function*(){return r0(t,"POST",e,n,i,r)})}function $w(t,e,r,n,i){return It(this,void 0,void 0,function*(){return r0(t,"PUT",e,n,i,r)})}function Sq(t,e,r,n){return It(this,void 0,void 0,function*(){return r0(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function iS(t,e,r,n,i){return It(this,void 0,void 0,function*(){return r0(t,"DELETE",e,n,i,r)})}class Cq{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return It(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Jn(e))return{data:null,error:e};throw e}})}}var Y6;class kq{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Y6]="BlobDownloadBuilder",this.promise=null}asStream(){return new Cq(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return It(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Jn(e))return{data:null,error:e};throw e}})}}Y6=Symbol.toStringTag;const Nq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Tq{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=nS(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return It(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},gN),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),i?.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(r),h=this._getFinalPath(c),f=yield(e=="PUT"?$w:nl)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:o},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jn(s))return{data:null,error:s};throw s}})}upload(e,r,n){return It(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return It(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:gN.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const f=yield $w(this.fetch,o.toString(),l,{headers:h});return{data:{path:s,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return It(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const s=yield nl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new rS("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}})}update(e,r,n){return It(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return It(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jn(i))return{data:null,error:i};throw i}})}copy(e,r,n){return It(this,void 0,void 0,function*(){try{return{data:{path:(yield nl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return It(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield nl(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return It(this,void 0,void 0,function*(){try{const i=yield nl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jn(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),a=s?`?${s}`:"",o=this._getFinalPath(e),l=()=>kg(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new kq(l,this.shouldThrowOnError)}info(e){return It(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield kg(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Fw(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}})}exists(e){return It(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Sq(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jn(n)&&n instanceof Bw){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof r?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(r?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return It(this,void 0,void 0,function*(){try{return{data:yield iS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}})}list(e,r,n){return It(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Nq),r),{prefix:e||""});return{data:yield nl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jn(i))return{data:null,error:i};throw i}})}listV2(e,r){return It(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield nl(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const K6="2.83.0",X6={"X-Client-Info":`storage-js/${K6}`};class Aq{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},X6),r),this.fetch=nS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return It(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield kg(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}})}getBucket(e){return It(this,void 0,void 0,function*(){try{return{data:yield kg(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}})}createBucket(e){return It(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield nl(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jn(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return It(this,void 0,void 0,function*(){try{return{data:yield $w(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return It(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return It(this,void 0,void 0,function*(){try{return{data:yield iS(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Eq{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},X6),r),this.fetch=nS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return It(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}})}listBuckets(e){return It(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield kg(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return It(this,void 0,void 0,function*(){try{return{data:yield iS(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}})}}const sS={"X-Client-Info":`storage-js/${K6}`,"Content-Type":"application/json"};class J6 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ha(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class eb extends J6{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jq extends J6{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var yN;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(yN||(yN={}));const aS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Lq=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vN=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Pq=(t,e,r)=>It(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(a=>{const o=a?.statusCode||a?.code||i+"";e(new eb(vN(a),i,o))}).catch(()=>{const a=i+"",o=s.statusText||`HTTP ${i} error`;e(new eb(o,i,a))});else{const a=i+"",o=s.statusText||`HTTP ${i} error`;e(new eb(o,i,a))}}else e(new jq(vN(t),t))}),Rq=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return n?(Lq(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function Mq(t,e,r,n,i,s){return It(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,Rq(e,n,i,s)).then(l=>{if(!l.ok)throw l;if(n?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>Pq(l,o,n))})})}function Ga(t,e,r,n,i){return It(this,void 0,void 0,function*(){return Mq(t,"POST",e,n,i,r)})}class Oq{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sS),r),this.fetch=aS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return It(this,void 0,void 0,function*(){try{return{data:(yield Ga(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}getIndex(e,r){return It(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ha(n))return{data:null,error:n};throw n}})}listIndexes(e){return It(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return It(this,void 0,void 0,function*(){try{return{data:(yield Ga(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ha(n))return{data:null,error:n};throw n}})}}class Iq{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sS),r),this.fetch=aS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return It(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ga(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}getVectors(e){return It(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}listVectors(e){return It(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ga(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}queryVectors(e){return It(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}deleteVectors(e){return It(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ga(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}}class Dq{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sS),r),this.fetch=aS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return It(this,void 0,void 0,function*(){try{return{data:(yield Ga(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}getBucket(e){return It(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}listBuckets(){return It(this,arguments,void 0,function*(e={}){try{return{data:yield Ga(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}deleteBucket(e){return It(this,void 0,void 0,function*(){try{return{data:(yield Ga(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}}class Bq extends Dq{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Fq(this.url,this.headers,e,this.fetch)}}class Fq extends Oq{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return It(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return It(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return It(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return It(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new $q(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class $q extends Iq{constructor(e,r,n,i,s){super(e,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return It(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return It(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return It(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return It(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return It(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class zq extends Aq{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new Tq(this.url,this.headers,e,this.fetch)}get vectors(){return new Bq(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Eq(this.url+"/iceberg",this.headers,this.fetch)}}const Uq="2.83.0";let Gm="";typeof Deno<"u"?Gm="deno":typeof document<"u"?Gm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gm="react-native":Gm="node";const qq={"X-Client-Info":`supabase-js-${Gm}/${Uq}`},Wq={headers:qq},Vq={schema:"public"},Hq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Gq={},Yq=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Kq=()=>Headers,Xq=(t,e,r)=>{const n=Yq(r),i=Kq();return async(s,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let c=new i(a?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},a),{headers:c}))}};function Jq(t){return t.endsWith("/")?t:t+"/"}function Zq(t,e){var r,n;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:c,realtime:h,global:f}=e,g={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f?.headers)!==null&&r!==void 0?r:{}),(n=o?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function Qq(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Jq(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Z6="2.83.0",Df=30*1e3,zw=3,tb=zw*Df,eW="http://localhost:9999",tW="supabase.auth.token",rW={"X-Client-Info":`gotrue-js/${Z6}`},Uw="X-Supabase-Api-Version",Q6={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iW=600*1e3;class Ng extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Bt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class sW extends Ng{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function aW(t){return Bt(t)&&t.name==="AuthApiError"}class od extends Ng{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class mh extends Ng{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class qa extends mh{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oW(t){return Bt(t)&&t.name==="AuthSessionMissingError"}class Cf extends mh{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xy extends mh{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class by extends mh{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lW(t){return Bt(t)&&t.name==="AuthImplicitGrantRedirectError"}class xN extends mh{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qw extends mh{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function rb(t){return Bt(t)&&t.name==="AuthRetryableFetchError"}class bN extends mh{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ww extends mh{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const W1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wN=` 	
\r=`.split(""),cW=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<wN.length;e+=1)t[wN[e].charCodeAt(0)]=-2;for(let e=0;e<W1.length;e+=1)t[W1[e].charCodeAt(0)]=e;return t})();function _N(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(W1[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(W1[n]),e.queuedBits-=6}}function eL(t,e,r){const n=cW[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function SN(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{dW(a,n,r)};for(let a=0;a<t.length;a+=1)eL(t.charCodeAt(a),i,s);return e.join("")}function uW(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function hW(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}uW(n,e)}}function dW(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Zf(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)eL(t.charCodeAt(i),r,n);return new Uint8Array(e)}function fW(t){const e=[];return hW(t,r=>e.push(r)),new Uint8Array(e)}function cd(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>_N(i,r,n)),_N(null,r,n),e.join("")}function pW(t){return Math.round(Date.now()/1e3)+t}function mW(){return Symbol("auth-callback")}const os=()=>typeof window<"u"&&typeof document<"u",Kh={tested:!1,writable:!1},tL=()=>{if(!os())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kh.tested)return Kh.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Kh.tested=!0,Kh.writable=!0}catch{Kh.tested=!0,Kh.writable=!1}return Kh.writable};function gW(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const rL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),yW=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Bf=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Xh=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Wu=async(t,e)=>{await t.removeItem(e)};class rx{constructor(){this.promise=new rx.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}rx.promiseConstructor=Promise;function nb(t){const e=t.split(".");if(e.length!==3)throw new Ww("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!nW.test(e[n]))throw new Ww("JWT not in base64url format");return{header:JSON.parse(SN(e[0])),payload:JSON.parse(SN(e[1])),signature:Zf(e[2]),raw:{header:e[0],payload:e[1]}}}async function vW(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function xW(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function bW(t){return("0"+t.toString(16)).substr(-2)}function wW(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,bW).join("")}async function _W(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function SW(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await _W(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kf(t,e,r=!1){const n=wW();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Bf(t,`${e}-code-verifier`,i);const s=await SW(n);return[s,n===s?"plain":"s256"]}const CW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kW(t){const e=t.headers.get(Uw);if(!e||!e.match(CW))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function NW(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function TW(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const AW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nf(t){if(!AW.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ib(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function EW(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function CN(t){return JSON.parse(JSON.stringify(t))}const Qh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jW=[502,503,504];async function kN(t){var e;if(!yW(t))throw new qw(Qh(t),0);if(jW.includes(t.status))throw new qw(Qh(t),t.status);let r;try{r=await t.json()}catch(s){throw new od(Qh(s),s)}let n;const i=kW(t);if(i&&i.getTime()>=Q6["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new bN(Qh(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new qa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new bN(Qh(r),t.status,r.weak_password.reasons);throw new sW(Qh(r),t.status||500,n)}const LW=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function tr(t,e,r,n){var i;const s=Object.assign({},n?.headers);s[Uw]||(s[Uw]=Q6["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await PW(t,e,r+o,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function PW(t,e,r,n,i,s){const a=LW(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new qw(Qh(l),0)}if(o.ok||await kN(o),n?.noResolveJson)return o;try{return await o.json()}catch(l){await kN(l)}}function el(t){var e;let r=null;OW(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=pW(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function NN(t){const e=el(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Qu(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function RW(t){return{data:t,error:null}}function MW(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=ph(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function TN(t){return t}function OW(t){return t.access_token&&t.refresh_token&&t.expires_in}const sb=["global","local","others"];class IW{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=rL(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=sb[0]){if(sb.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sb.join(", ")}`);try{return await tr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Bt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await tr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Qu})}catch(n){if(Bt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=ph(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await tr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:MW,redirectTo:r?.redirectTo})}catch(r){if(Bt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await tr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Qu})}catch(r){if(Bt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},h=await tr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:TN});if(h.error)throw h.error;const f=await h.json(),g=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);c[`${b}Page`]=x}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Bt(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Nf(e);try{return await tr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Qu})}catch(r){if(Bt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Nf(e);try{return await tr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Qu})}catch(n){if(Bt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Nf(e);try{return await tr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Qu})}catch(n){if(Bt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Nf(e.userId);try{const{data:r,error:n}=await tr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Nf(e.userId),Nf(e.id);try{return{data:await tr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},h=await tr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:TN});if(h.error)throw h.error;const f=await h.json(),g=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);c[`${b}Page`]=x}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Bt(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await tr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await tr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await tr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Bt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await tr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await tr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}}}function AN(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Tf={debug:!!(globalThis&&tL()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nL extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class DW extends nL{}async function BW(t,e,r){Tf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Tf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Tf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Tf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Tf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new DW(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Tf.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function FW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function iL(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function $W(t){return parseInt(t,16)}function zW(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function UW(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:c,scheme:h,uri:f,version:g}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=iL(t.address),v=h?`${h}://${n}`:n,x=t.statement?`${t.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${p}

${x}`;let _=`URI: ${f}
Version: ${g}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(_+=`
Expiration Time: ${i.toISOString()}`),o&&(_+=`
Not Before: ${o.toISOString()}`),l&&(_+=`
Request ID: ${l}`),c){let k=`
Resources:`;for(const N of c){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);k+=`
- ${N}`}_+=k}return`${b}
${_}`}class Ai extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class V1 extends Ai{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function qW({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ai({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ai({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ai({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ai({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ai({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ai({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Ai({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ai({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(sL(a)){if(s.rp.id!==a)return new Ai({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ai({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ai({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ai({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ai({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function WW({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ai({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ai({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(sL(n)){if(r.rpId!==n)return new Ai({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ai({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ai({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ai({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class VW{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const HW=new VW;function GW(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=ph(t,["challenge","user","excludeCredentials"]),s=Zf(e).buffer,a=Object.assign(Object.assign({},r),{id:Zf(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Zf(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function YW(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=ph(t,["challenge","allowCredentials"]),i=Zf(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Zf(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function KW(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:cd(new Uint8Array(t.response.attestationObject)),clientDataJSON:cd(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function XW(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:cd(new Uint8Array(i.authenticatorData)),clientDataJSON:cd(new Uint8Array(i.clientDataJSON)),signature:cd(new Uint8Array(i.signature)),userHandle:i.userHandle?cd(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sL(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function EN(){var t,e;return!!(os()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function JW(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new V1("Browser returned unexpected credential type",e)}:{data:null,error:new V1("Empty credential response",e)}}catch(e){return{data:null,error:qW({error:e,options:t})}}}async function ZW(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new V1("Browser returned unexpected credential type",e)}:{data:null,error:new V1("Empty credential response",e)}}catch(e){return{data:null,error:WW({error:e,options:t})}}}const QW={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},eV={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function H1(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(e(a)){const o=n[s];e(o)?n[s]=H1(o,a):n[s]=H1(a)}else n[s]=a}return n}function tV(t,e){return H1(QW,t,e||{})}function rV(t,e){return H1(eV,t,e||{})}class nV{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:o};const l=i??HW.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=tV(a.webauthn.credential_options.publicKey,s?.create),{data:h,error:f}=await JW({publicKey:c,signal:l});return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const c=rV(a.webauthn.credential_options.publicKey,s?.request),{data:h,error:f}=await ZW(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(a){return Bt(a)?{data:null,error:a}:{data:null,error:new od("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Ng("rpId is required for WebAuthn authentication")};try{if(!EN())return{data:null,error:new od("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return Bt(a)?{data:null,error:a}:{data:null,error:new od("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Ng("rpId is required for WebAuthn registration")};try{if(!EN())return{data:null,error:new od("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return Bt(a)?{data:null,error:a}:{data:null,error:new od("Unexpected error in register",a)}}}}FW();const iV={url:eW,storageKey:tW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function jN(t,e,r){return await r()}const Af={};class Tg{get jwks(){var e,r;return(r=(e=Af[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Af[this.storageKey]=Object.assign(Object.assign({},Af[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Af[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Af[this.storageKey]=Object.assign(Object.assign({},Af[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},iV),e);if(this.storageKey=s.storageKey,this.instanceID=(r=Tg.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Tg.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&os()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new IW({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=rL(s.fetch),this.lock=s.lock||jN,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:os()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=BW:this.lock=jN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nV(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:tL()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=AN(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=AN(this.memoryStorage)),os()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Z6}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(os()&&(r=gW(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),os()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),lW(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Bt(r)?this._returnResult({error:r}):this._returnResult({error:new od("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await tr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:el}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(Bt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:h,password:f,options:g}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await kf(this.storage,this.storageKey)),s=await tr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:h,password:f,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:p,code_challenge_method:v},xform:el})}else if("phone"in e){const{phone:h,password:f,options:g}=e;s=await tr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(n=g?.data)!==null&&n!==void 0?n:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:el})}else throw new xy("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(Bt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await tr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:NN})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await tr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:NN})}else throw new xy("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new Cf;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Bt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,a,o,l,c,h,f,g;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:x,wallet:b,statement:_,options:k}=e;let N;if(os())if(typeof b=="object")N=b;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")N=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=b}const j=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href),P=await N.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=iL(P[0]);let D=(n=k?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!D){const z=await N.request({method:"eth_chainId"});D=$W(z)}const U={domain:j.host,address:F,statement:_,uri:j.href,version:"1",chainId:D,nonce:(i=k?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=k?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=k?.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=k?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=k?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(h=k?.signInWithEthereum)===null||h===void 0?void 0:h.resources};p=UW(U),v=await N.request({method:"personal_sign",params:[zW(p),F]})}try{const{data:x,error:b}=await tr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:el});if(b)throw b;if(!x||!x.session||!x.user){const _=new Cf;return this._returnResult({data:{user:null,session:null},error:_})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:b})}catch(x){if(Bt(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var r,n,i,s,a,o,l,c,h,f,g,p;let v,x;if("message"in e)v=e.message,x=e.signature;else{const{chain:b,wallet:_,statement:k,options:N}=e;let j;if(os())if(typeof _=="object")j=_;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))j=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=_}const P=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const F=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),k?{statement:k}:null));let D;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")D=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)D=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)v=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),x=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${P.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(n=N?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=N?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((a=N?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((o=N?.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((l=N?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((c=N?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((f=(h=N?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...N.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const F=await j.signMessage(new TextEncoder().encode(v),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=F}}try{const{data:b,error:_}=await tr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:cd(x)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:el});if(_)throw _;if(!b||!b.session||!b.user){const k=new Cf;return this._returnResult({data:{user:null,session:null},error:k})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:_})}catch(b){if(Bt(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await Xh(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await tr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:el});if(await Wu(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new Cf;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Bt(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await tr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:el}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const h=new Cf;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(Bt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await kf(this.storage,this.storageKey));const{error:f}=await tr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:h}=await tr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:h})}throw new xy("You must provide either an email or phone number.")}catch(o){if(Bt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await tr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:el});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(Bt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await kf(this.storage,this.storageKey));const c=await tr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:RW});return!((s=c.data)===null||s===void 0)&&s.url&&os()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(Bt(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new qa;const{error:i}=await tr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Bt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await tr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await tr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:o})}throw new xy("You must provide either an email or phone number and a type")}catch(r){if(Bt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Xh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<tb:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Xh(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=ib()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=EW(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await tr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Qu}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qa}:await tr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Qu})})}catch(r){if(Bt(r))return oW(r)&&(await this._removeSession(),await Wu(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new qa;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await kf(this.storage,this.storageKey));const{data:c,error:h}=await tr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Qu});if(h)throw h;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(Bt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qa;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=nb(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Bt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new qa;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Bt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!os())throw new by("No browser detected.");if(e.error||e.error_description||e.error_code)throw new by(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new xN("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new by("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new xN("No code detected.");const{data:k,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!s||!o||!a||!c)throw new by("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(o);let g=h+f;l&&(g=parseInt(l));const p=g-h;p*1e3<=Df&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=g-f;h-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,g,h):h-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,g,h);const{data:x,error:b}=await this._getUser(s);if(b)throw b;const _={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:g,refresh_token:a,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:e.type},error:null})}catch(n){if(Bt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Xh(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(aW(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await Wu(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=mW(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await kf(this.storage,this.storageKey,!0));try{return await tr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Bt(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Bt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,c,h;const{data:f,error:g}=s;if(g)throw g;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await tr(this.fetch,"GET",p,{headers:this.headers,jwt:(h=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return os()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(Bt(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:o,token:l,access_token:c,nonce:h}=e,f=await tr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:el}),{data:g,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Cf}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:p}))}catch(i){if(Bt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await tr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Bt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await xW(async i=>(i>0&&await vW(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await tr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:el})),(i,s)=>{const a=200*Math.pow(2,i);return s&&rb(s)&&Date.now()+a-n<Df})}catch(n){if(this._debug(r,"error",n),Bt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),os()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Xh(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Xh(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Bf(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a?.user)!==null&&e!==void 0?e:ib()}else if(i&&!i.user&&!i.user){const a=await Xh(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await Wu(this.storage,this.storageKey+"-user"),await Bf(this.storage,this.storageKey,i)):i.user=ib()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<tb;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${tb}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),rb(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new qa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new rx;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new qa;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),Bt(s)){const a={data:null,error:s};return rb(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Bf(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=CN(i);await Bf(this.storage,this.storageKey,s)}else{const i=CN(r);await Bf(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Wu(this.storage,this.storageKey),await Wu(this.storage,this.storageKey+"-code-verifier"),await Wu(this.storage,this.storageKey+"-user"),this.userStorage&&await Wu(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&os()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Df);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Df);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Df}ms, refresh threshold is ${zw} ticks`),i<=zw&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof nL)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!os()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await kf(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await tr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Bt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await tr(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Bt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?KW(e.webauthn.credential_response):XW(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await tr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(Bt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await tr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:GW(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:YW(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Bt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=nb(n.access_token);let a=null;s.aal&&(a=s.aal);let o=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const c=s.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await tr(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new qa})})}catch(r){if(Bt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new qa});const a=await tr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&os()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Bt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new qa});const a=await tr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&os()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Bt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await tr(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new qa})})}catch(e){if(Bt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await tr(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new qa})})}catch(r){if(Bt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+iW>i)return n;const{data:s,error:a}=await tr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});n=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=nb(n);r?.allowExpired||NW(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const h=TW(i.alg),f=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,a,fW(`${o}.${l}`)))throw new Ww("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(Bt(n))return this._returnResult({data:null,error:n});throw n}}}Tg.nextInstanceID={};const sV=Tg;class aV extends sV{constructor(e){super(e)}}class oV{constructor(e,r,n){var i,s,a;this.supabaseUrl=e,this.supabaseKey=r;const o=Qq(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:Vq,realtime:Gq,auth:Object.assign(Object.assign({},Hq),{storageKey:l}),global:Wq},h=Zq(n??{},c);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=Xq(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new eq(new URL("rest/v1",o).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new zq(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new XU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:o,lock:l,debug:c,throwOnError:h},f,g){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new aV({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new yq(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lV=(t,e,r)=>new oV(t,e,r);function cV(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}cV()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const uV="https://adretkrvrrezyvoyegkx.supabase.co",hV="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFkcmV0a3J2cnJlenl2b3llZ2t4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMwNDI2NjUsImV4cCI6MjA3ODYxODY2NX0.7aENCezEYea454Qzygh-1ryHCWUXJH_On8P__qiXhc4",Ya=lV(uV,hV);Ya.auth.onAuthStateChange((t,e)=>{const r=e?.access_token||null;r?localStorage.setItem("token",r):localStorage.removeItem("token")});async function LN(){const{data:t,error:e}=await Ya.auth.getUser();return e?null:t?.user??null}const aL=E.createContext(),nc=()=>{const t=E.useContext(aL);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},dV=({children:t})=>{const[e,r]=E.useState(null),[n,i]=E.useState(!0);E.useEffect(()=>{let h=!0;(async()=>{try{const{data:p}=await Ya.auth.getSession();if(!h)return;p?.session?.user?(r(p.session.user),localStorage.setItem("token",p.session.access_token)):r(null)}catch(p){console.error("Auth initialization error:",p),h&&r(null)}finally{h&&i(!1)}})();const{data:{subscription:g}}=Ya.auth.onAuthStateChange((p,v)=>{v?.user?r(v.user):r(null)});return()=>{h=!1,g?.unsubscribe()}},[]);const c={user:e,loading:n,isAuthenticated:!!e,login:async(h,f)=>{try{const{data:g,error:p}=await Ya.auth.signInWithPassword({email:h,password:f});if(p)throw p;try{const v=await fetch("/api/users/profile",{method:"GET",headers:{Authorization:`Bearer ${g.session.access_token}`,"Content-Type":"application/json"}});v.ok||console.warn("Failed to sync user with backend:",v.status)}catch(v){console.warn("Error syncing user:",v)}return{success:!0,data:g}}catch(g){return console.error("Login error:",g),{success:!1,error:g.message||"Login failed"}}},register:async(h,f,g)=>{try{if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/.test(f))return{success:!1,error:"La contrasea debe tener al menos 8 caracteres, una mayscula, una minscula y un nmero"};try{const _=await fetch("/api/users/check-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h})});if(_.ok&&(await _.json()).registered)return{success:!1,error:"Este email ya est registrado"}}catch(_){console.warn("Could not check email registration:",_)}const{data:v,error:x}=await Ya.auth.signUp({email:h,password:f,options:{data:{name:g,display_name:g,full_name:g}}});if(x){if(x.message&&(x.message.includes("already registered")||x.message.includes("already been registered")||x.message.includes("User already registered")))return{success:!1,error:"Este email ya est registrado"};throw x}return{success:!0,requiresEmailConfirmation:!v.session}}catch(p){return console.error("Registration error:",p),p.message&&(p.message.includes("already registered")||p.message.includes("already been registered")||p.message.includes("User already registered"))?{success:!1,error:"Este email ya est registrado"}:{success:!1,error:p.message||"Error en el registro"}}},logout:async()=>{try{await Ya.auth.signOut(),r(null)}catch(h){console.error("Logout error:",h)}},redirectToTasks:()=>{window.location.href="/tasks"}};return m.jsx(aL.Provider,{value:c,children:t})},oL=E.createContext(),fV=({children:t})=>{const[e,r]=E.useState(!1);E.useEffect(()=>{const c=localStorage.getItem("theme")==="dark";r(c),c&&document.documentElement.classList.add("dark")},[]);const n=()=>{r(c=>{const h=!c;return h?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")),h})},[i,s]=E.useState(!1),[a,o]=E.useState("medium");E.useEffect(()=>{const c=localStorage.getItem("fontSize")||"medium";o(c)},[]);const l=c=>{o(c),localStorage.setItem("fontSize",c)};return m.jsx(oL.Provider,{value:{darkMode:e,toggleTheme:n,compactView:i,setCompactView:s,fontSize:a,changeFontSize:l},children:t})},n0=()=>{const t=E.useContext(oL);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};const pV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lL=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();var mV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gV=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>E.createElement("svg",{ref:l,...mV,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:lL("lucide",i),...o},[...a.map(([c,h])=>E.createElement(c,h)),...Array.isArray(s)?s:[s]]));const kt=(t,e)=>{const r=E.forwardRef(({className:n,...i},s)=>E.createElement(gV,{ref:s,iconNode:e,className:lL(`lucide-${pV(t)}`,n),...i}));return r.displayName=`${t}`,r};const cL=kt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const yV=kt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);const vV=kt("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Vw=kt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const Ca=kt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const xV=kt("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);const Ta=kt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const nx=kt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const bV=kt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const uL=kt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const G1=kt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Nd=kt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const hL=kt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const wV=kt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const _V=kt("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);const oS=kt("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const SV=kt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const lS=kt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const dL=kt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const CV=kt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const fL=kt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const pL=kt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const kV=kt("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);const Y1=kt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const NV=kt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const PN=kt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const ix=kt("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);const TV=kt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const AV=kt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const cS=kt("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const mL=kt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const EV=kt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const gL=kt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const jV=kt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const LV=kt("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);const PV=kt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const RV=kt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const yL=kt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const MV=kt("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);const OV=kt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const vL=kt("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const IV=kt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);const xL=kt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const bL=kt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const uS=kt("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);const Xs=kt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const hS=kt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const DV=kt("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);const dS=kt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const BV=kt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const fS=kt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const FV=kt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const lg=kt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const Td=kt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const $V=kt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);const wL=kt("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);const cg=kt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const _L=kt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const sx=kt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const zV=kt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const SL=kt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const ud=kt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Ff=kt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Yl=kt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function RN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ax(...t){return e=>{let r=!1;const n=t.map(i=>{const s=RN(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():RN(t[i],null)}}}}function Un(...t){return E.useCallback(ax(...t),t)}var nu=E.forwardRef((t,e)=>{const{children:r,...n}=t,i=E.Children.toArray(r),s=i.find(qV);if(s){const a=s.props.children,o=i.map(l=>l===s?E.Children.count(a)>1?E.Children.only(null):E.isValidElement(a)?a.props.children:null:l);return m.jsx(Hw,{...n,ref:e,children:E.isValidElement(a)?E.cloneElement(a,void 0,o):null})}return m.jsx(Hw,{...n,ref:e,children:r})});nu.displayName="Slot";var Hw=E.forwardRef((t,e)=>{const{children:r,...n}=t;if(E.isValidElement(r)){const i=VV(r);return E.cloneElement(r,{...WV(n,r.props),ref:e?ax(e,i):i})}return E.Children.count(r)>1?E.Children.only(null):null});Hw.displayName="SlotClone";var UV=({children:t})=>m.jsx(m.Fragment,{children:t});function qV(t){return E.isValidElement(t)&&t.type===UV}function WV(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{s(...o),i(...o)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function VV(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function CL(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=CL(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function kL(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=CL(t))&&(n&&(n+=" "),n+=e);return n}const MN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ON=kL,NL=(t,e)=>r=>{var n;if(e?.variants==null)return ON(t,r?.class,r?.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(c=>{const h=r?.[c],f=s?.[c];if(h===null)return null;const g=MN(h)||MN(f);return i[c][g]}),o=r&&Object.entries(r).reduce((c,h)=>{let[f,g]=h;return g===void 0||(c[f]=g),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,h)=>{let{class:f,className:g,...p}=h;return Object.entries(p).every(v=>{let[x,b]=v;return Array.isArray(b)?b.includes({...s,...o}[x]):{...s,...o}[x]===b})?[...c,f,g]:c},[]);return ON(t,a,l,r?.class,r?.className)},pS="-",HV=t=>{const e=YV(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const o=a.split(pS);return o[0]===""&&o.length!==1&&o.shift(),TL(o,e)||GV(a)},getConflictingClassGroupIds:(a,o)=>{const l=r[a]||[];return o&&n[a]?[...l,...n[a]]:l}}},TL=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?TL(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(pS);return e.validators.find(({validator:a})=>a(s))?.classGroupId},IN=/^\[(.+)\]$/,GV=t=>{if(IN.test(t)){const e=IN.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},YV=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return XV(Object.entries(t.classGroups),r).forEach(([s,a])=>{Gw(a,n,s,e)}),n},Gw=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:DN(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(KV(i)){Gw(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{Gw(a,DN(e,s),r,n)})})},DN=(t,e)=>{let r=t;return e.split(pS).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},KV=t=>t.isThemeGetter,XV=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[r,i]}):t,JV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},AL="!",ZV=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,a=o=>{const l=[];let c=0,h=0,f;for(let b=0;b<o.length;b++){let _=o[b];if(c===0){if(_===i&&(n||o.slice(b,b+s)===e)){l.push(o.slice(h,b)),h=b+s;continue}if(_==="/"){f=b;continue}}_==="["?c++:_==="]"&&c--}const g=l.length===0?o:o.substring(h),p=g.startsWith(AL),v=p?g.substring(1):g,x=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:x}};return r?o=>r({className:o,parseClassName:a}):a},QV=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},eH=t=>({cache:JV(t.cacheSize),parseClassName:ZV(t),...HV(t)}),tH=/\s+/,rH=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(tH);let o="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:h,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:p}=r(c);let v=!!p,x=n(v?g.substring(0,p):g);if(!x){if(!v){o=c+(o.length>0?" "+o:o);continue}if(x=n(g),!x){o=c+(o.length>0?" "+o:o);continue}v=!1}const b=QV(h).join(":"),_=f?b+AL:b,k=_+x;if(s.includes(k))continue;s.push(k);const N=i(x,v);for(let j=0;j<N.length;++j){const P=N[j];s.push(_+P)}o=c+(o.length>0?" "+o:o)}return o};function nH(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=EL(e))&&(n&&(n+=" "),n+=r);return n}const EL=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=EL(t[n]))&&(r&&(r+=" "),r+=e);return r};function iH(t,...e){let r,n,i,s=a;function a(l){const c=e.reduce((h,f)=>f(h),t());return r=eH(c),n=r.cache.get,i=r.cache.set,s=o,o(l)}function o(l){const c=n(l);if(c)return c;const h=rH(l,r);return i(l,h),h}return function(){return s(nH.apply(null,arguments))}}const Tn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},jL=/^\[(?:([a-z-]+):)?(.+)\]$/i,sH=/^\d+\/\d+$/,aH=new Set(["px","full","screen"]),oH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,uH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$c=t=>Qf(t)||aH.has(t)||sH.test(t),Vu=t=>Ip(t,"length",xH),Qf=t=>!!t&&!Number.isNaN(Number(t)),ab=t=>Ip(t,"number",Qf),Em=t=>!!t&&Number.isInteger(Number(t)),dH=t=>t.endsWith("%")&&Qf(t.slice(0,-1)),wr=t=>jL.test(t),Hu=t=>oH.test(t),fH=new Set(["length","size","percentage"]),pH=t=>Ip(t,fH,LL),mH=t=>Ip(t,"position",LL),gH=new Set(["image","url"]),yH=t=>Ip(t,gH,wH),vH=t=>Ip(t,"",bH),jm=()=>!0,Ip=(t,e,r)=>{const n=jL.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},xH=t=>lH.test(t)&&!cH.test(t),LL=()=>!1,bH=t=>uH.test(t),wH=t=>hH.test(t),_H=()=>{const t=Tn("colors"),e=Tn("spacing"),r=Tn("blur"),n=Tn("brightness"),i=Tn("borderColor"),s=Tn("borderRadius"),a=Tn("borderSpacing"),o=Tn("borderWidth"),l=Tn("contrast"),c=Tn("grayscale"),h=Tn("hueRotate"),f=Tn("invert"),g=Tn("gap"),p=Tn("gradientColorStops"),v=Tn("gradientColorStopPositions"),x=Tn("inset"),b=Tn("margin"),_=Tn("opacity"),k=Tn("padding"),N=Tn("saturate"),j=Tn("scale"),P=Tn("sepia"),F=Tn("skew"),D=Tn("space"),U=Tn("translate"),z=()=>["auto","contain","none"],K=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",wr,e],q=()=>[wr,e],W=()=>["",$c,Vu],$=()=>["auto",Qf,wr],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],re=()=>["","0",wr],pe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[Qf,wr];return{cacheSize:500,separator:":",theme:{colors:[jm],spacing:[$c,Vu],blur:["none","",Hu,wr],brightness:X(),borderColor:[t],borderRadius:["none","","full",Hu,wr],borderSpacing:q(),borderWidth:W(),contrast:X(),grayscale:re(),hueRotate:X(),invert:re(),gap:q(),gradientColorStops:[t],gradientColorStopPositions:[dH,Vu],inset:B(),margin:B(),opacity:X(),padding:q(),saturate:X(),scale:X(),sepia:re(),skew:X(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",wr]}],container:["container"],columns:[{columns:[Hu]}],"break-after":[{"break-after":pe()}],"break-before":[{"break-before":pe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),wr]}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Em,wr]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",wr]}],grow:[{grow:re()}],shrink:[{shrink:re()}],order:[{order:["first","last","none",Em,wr]}],"grid-cols":[{"grid-cols":[jm]}],"col-start-end":[{col:["auto",{span:["full",Em,wr]},wr]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[jm]}],"row-start-end":[{row:["auto",{span:[Em,wr]},wr]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",wr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",wr]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",wr,e]}],"min-w":[{"min-w":[wr,e,"min","max","fit"]}],"max-w":[{"max-w":[wr,e,"none","full","min","max","fit","prose",{screen:[Hu]},Hu]}],h:[{h:[wr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[wr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[wr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[wr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Hu,Vu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ab]}],"font-family":[{font:[jm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",wr]}],"line-clamp":[{"line-clamp":["none",Qf,ab]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$c,wr]}],"list-image":[{"list-image":["none",wr]}],"list-style-type":[{list:["none","disc","decimal",wr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$c,Vu]}],"underline-offset":[{"underline-offset":["auto",$c,wr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",wr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",wr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),mH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",pH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yH]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...ee(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:ee()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ee()]}],"outline-offset":[{"outline-offset":[$c,wr]}],"outline-w":[{outline:[$c,Vu]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[$c,Vu]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Hu,vH]}],"shadow-color":[{shadow:[jm]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Hu,wr]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[N]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",wr]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",wr]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",wr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Em,wr]}],"translate-x":[{"translate-x":[U]}],"translate-y":[{"translate-y":[U]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",wr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",wr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",wr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[$c,Vu,ab]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},SH=iH(_H);function Pr(...t){return SH(kL(t))}const CH=NL("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 active:scale-95 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60 shadow-sm",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function et({className:t,variant:e,size:r,asChild:n=!1,...i}){const s=n?nu:"button";return m.jsx(s,{"data-slot":"button",className:Pr(CH({variant:e,size:r,className:t})),...i})}function hi({className:t,type:e,...r}){return m.jsx("input",{type:e,"data-slot":"input",className:Pr("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-all duration-200 outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var kH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Fr=kH.reduce((t,e)=>{const r=E.forwardRef((n,i)=>{const{asChild:s,...a}=n,o=s?nu:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(o,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function PL(t,e){t&&X_.flushSync(()=>t.dispatchEvent(e))}var NH="Label",RL=E.forwardRef((t,e)=>m.jsx(Fr.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));RL.displayName=NH;var TH=RL;function fn({className:t,...e}){return m.jsx(TH,{"data-slot":"label",className:Pr("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const AH=()=>{const[t,e]=E.useState(""),[r,n]=E.useState(""),[i,s]=E.useState(!1),[a,o]=E.useState(""),[l,c]=E.useState("student"),[h,f]=E.useState(""),[g,p]=E.useState(!1),[v,x]=E.useState(""),[b,_]=E.useState(!1),{login:k,register:N}=nc(),j=Qs(),P=async F=>{F.preventDefault(),f(""),x(""),p(!0);try{let D;if(i)D=await N(t,r,a,l),D.success?D.requiresEmailConfirmation?x("Registro exitoso. Revisa tu email para confirmar tu cuenta."):j("/home"):f(D.error);else if(D=await k(t,r),D.success){const{data:{user:U}}=await Ya.auth.getUser(),z=U?.email==="teacher@gmail.com"||U?.user_metadata?.role==="teacher";j(z?"/teacher/home":"/home")}else f(D.error)}catch{f("Ocurri un error inesperado")}finally{p(!1)}};return m.jsx("div",{className:"min-h-screen bg-[#F6F7FB] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full space-y-8",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx("div",{className:"bg-green-600 p-3 rounded-xl",children:m.jsx(Ca,{className:"h-8 w-8 text-white"})})}),m.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:i?"Crear cuenta":"Iniciar sesin"}),m.jsx("p",{className:"mt-2 text-sm text-gray-600",children:i?"nete a Captus":"Accede a tu cuenta de Captus"})]}),m.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[m.jsxs("form",{className:"space-y-6",onSubmit:P,children:[i&&m.jsxs("div",{children:[m.jsx(fn,{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre completo"}),m.jsx(hi,{id:"name",name:"name",type:"text",required:!0,className:"w-full",placeholder:"Tu nombre completo",value:a,onChange:F=>o(F.target.value)})]}),i&&m.jsxs("div",{children:[m.jsx(fn,{className:"block text-sm font-medium text-gray-700 mb-3",children:"Tipo de usuario"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("button",{type:"button",onClick:()=>c("student"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border-2 transition-all ${l==="student"?"border-green-600 bg-green-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[m.jsx(TV,{className:`h-6 w-6 ${l==="student"?"text-green-600":"text-gray-400"}`}),m.jsx("span",{className:`text-sm font-medium ${l==="student"?"text-green-600":"text-gray-700"}`,children:"Estudiante"})]}),m.jsxs("button",{type:"button",onClick:()=>c("teacher"),className:`flex flex-col items-center gap-2 p-4 rounded-lg border-2 transition-all ${l==="teacher"?"border-green-600 bg-green-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[m.jsx(ud,{className:`h-6 w-6 ${l==="teacher"?"text-green-600":"text-gray-400"}`}),m.jsx("span",{className:`text-sm font-medium ${l==="teacher"?"text-green-600":"text-gray-700"}`,children:"Profesor"})]})]})]}),m.jsxs("div",{children:[m.jsx(fn,{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electrnico"}),m.jsx(hi,{id:"email",name:"email",type:"email",required:!0,className:"w-full",placeholder:"tu@email.com",value:t,onChange:F=>e(F.target.value)})]}),m.jsxs("div",{children:[m.jsx(fn,{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),m.jsxs("div",{className:"relative",children:[m.jsx(hi,{id:"password",name:"password",type:b?"text":"password",required:!0,className:"w-full pr-10",placeholder:"Tu contrasea",value:r,onChange:F=>n(F.target.value)}),m.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>_(!b),children:b?m.jsx(fL,{className:"h-5 w-5 text-gray-400"}):m.jsx(pL,{className:"h-5 w-5 text-gray-400"})})]})]}),h&&m.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:m.jsx("p",{className:"text-red-600 text-sm",children:h})}),v&&m.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:m.jsx("p",{className:"text-green-600 text-sm",children:v})}),m.jsx(et,{type:"submit",disabled:g,className:"w-full bg-green-600 hover:bg-green-700",children:g?"Cargando...":i?"Crear cuenta":"Iniciar sesin"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("button",{type:"button",onClick:()=>s(!i),className:"text-green-600 hover:text-green-500 text-sm font-medium",children:i?"Ya tienes cuenta? Inicia sesin":"No tienes cuenta? Regstrate"})})]})]})})};function Or({className:t,...e}){return m.jsx("div",{"data-slot":"card",className:Pr("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm hover:shadow-md transition-all duration-200",t),...e})}function Jc({className:t,...e}){return m.jsx("div",{"data-slot":"card-header",className:Pr("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function Zc({className:t,...e}){return m.jsx("div",{"data-slot":"card-title",className:Pr("leading-none font-semibold",t),...e})}function ul({className:t,...e}){return m.jsx("div",{"data-slot":"card-content",className:Pr("px-6",t),...e})}function ML({className:t,...e}){return m.jsx("div",{"data-slot":"card-footer",className:Pr("flex items-center px-6 [.border-t]:pt-6",t),...e})}var ih=globalThis?.document?E.useLayoutEffect:()=>{};function EH(t,e){return E.useReducer((r,n)=>e[r][n]??r,t)}var Qa=t=>{const{present:e,children:r}=t,n=jH(e),i=typeof r=="function"?r({present:n.isPresent}):E.Children.only(r),s=Un(n.ref,LH(i));return typeof r=="function"||n.isPresent?E.cloneElement(i,{ref:s}):null};Qa.displayName="Presence";function jH(t){const[e,r]=E.useState(),n=E.useRef({}),i=E.useRef(t),s=E.useRef("none"),a=t?"mounted":"unmounted",[o,l]=EH(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const c=wy(n.current);s.current=o==="mounted"?c:"none"},[o]),ih(()=>{const c=n.current,h=i.current;if(h!==t){const g=s.current,p=wy(c);t?l("MOUNT"):p==="none"||c?.display==="none"?l("UNMOUNT"):l(h&&g!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),ih(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,f=p=>{const x=wy(n.current).includes(p.animationName);if(p.target===e&&x&&(l("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},g=p=>{p.target===e&&(s.current=wy(n.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:E.useCallback(c=>{c&&(n.current=getComputedStyle(c)),r(c)},[])}}function wy(t){return t?.animationName||"none"}function LH(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function PH(t,e){const r=E.createContext(e),n=s=>{const{children:a,...o}=s,l=E.useMemo(()=>o,Object.values(o));return m.jsx(r.Provider,{value:l,children:a})};n.displayName=t+"Provider";function i(s){const a=E.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function ic(t,e=[]){let r=[];function n(s,a){const o=E.createContext(a),l=r.length;r=[...r,a];const c=f=>{const{scope:g,children:p,...v}=f,x=g?.[t]?.[l]||o,b=E.useMemo(()=>v,Object.values(v));return m.jsx(x.Provider,{value:b,children:p})};c.displayName=s+"Provider";function h(f,g){const p=g?.[t]?.[l]||o,v=E.useContext(p);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,h]}const i=()=>{const s=r.map(a=>E.createContext(a));return function(o){const l=o?.[t]||s;return E.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,RH(i,...e)]}function RH(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((o,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...o,...f}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function Zi(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...r)=>e.current?.(...r),[])}var MH=E.createContext(void 0);function ox(t){const e=E.useContext(MH);return t||e||"ltr"}function OH(t,[e,r]){return Math.min(r,Math.max(e,t))}function rr(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function IH(t,e){return E.useReducer((r,n)=>e[r][n]??r,t)}var mS="ScrollArea",[OL]=ic(mS),[DH,Ro]=OL(mS),IL=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:s=600,...a}=t,[o,l]=E.useState(null),[c,h]=E.useState(null),[f,g]=E.useState(null),[p,v]=E.useState(null),[x,b]=E.useState(null),[_,k]=E.useState(0),[N,j]=E.useState(0),[P,F]=E.useState(!1),[D,U]=E.useState(!1),z=Un(e,B=>l(B)),K=ox(i);return m.jsx(DH,{scope:r,type:n,dir:K,scrollHideDelay:s,scrollArea:o,viewport:c,onViewportChange:h,content:f,onContentChange:g,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:P,onScrollbarXEnabledChange:F,scrollbarY:x,onScrollbarYChange:b,scrollbarYEnabled:D,onScrollbarYEnabledChange:U,onCornerWidthChange:k,onCornerHeightChange:j,children:m.jsx(Fr.div,{dir:K,...a,ref:z,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":N+"px",...t.style}})})});IL.displayName=mS;var DL="ScrollAreaViewport",BL=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:i,...s}=t,a=Ro(DL,r),o=E.useRef(null),l=Un(e,o,a.onViewportChange);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),m.jsx(Fr.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:m.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});BL.displayName=DL;var sc="ScrollAreaScrollbar",FL=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Ro(sc,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,o=t.orientation==="horizontal";return E.useEffect(()=>(o?s(!0):a(!0),()=>{o?s(!1):a(!1)}),[o,s,a]),i.type==="hover"?m.jsx(BH,{...n,ref:e,forceMount:r}):i.type==="scroll"?m.jsx(FH,{...n,ref:e,forceMount:r}):i.type==="auto"?m.jsx($L,{...n,ref:e,forceMount:r}):i.type==="always"?m.jsx(gS,{...n,ref:e}):null});FL.displayName=sc;var BH=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Ro(sc,t.__scopeScrollArea),[s,a]=E.useState(!1);return E.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const c=()=>{window.clearTimeout(l),a(!0)},h=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",h),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),m.jsx(Qa,{present:r||s,children:m.jsx($L,{"data-state":s?"visible":"hidden",...n,ref:e})})}),FH=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Ro(sc,t.__scopeScrollArea),s=t.orientation==="horizontal",a=cx(()=>l("SCROLL_END"),100),[o,l]=IH("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay,l]),E.useEffect(()=>{const c=i.viewport,h=s?"scrollLeft":"scrollTop";if(c){let f=c[h];const g=()=>{const p=c[h];f!==p&&(l("SCROLL"),a()),f=p};return c.addEventListener("scroll",g),()=>c.removeEventListener("scroll",g)}},[i.viewport,s,l,a]),m.jsx(Qa,{present:r||o!=="hidden",children:m.jsx(gS,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:rr(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:rr(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),$L=E.forwardRef((t,e)=>{const r=Ro(sc,t.__scopeScrollArea),{forceMount:n,...i}=t,[s,a]=E.useState(!1),o=t.orientation==="horizontal",l=cx(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;a(o?c:h)}},10);return xp(r.viewport,l),xp(r.content,l),m.jsx(Qa,{present:n||s,children:m.jsx(gS,{"data-state":s?"visible":"hidden",...i,ref:e})})}),gS=E.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=Ro(sc,t.__scopeScrollArea),s=E.useRef(null),a=E.useRef(0),[o,l]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=VL(o.viewport,o.content),h={...n,sizes:o,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:g=>s.current=g,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:g=>a.current=g};function f(g,p){return VH(g,a.current,o,p)}return r==="horizontal"?m.jsx($H,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const g=i.viewport.scrollLeft,p=BN(g,o,i.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=f(g,i.dir))}}):r==="vertical"?m.jsx(zH,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const g=i.viewport.scrollTop,p=BN(g,o);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=f(g))}}):null}),$H=E.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,s=Ro(sc,t.__scopeScrollArea),[a,o]=E.useState(),l=E.useRef(null),c=Un(e,l,s.onScrollbarXChange);return E.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),m.jsx(UL,{"data-orientation":"horizontal",...i,ref:c,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":lx(r)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(s.viewport){const g=s.viewport.scrollLeft+h.deltaX;t.onWheelScroll(g),GL(g,f)&&h.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:X1(a.paddingLeft),paddingEnd:X1(a.paddingRight)}})}})}),zH=E.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,s=Ro(sc,t.__scopeScrollArea),[a,o]=E.useState(),l=E.useRef(null),c=Un(e,l,s.onScrollbarYChange);return E.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),m.jsx(UL,{"data-orientation":"vertical",...i,ref:c,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":lx(r)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(s.viewport){const g=s.viewport.scrollTop+h.deltaY;t.onWheelScroll(g),GL(g,f)&&h.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:X1(a.paddingTop),paddingEnd:X1(a.paddingBottom)}})}})}),[UH,zL]=OL(sc),UL=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:h,onResize:f,...g}=t,p=Ro(sc,r),[v,x]=E.useState(null),b=Un(e,z=>x(z)),_=E.useRef(null),k=E.useRef(""),N=p.viewport,j=n.content-n.viewport,P=Zi(h),F=Zi(l),D=cx(f,10);function U(z){if(_.current){const K=z.clientX-_.current.left,B=z.clientY-_.current.top;c({x:K,y:B})}}return E.useEffect(()=>{const z=K=>{const B=K.target;v?.contains(B)&&P(K,j)};return document.addEventListener("wheel",z,{passive:!1}),()=>document.removeEventListener("wheel",z,{passive:!1})},[N,v,j,P]),E.useEffect(F,[n,F]),xp(v,D),xp(p.content,D),m.jsx(UH,{scope:r,scrollbar:v,hasThumb:i,onThumbChange:Zi(s),onThumbPointerUp:Zi(a),onThumbPositionChange:F,onThumbPointerDown:Zi(o),children:m.jsx(Fr.div,{...g,ref:b,style:{position:"absolute",...g.style},onPointerDown:rr(t.onPointerDown,z=>{z.button===0&&(z.target.setPointerCapture(z.pointerId),_.current=v.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),U(z))}),onPointerMove:rr(t.onPointerMove,U),onPointerUp:rr(t.onPointerUp,z=>{const K=z.target;K.hasPointerCapture(z.pointerId)&&K.releasePointerCapture(z.pointerId),document.body.style.webkitUserSelect=k.current,p.viewport&&(p.viewport.style.scrollBehavior=""),_.current=null})})})}),K1="ScrollAreaThumb",qL=E.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=zL(K1,t.__scopeScrollArea);return m.jsx(Qa,{present:r||i.hasThumb,children:m.jsx(qH,{ref:e,...n})})}),qH=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,s=Ro(K1,r),a=zL(K1,r),{onThumbPositionChange:o}=a,l=Un(e,f=>a.onThumbChange(f)),c=E.useRef(void 0),h=cx(()=>{c.current&&(c.current(),c.current=void 0)},100);return E.useEffect(()=>{const f=s.viewport;if(f){const g=()=>{if(h(),!c.current){const p=HH(f,o);c.current=p,o()}};return o(),f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[s.viewport,h,o]),m.jsx(Fr.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:rr(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),v=f.clientX-p.left,x=f.clientY-p.top;a.onThumbPointerDown({x:v,y:x})}),onPointerUp:rr(t.onPointerUp,a.onThumbPointerUp)})});qL.displayName=K1;var yS="ScrollAreaCorner",WL=E.forwardRef((t,e)=>{const r=Ro(yS,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?m.jsx(WH,{...t,ref:e}):null});WL.displayName=yS;var WH=E.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=Ro(yS,r),[s,a]=E.useState(0),[o,l]=E.useState(0),c=!!(s&&o);return xp(i.scrollbarX,()=>{const h=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(h),l(h)}),xp(i.scrollbarY,()=>{const h=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(h),a(h)}),c?m.jsx(Fr.div,{...n,ref:e,style:{width:s,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function X1(t){return t?parseInt(t,10):0}function VL(t,e){const r=t/e;return isNaN(r)?0:r}function lx(t){const e=VL(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function VH(t,e,r,n="ltr"){const i=lx(r),s=i/2,a=e||s,o=i-a,l=r.scrollbar.paddingStart+a,c=r.scrollbar.size-r.scrollbar.paddingEnd-o,h=r.content-r.viewport,f=n==="ltr"?[0,h]:[h*-1,0];return HL([l,c],f)(t)}function BN(t,e,r="ltr"){const n=lx(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,a=e.content-e.viewport,o=s-n,l=r==="ltr"?[0,a]:[a*-1,0],c=OH(t,l);return HL([0,a],[0,o])(c)}function HL(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function GL(t,e){return t>0&&t<e}var HH=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return(function i(){const s={left:t.scrollLeft,top:t.scrollTop},a=r.left!==s.left,o=r.top!==s.top;(a||o)&&e(),r=s,n=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(n)};function cx(t,e){const r=Zi(t),n=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(n.current),[]),E.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function xp(t,e){const r=Zi(e);ih(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}var GH=IL,YH=BL,KH=WL;function YL({className:t,children:e,...r}){return m.jsxs(GH,{"data-slot":"scroll-area",className:Pr("relative",t),...r,children:[m.jsx(YH,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),m.jsx(XH,{}),m.jsx(KH,{})]})}function XH({className:t,orientation:e="vertical",...r}){return m.jsx(FL,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Pr("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...r,children:m.jsx(qL,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const FN=[{id:1,title:"Tarea prxima a vencer",description:"La tarea de Matemticas vence maana.",time:"Hace 2 horas",read:!1},{id:2,title:"Nuevo anuncio del profesor",description:"Hay material nuevo disponible.",time:"Hace 5 horas",read:!0},{id:3,title:"Evento del calendario",description:"Reunin de proyecto a las 4 PM.",time:"Ayer",read:!0},{id:4,title:"Recordatorio de grupo",description:"Tienes una sesin de estudio grupal en 1 hora.",time:"Hace 30 minutos",read:!1}];function JH({isOpen:t,onClose:e}){const r=E.useRef(null);if(E.useEffect(()=>{if(!t)return;const s=a=>{r.current&&!r.current.contains(a.target)&&e()};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[t,e]),!t)return null;const n=FN.filter(s=>!s.read).length,i=()=>{e()};return m.jsxs("div",{ref:r,className:"absolute right-0 top-12 w-[340px] bg-white rounded-xl shadow-lg border border-gray-200 z-50 animate-in fade-in-0 zoom-in-95 duration-200",children:[m.jsx("div",{className:"p-4 border-b border-gray-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"font-semibold text-gray-900",children:"Notificaciones"}),n>0&&m.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium bg-green-100 text-green-700 rounded-full",children:[n," nuevas"]})]})}),m.jsx(YL,{className:"h-[300px]",children:m.jsx("div",{className:"p-2",children:FN.map(s=>m.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer group",children:[m.jsx("div",{className:"flex-shrink-0 mt-1",children:s.read?m.jsx("div",{className:"w-2 h-2"}):m.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"font-semibold text-sm text-gray-900 mb-0.5",children:s.title}),m.jsx("p",{className:"text-sm text-gray-600 mb-1 line-clamp-2",children:s.description}),m.jsx("p",{className:"text-xs text-gray-500",children:s.time})]}),!s.read&&m.jsx("button",{className:"flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:m.jsx(hL,{size:16,className:"text-gray-400 hover:text-green-600"})})]},s.id))})}),m.jsx("div",{className:"p-3 border-t border-gray-200",children:m.jsx(et,{variant:"ghost",className:"w-full text-sm text-green-600 hover:text-green-700 hover:bg-green-50",onClick:i,children:"Ver todas las notificaciones "})})]})}function ZH(){const t=["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],e=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],r=new Date;return`${t[r.getDay()]}, ${r.getDate()} de ${e[r.getMonth()]} de ${r.getFullYear()}`}const QH=[{id:1,title:"Entregar ensayo de Literatura",dueDate:"2025-10-26",priority:"Alta",status:"Pendiente",subject:"Literatura Espaola"},{id:2,title:"Estudiar para examen de Clculo",dueDate:"2025-10-28",priority:"Alta",status:"En progreso",subject:"Matemticas III"},{id:3,title:"Presentacin grupal de Historia",dueDate:"2025-10-30",priority:"Media",status:"Pendiente",subject:"Historia Mundial"}];function _y({icon:t,label:e,value:r,bgColor:n}){return m.jsx(Or,{className:"p-4 border border-gray-200 rounded-xl hover:shadow-md transition-shadow",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:`${n} p-3 rounded-lg`,children:t}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r}),m.jsx("p",{className:"text-sm text-gray-600",children:e})]})]})})}const eG=()=>{const[t,e]=E.useState(!1),[r,n]=E.useState(""),i=Qs(),{user:s}=nc(),a=3;return E.useEffect(()=>{s?.user_metadata?.name&&n(s.user_metadata.name.split(" ")[0])},[s]),m.jsxs("div",{className:"p-8 ",children:[m.jsx("header",{className:"sticky top-0 rounded-xl shadow-sm p-6 mb-6 z-10 animate-in slide-in-from-top duration-300 bg-white",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[" Hola",r?`, ${r}`:"","! Bienvenido a Captus"]}),m.jsx("p",{className:"text-gray-600 mt-1",children:ZH()})]}),m.jsx("div",{className:"flex items-center space-x-4",children:m.jsxs("div",{className:"relative",children:[m.jsxs(et,{variant:"outline",className:"border-gray-300 relative bg-transparent",onClick:()=>e(!t),children:[m.jsx(Vw,{size:18,className:"text-gray-500"}),m.jsxs("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center",children:[m.jsx("span",{className:"absolute inline-flex h-full w-full rounded-full bg-green-600 opacity-75 animate-ping"}),m.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-green-600 items-center justify-center text-[10px] text-white font-bold",children:a})]})]}),m.jsx(JH,{isOpen:t,onClose:()=>e(!1)})]})})]})}),m.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:m.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[m.jsxs(Or,{className:"p-6 rounded-xl shadow-sm animate-in fade-in slide-in-from-bottom duration-500 bg-white",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tareas Pendientes"}),m.jsx(Ql,{to:"/tasks",children:m.jsx(et,{variant:"ghost",className:"text-green-600 hover:text-green-700 hover:bg-green-50 transition-all duration-200 hover:scale-105 ",children:"Ver todas"})})]}),m.jsx("div",{className:"space-y-4",children:QH.map((o,l)=>m.jsxs("div",{className:"p-4 border rounded-lg transition-all duration-200 cursor-pointer animate-in fade-in slide-in-from-left hover:scale-[1.02] hover:shadow-md border-gray-200 hover:border-green-500",style:{animationDelay:`${l*100}ms`},onClick:()=>i(`/tasks/${o.id}`),children:[m.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[m.jsx("h3",{className:"text-base font-semibold text-gray-900",children:o.title}),m.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-red-100 text-red-800",children:o.priority}),m.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-gray-100 text-gray-800",children:o.status})]}),m.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx(Ta,{size:14,className:"mr-1.5 text-green-600"}),new Date(o.dueDate).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx(Td,{size:14,className:"mr-1.5 text-green-600"}),o.subject]})]})]},o.id))})]}),m.jsxs(Or,{className:"p-6 rounded-xl shadow-sm animate-in fade-in slide-in-from-bottom duration-500 delay-200 bg-white",children:[m.jsx("div",{className:"flex justify-between items-center mb-4",children:m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Resumen General"})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx(_y,{icon:m.jsx(Td,{className:"text-green-600",size:24}),label:"Total de Tareas",value:"12",bgColor:"bg-green-50"}),m.jsx(_y,{icon:m.jsx(Ta,{className:"text-blue-600",size:24}),label:"Prximos Eventos",value:"5",bgColor:"bg-blue-50"}),m.jsx(_y,{icon:m.jsx(wL,{className:"text-orange-600",size:24}),label:"Notas Guardadas",value:"28",bgColor:"bg-orange-50"}),m.jsx(_y,{icon:m.jsx(Vw,{className:"text-purple-600",size:24}),label:"Recordatorios Activos",value:"7",bgColor:"bg-purple-50"})]})]})]})})]})},tG=({onCollapseChange:t})=>{const e=Po(),{user:r,logout:n}=nc(),i=Qs(),[s,a]=E.useState(!1),[o,l]=E.useState(!1),c=[{path:"/home",icon:AV,label:"Inicio"},{path:"/courses",icon:Ca,label:"Cursos"},{type:"dropdown",icon:Td,label:"Tareas",isOpen:o,onToggle:()=>l(!o),subItems:[{path:"/tasks",icon:Td,label:"Mis Tareas"},{path:"/tasks?tab=categories",icon:cg,label:"Categoras"}]},{path:"/diagrams",icon:ix,label:"Diagramas"},{path:"/calendar",icon:Ta,label:"Calendario"},{path:"/notes",icon:wL,label:"Notas"},{path:"/groups",icon:Ff,label:"Grupos"},{path:"/stats",icon:nx,label:"Estadsticas"},{path:"/chatbot",icon:lg,label:"Captus AI"},{path:"/settings",icon:fS,label:"Configuracin"}],h=()=>{const p=!s;a(p),t&&t(p)},f=p=>p==="/tasks"?e.pathname==="/tasks"&&!e.search.includes("tab=categories"):p==="/tasks?tab=categories"?e.pathname==="/tasks"&&e.search.includes("tab=categories"):e.pathname===p,g=async()=>{await n(),i("/")};return m.jsxs("div",{className:`fixed inset-y-0 left-0 bg-sidebar border-r border-sidebar-border z-10 flex flex-col transition-all duration-300 ease-[cubic-bezier(0.4,0,0.2,1)] slide-in-animation sidebar-shadow ${s?"w-20":"w-60"}`,children:[m.jsxs("div",{className:"flex items-center justify-between h-16 border-b border-sidebar-border px-4",children:[s?m.jsx("div",{className:"transition-opacity duration-200",children:m.jsx(Ca,{className:"text-primary",size:24})}):m.jsxs("div",{className:"flex items-center space-x-2 transition-opacity duration-200",children:[m.jsx(Ca,{className:"text-primary",size:24}),m.jsx("h1",{className:"text-xl font-semibold text-primary",children:"Captus"})]}),m.jsx("button",{onClick:h,className:"p-1.5 rounded-lg hover:bg-sidebar-accent text-sidebar-foreground transition-colors",title:s?"Expandir":"Colapsar",children:s?m.jsx(Nd,{size:18,className:"text-muted-foreground"}):m.jsx(G1,{size:18,className:"text-muted-foreground"})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto flex flex-col",children:m.jsxs("div",{className:"p-4 flex-shrink-0",children:[m.jsxs("div",{className:`flex items-center ${s?"justify-center":"space-x-3"} mb-6 p-3 bg-sidebar-accent/50 rounded-xl transition-all duration-200`,children:[m.jsx("div",{className:"relative w-10 h-10 rounded-full overflow-hidden bg-primary flex items-center justify-center flex-shrink-0 shadow-md avatar-glow",children:m.jsx("span",{className:"text-primary-foreground font-semibold",children:r?.name?r.name.charAt(0).toUpperCase():"U"})}),!s&&m.jsxs("div",{className:"transition-opacity duration-200",children:[m.jsx("p",{className:"font-medium text-sidebar-foreground whitespace-nowrap",children:r?.name?r.name.split(" ")[0]:"Usuario"}),m.jsx("p",{className:"text-xs text-muted-foreground whitespace-nowrap",children:"Estudiante"})]})]}),m.jsx("nav",{className:"space-y-1",children:c.map((p,v)=>{if(p.type==="dropdown"){const x=p.icon,b=p.subItems.some(_=>f(_.path));return m.jsxs("div",{children:[m.jsxs("button",{onClick:p.onToggle,className:`sidebar-menu-item ripple-effect flex items-center ${s?"justify-center":"justify-between"} px-3 py-2.5 rounded-xl transition-all duration-200 active:scale-95 w-full ${b?"active bg-sidebar-accent text-primary font-medium shadow-sm":"text-muted-foreground hover:bg-sidebar-accent/50 hover:text-sidebar-foreground"}`,title:s?p.label:"",children:[m.jsxs("div",{className:`flex items-center ${s?"justify-center":"space-x-3"}`,children:[m.jsx("span",{className:b?"text-primary":"text-muted-foreground",children:m.jsx(x,{size:18})}),!s&&m.jsx("span",{className:"font-medium text-sm whitespace-nowrap transition-opacity duration-200",children:p.label})]}),!s&&m.jsx(uL,{size:16,className:`text-muted-foreground chevron-rotate ${p.isOpen?"rotated":""}`})]}),p.isOpen&&!s&&m.jsx("div",{className:"dropdown-submenu open ml-6 mt-1 space-y-1",children:p.subItems.map(_=>{const k=_.icon,N=f(_.path);return m.jsxs(Ql,{to:_.path,className:`flex items-center space-x-3 px-3 py-2 rounded-lg transition-all duration-200 active:scale-95 ${N?"bg-sidebar-accent/80 text-primary font-medium":"text-muted-foreground hover:bg-sidebar-accent/40 hover:text-sidebar-foreground"}`,children:[m.jsx("span",{className:N?"text-primary":"text-muted-foreground",children:m.jsx(k,{size:16})}),m.jsx("span",{className:"font-medium text-sm whitespace-nowrap",children:_.label})]},_.path)})})]},`dropdown-${v}`)}else{const x=p.icon,b=f(p.path);return m.jsxs(Ql,{to:p.path,className:`sidebar-menu-item ripple-effect flex items-center ${s?"justify-center":"space-x-3"} px-3 py-2.5 rounded-xl transition-all duration-200 active:scale-95 ${b?"active bg-sidebar-accent text-primary font-medium shadow-sm":"text-muted-foreground hover:bg-sidebar-accent/50 hover:text-sidebar-foreground"}`,title:s?p.label:"",children:[m.jsx("span",{className:b?"text-primary":"text-muted-foreground",children:m.jsx(x,{size:18})}),!s&&m.jsx("span",{className:"font-medium text-sm whitespace-nowrap transition-opacity duration-200",children:p.label})]},p.path)}})})]})}),m.jsx("div",{className:"flex-shrink-0 p-4 border-t border-sidebar-border",children:m.jsxs("button",{onClick:g,className:`flex items-center ${s?"justify-center":"space-x-3"} px-3 py-2.5 rounded-xl text-muted-foreground hover:bg-sidebar-accent/50 hover:text-sidebar-foreground transition-all duration-200 w-full active:scale-95`,title:s?"Cerrar Sesin":"",children:[m.jsx(gL,{size:18}),!s&&m.jsx("span",{className:"font-medium text-sm whitespace-nowrap transition-opacity duration-200",children:"Cerrar Sesin"})]})})]})},rG=({onCollapseChange:t})=>{const e=Po(),{user:r,logout:n}=nc(),i=Qs(),[s,a]=E.useState(!1),o=[{path:"/teacher/home",icon:DV,label:"Panel del Profesor"},{path:"/teacher/courses",icon:Ca,label:"Cursos"},{path:"/teacher/tasks",icon:lS,label:"Tareas"},{path:"/teacher/reviews",icon:cS,label:"Revisiones Pendientes"},{path:"/teacher/calendar",icon:Ta,label:"Calendario"},{path:"/teacher/diagrams",icon:ix,label:"Diagramas"},{path:"/teacher/stats",icon:nx,label:"Estadsticas"},{path:"/chatbot",icon:yL,label:"Chat IA"},{path:"/settings",icon:fS,label:"Ajustes"}],l=()=>{const f=!s;a(f),t&&t(f)},c=f=>e.pathname===f,h=async()=>{await n(),i("/")};return m.jsxs("div",{className:`fixed inset-y-0 left-0 bg-sidebar border-r border-sidebar-border z-10 flex flex-col transition-all duration-300 ease-[cubic-bezier(0.4,0,0.2,1)] animate-in slide-in-from-left-10 duration-500 ${s?"w-20":"w-60"}`,children:[m.jsxs("div",{className:"flex items-center justify-between h-16 border-b border-sidebar-border px-4",children:[s?m.jsx("div",{className:"transition-opacity duration-200",children:m.jsx(Ca,{className:"text-primary",size:24})}):m.jsxs("div",{className:"flex items-center space-x-2 transition-opacity duration-200",children:[m.jsx(Ca,{className:"text-primary",size:24}),m.jsx("h1",{className:"text-xl font-semibold text-primary",children:"Captus"})]}),m.jsx("button",{onClick:l,className:"p-1.5 rounded-lg hover:bg-sidebar-accent text-sidebar-foreground transition-colors",title:s?"Expandir":"Colapsar",children:s?m.jsx(Nd,{size:18,className:"text-muted-foreground"}):m.jsx(G1,{size:18,className:"text-muted-foreground"})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto flex flex-col",children:m.jsxs("div",{className:"p-4 flex-shrink-0",children:[m.jsxs("div",{className:`flex items-center ${s?"justify-center":"space-x-3"} mb-6 p-3 bg-sidebar-accent/50 rounded-xl transition-all duration-200`,children:[m.jsx("div",{className:"relative w-10 h-10 rounded-full overflow-hidden bg-primary flex items-center justify-center flex-shrink-0 shadow-md",children:m.jsx("span",{className:"text-primary-foreground font-semibold",children:r?.name?r.name.charAt(0).toUpperCase():"P"})}),!s&&m.jsxs("div",{className:"transition-opacity duration-200",children:[m.jsx("p",{className:"font-medium text-sidebar-foreground whitespace-nowrap",children:r?.name?r.name.split(" ")[0]:"Profesor"}),m.jsx("p",{className:"text-xs text-muted-foreground whitespace-nowrap",children:"Docente"})]})]}),m.jsx("nav",{className:"space-y-1",children:o.map(f=>{const g=f.icon,p=c(f.path);return m.jsxs(Ql,{to:f.path,className:`flex items-center ${s?"justify-center":"space-x-3"} px-3 py-2.5 rounded-xl transition-all duration-200 active:scale-95 ${p?"bg-sidebar-accent text-primary font-medium shadow-sm":"text-muted-foreground hover:bg-sidebar-accent/50 hover:text-sidebar-foreground"}`,title:s?f.label:"",children:[m.jsx("span",{className:p?"text-primary":"text-muted-foreground",children:m.jsx(g,{size:18})}),!s&&m.jsx("span",{className:"font-medium text-sm whitespace-nowrap transition-opacity duration-200",children:f.label})]},f.path)})})]})}),m.jsx("div",{className:"flex-shrink-0 p-4 border-t border-sidebar-border",children:m.jsxs("button",{onClick:h,className:`flex items-center ${s?"justify-center":"space-x-3"} px-3 py-2.5 rounded-xl text-muted-foreground hover:bg-sidebar-accent/50 hover:text-sidebar-foreground transition-all duration-200 w-full active:scale-95`,title:s?"Cerrar Sesin":"",children:[m.jsx(gL,{size:18}),!s&&m.jsx("span",{className:"font-medium text-sm whitespace-nowrap transition-opacity duration-200",children:"Cerrar Sesin"})]})})]})},yi=({children:t})=>{const e=Po(),r=e.pathname.startsWith("/teacher"),[n,i]=E.useState(!1),s=e.pathname!=="/chatbot";return m.jsxs("div",{className:"min-h-screen bg-background animate-in fade-in duration-500",children:[r?m.jsx(rG,{}):m.jsx(tG,{onCollapseChange:i}),m.jsx("div",{className:`min-h-screen transition-all duration-300 ease-[cubic-bezier(0.4,0,0.2,1)] ${n?"ml-20":"ml-60"}`,children:t||m.jsx(oU,{})}),s&&m.jsx(Ql,{to:"/chatbot",title:"Hablar con Captus AI",children:m.jsx(et,{className:"fixed bottom-6 right-6 h-14 w-14 rounded-full bg-green-600 hover:bg-green-700 shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-110 active:scale-95 animate-pulse z-50",size:"icon",children:m.jsx(lg,{size:24})})})]})};function KL(t,e){return function(){return t.apply(e,arguments)}}const{toString:nG}=Object.prototype,{getPrototypeOf:vS}=Object,{iterator:ux,toStringTag:XL}=Symbol,hx=(t=>e=>{const r=nG.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),yl=t=>(t=t.toLowerCase(),e=>hx(e)===t),dx=t=>e=>typeof e===t,{isArray:Dp}=Array,bp=dx("undefined");function i0(t){return t!==null&&!bp(t)&&t.constructor!==null&&!bp(t.constructor)&&ka(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const JL=yl("ArrayBuffer");function iG(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&JL(t.buffer),e}const sG=dx("string"),ka=dx("function"),ZL=dx("number"),s0=t=>t!==null&&typeof t=="object",aG=t=>t===!0||t===!1,u1=t=>{if(hx(t)!=="object")return!1;const e=vS(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(XL in t)&&!(ux in t)},oG=t=>{if(!s0(t)||i0(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},lG=yl("Date"),cG=yl("File"),uG=yl("Blob"),hG=yl("FileList"),dG=t=>s0(t)&&ka(t.pipe),fG=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ka(t.append)&&((e=hx(t))==="formdata"||e==="object"&&ka(t.toString)&&t.toString()==="[object FormData]"))},pG=yl("URLSearchParams"),[mG,gG,yG,vG]=["ReadableStream","Request","Response","Headers"].map(yl),xG=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function a0(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Dp(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(i0(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function QL(t,e){if(i0(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const hd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,eP=t=>!bp(t)&&t!==hd;function Yw(){const{caseless:t,skipUndefined:e}=eP(this)&&this||{},r={},n=(i,s)=>{const a=t&&QL(r,s)||s;u1(r[a])&&u1(i)?r[a]=Yw(r[a],i):u1(i)?r[a]=Yw({},i):Dp(i)?r[a]=i.slice():(!e||!bp(i))&&(r[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&a0(arguments[i],n);return r}const bG=(t,e,r,{allOwnKeys:n}={})=>(a0(e,(i,s)=>{r&&ka(i)?t[s]=KL(i,r):t[s]=i},{allOwnKeys:n}),t),wG=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),_G=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},SG=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&vS(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},CG=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},kG=t=>{if(!t)return null;if(Dp(t))return t;let e=t.length;if(!ZL(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},NG=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&vS(Uint8Array)),TG=(t,e)=>{const n=(t&&t[ux]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},AG=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},EG=yl("HTMLFormElement"),jG=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),$N=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),LG=yl("RegExp"),tP=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};a0(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},PG=t=>{tP(t,(e,r)=>{if(ka(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(ka(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},RG=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Dp(t)?n(t):n(String(t).split(e)),r},MG=()=>{},OG=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function IG(t){return!!(t&&ka(t.append)&&t[XL]==="FormData"&&t[ux])}const DG=t=>{const e=new Array(10),r=(n,i)=>{if(s0(n)){if(e.indexOf(n)>=0)return;if(i0(n))return n;if(!("toJSON"in n)){e[i]=n;const s=Dp(n)?[]:{};return a0(n,(a,o)=>{const l=r(a,i+1);!bp(l)&&(s[o]=l)}),e[i]=void 0,s}}return n};return r(t,0)},BG=yl("AsyncFunction"),FG=t=>t&&(s0(t)||ka(t))&&ka(t.then)&&ka(t.catch),rP=((t,e)=>t?setImmediate:e?((r,n)=>(hd.addEventListener("message",({source:i,data:s})=>{i===hd&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),hd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ka(hd.postMessage)),$G=typeof queueMicrotask<"u"?queueMicrotask.bind(hd):typeof process<"u"&&process.nextTick||rP,zG=t=>t!=null&&ka(t[ux]),Re={isArray:Dp,isArrayBuffer:JL,isBuffer:i0,isFormData:fG,isArrayBufferView:iG,isString:sG,isNumber:ZL,isBoolean:aG,isObject:s0,isPlainObject:u1,isEmptyObject:oG,isReadableStream:mG,isRequest:gG,isResponse:yG,isHeaders:vG,isUndefined:bp,isDate:lG,isFile:cG,isBlob:uG,isRegExp:LG,isFunction:ka,isStream:dG,isURLSearchParams:pG,isTypedArray:NG,isFileList:hG,forEach:a0,merge:Yw,extend:bG,trim:xG,stripBOM:wG,inherits:_G,toFlatObject:SG,kindOf:hx,kindOfTest:yl,endsWith:CG,toArray:kG,forEachEntry:TG,matchAll:AG,isHTMLForm:EG,hasOwnProperty:$N,hasOwnProp:$N,reduceDescriptors:tP,freezeMethods:PG,toObjectSet:RG,toCamelCase:jG,noop:MG,toFiniteNumber:OG,findKey:QL,global:hd,isContextDefined:eP,isSpecCompliantForm:IG,toJSONObject:DG,isAsyncFn:BG,isThenable:FG,setImmediate:rP,asap:$G,isIterable:zG};function br(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Re.inherits(br,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Re.toJSONObject(this.config),code:this.code,status:this.status}}});const nP=br.prototype,iP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{iP[t]={value:t}});Object.defineProperties(br,iP);Object.defineProperty(nP,"isAxiosError",{value:!0});br.from=(t,e,r,n,i,s)=>{const a=Object.create(nP);Re.toFlatObject(t,a,function(h){return h!==Error.prototype},c=>c!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return br.call(a,o,l,r,n,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const UG=null;function Kw(t){return Re.isPlainObject(t)||Re.isArray(t)}function sP(t){return Re.endsWith(t,"[]")?t.slice(0,-2):t}function zN(t,e,r){return t?t.concat(e).map(function(i,s){return i=sP(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function qG(t){return Re.isArray(t)&&!t.some(Kw)}const WG=Re.toFlatObject(Re,{},null,function(e){return/^is[A-Z]/.test(e)});function fx(t,e,r){if(!Re.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Re.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,b){return!Re.isUndefined(b[x])});const n=r.metaTokens,i=r.visitor||h,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Re.isSpecCompliantForm(e);if(!Re.isFunction(i))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(Re.isDate(v))return v.toISOString();if(Re.isBoolean(v))return v.toString();if(!l&&Re.isBlob(v))throw new br("Blob is not supported. Use a Buffer instead.");return Re.isArrayBuffer(v)||Re.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function h(v,x,b){let _=v;if(v&&!b&&typeof v=="object"){if(Re.endsWith(x,"{}"))x=n?x:x.slice(0,-2),v=JSON.stringify(v);else if(Re.isArray(v)&&qG(v)||(Re.isFileList(v)||Re.endsWith(x,"[]"))&&(_=Re.toArray(v)))return x=sP(x),_.forEach(function(N,j){!(Re.isUndefined(N)||N===null)&&e.append(a===!0?zN([x],j,s):a===null?x:x+"[]",c(N))}),!1}return Kw(v)?!0:(e.append(zN(b,x,s),c(v)),!1)}const f=[],g=Object.assign(WG,{defaultVisitor:h,convertValue:c,isVisitable:Kw});function p(v,x){if(!Re.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(v),Re.forEach(v,function(_,k){(!(Re.isUndefined(_)||_===null)&&i.call(e,_,Re.isString(k)?k.trim():k,x,g))===!0&&p(_,x?x.concat(k):[k])}),f.pop()}}if(!Re.isObject(t))throw new TypeError("data must be an object");return p(t),e}function UN(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function xS(t,e){this._pairs=[],t&&fx(t,this,e)}const aP=xS.prototype;aP.append=function(e,r){this._pairs.push([e,r])};aP.toString=function(e){const r=e?function(n){return e.call(this,n,UN)}:UN;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function VG(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function oP(t,e,r){if(!e)return t;const n=r&&r.encode||VG;Re.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=Re.isURLSearchParams(e)?e.toString():new xS(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class qN{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Re.forEach(this.handlers,function(n){n!==null&&e(n)})}}const lP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HG=typeof URLSearchParams<"u"?URLSearchParams:xS,GG=typeof FormData<"u"?FormData:null,YG=typeof Blob<"u"?Blob:null,KG={isBrowser:!0,classes:{URLSearchParams:HG,FormData:GG,Blob:YG},protocols:["http","https","file","blob","url","data"]},bS=typeof window<"u"&&typeof document<"u",Xw=typeof navigator=="object"&&navigator||void 0,XG=bS&&(!Xw||["ReactNative","NativeScript","NS"].indexOf(Xw.product)<0),JG=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZG=bS&&window.location.href||"http://localhost",QG=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bS,hasStandardBrowserEnv:XG,hasStandardBrowserWebWorkerEnv:JG,navigator:Xw,origin:ZG},Symbol.toStringTag,{value:"Module"})),Es={...QG,...KG};function eY(t,e){return fx(t,new Es.classes.URLSearchParams,{visitor:function(r,n,i,s){return Es.isNode&&Re.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function tY(t){return Re.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rY(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function cP(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&Re.isArray(i)?i.length:a,l?(Re.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!Re.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&Re.isArray(i[a])&&(i[a]=rY(i[a])),!o)}if(Re.isFormData(t)&&Re.isFunction(t.entries)){const r={};return Re.forEachEntry(t,(n,i)=>{e(tY(n),i,r,0)}),r}return null}function nY(t,e,r){if(Re.isString(t))try{return(e||JSON.parse)(t),Re.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const o0={transitional:lP,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=Re.isObject(e);if(s&&Re.isHTMLForm(e)&&(e=new FormData(e)),Re.isFormData(e))return i?JSON.stringify(cP(e)):e;if(Re.isArrayBuffer(e)||Re.isBuffer(e)||Re.isStream(e)||Re.isFile(e)||Re.isBlob(e)||Re.isReadableStream(e))return e;if(Re.isArrayBufferView(e))return e.buffer;if(Re.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return eY(e,this.formSerializer).toString();if((o=Re.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return fx(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),nY(e)):e}],transformResponse:[function(e){const r=this.transitional||o0.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Re.isResponse(e)||Re.isReadableStream(e))return e;if(e&&Re.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?br.from(o,br.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Es.classes.FormData,Blob:Es.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Re.forEach(["delete","get","head","post","put","patch"],t=>{o0.headers[t]={}});const iY=Re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sY=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&iY[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},WN=Symbol("internals");function Lm(t){return t&&String(t).trim().toLowerCase()}function h1(t){return t===!1||t==null?t:Re.isArray(t)?t.map(h1):String(t)}function aY(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const oY=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ob(t,e,r,n,i){if(Re.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!Re.isString(e)){if(Re.isString(n))return e.indexOf(n)!==-1;if(Re.isRegExp(n))return n.test(e)}}function lY(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function cY(t,e){const r=Re.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let Na=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,l,c){const h=Lm(l);if(!h)throw new Error("header name must be a non-empty string");const f=Re.findKey(i,h);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||l]=h1(o))}const a=(o,l)=>Re.forEach(o,(c,h)=>s(c,h,l));if(Re.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(Re.isString(e)&&(e=e.trim())&&!oY(e))a(sY(e),r);else if(Re.isObject(e)&&Re.isIterable(e)){let o={},l,c;for(const h of e){if(!Re.isArray(h))throw TypeError("Object iterator must return a key-value pair");o[c=h[0]]=(l=o[c])?Re.isArray(l)?[...l,h[1]]:[l,h[1]]:h[1]}a(o,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=Lm(e),e){const n=Re.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return aY(i);if(Re.isFunction(r))return r.call(this,i,n);if(Re.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Lm(e),e){const n=Re.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||ob(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=Lm(a),a){const o=Re.findKey(n,a);o&&(!r||ob(n,n[o],o,r))&&(delete n[o],i=!0)}}return Re.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||ob(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return Re.forEach(this,(i,s)=>{const a=Re.findKey(n,s);if(a){r[a]=h1(i),delete r[s];return}const o=e?lY(s):String(s).trim();o!==s&&delete r[s],r[o]=h1(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Re.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&Re.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[WN]=this[WN]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=Lm(a);n[o]||(cY(i,a),n[o]=!0)}return Re.isArray(e)?e.forEach(s):s(e),this}};Na.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Re.reduceDescriptors(Na.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Re.freezeMethods(Na);function lb(t,e){const r=this||o0,n=e||r,i=Na.from(n.headers);let s=n.data;return Re.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function uP(t){return!!(t&&t.__CANCEL__)}function Bp(t,e,r){br.call(this,t??"canceled",br.ERR_CANCELED,e,r),this.name="CanceledError"}Re.inherits(Bp,br,{__CANCEL__:!0});function hP(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new br("Request failed with status code "+r.status,[br.ERR_BAD_REQUEST,br.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function uY(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function hY(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),h=n[s];a||(a=c),r[i]=l,n[i]=c;let f=s,g=0;for(;f!==i;)g+=r[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-a<e)return;const p=h&&c-h;return p?Math.round(g*1e3/p):void 0}}function dY(t,e){let r=0,n=1e3/e,i,s;const a=(c,h=Date.now())=>{r=h,i=null,s&&(clearTimeout(s),s=null),t(...c)};return[(...c)=>{const h=Date.now(),f=h-r;f>=n?a(c,h):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},n-f)))},()=>i&&a(i)]}const J1=(t,e,r=3)=>{let n=0;const i=hY(50,250);return dY(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,c=i(l),h=a<=o;n=a;const f={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&h?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(f)},r)},VN=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},HN=t=>(...e)=>Re.asap(()=>t(...e)),fY=Es.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Es.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Es.origin),Es.navigator&&/(msie|trident)/i.test(Es.navigator.userAgent)):()=>!0,pY=Es.hasStandardBrowserEnv?{write(t,e,r,n,i,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];Re.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),Re.isString(n)&&o.push(`path=${n}`),Re.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),Re.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function mY(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function gY(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function dP(t,e,r){let n=!mY(e);return t&&(n||r==!1)?gY(t,e):e}const GN=t=>t instanceof Na?{...t}:t;function Ad(t,e){e=e||{};const r={};function n(c,h,f,g){return Re.isPlainObject(c)&&Re.isPlainObject(h)?Re.merge.call({caseless:g},c,h):Re.isPlainObject(h)?Re.merge({},h):Re.isArray(h)?h.slice():h}function i(c,h,f,g){if(Re.isUndefined(h)){if(!Re.isUndefined(c))return n(void 0,c,f,g)}else return n(c,h,f,g)}function s(c,h){if(!Re.isUndefined(h))return n(void 0,h)}function a(c,h){if(Re.isUndefined(h)){if(!Re.isUndefined(c))return n(void 0,c)}else return n(void 0,h)}function o(c,h,f){if(f in e)return n(c,h);if(f in t)return n(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,h,f)=>i(GN(c),GN(h),f,!0)};return Re.forEach(Object.keys({...t,...e}),function(h){const f=l[h]||i,g=f(t[h],e[h],h);Re.isUndefined(g)&&f!==o||(r[h]=g)}),r}const fP=t=>{const e=Ad({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=Na.from(a),e.url=oP(dP(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Re.isFormData(r)){if(Es.hasStandardBrowserEnv||Es.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(Re.isFunction(r.getHeaders)){const l=r.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([h,f])=>{c.includes(h.toLowerCase())&&a.set(h,f)})}}if(Es.hasStandardBrowserEnv&&(n&&Re.isFunction(n)&&(n=n(e)),n||n!==!1&&fY(e.url))){const l=i&&s&&pY.read(s);l&&a.set(i,l)}return e},yY=typeof XMLHttpRequest<"u",vY=yY&&function(t){return new Promise(function(r,n){const i=fP(t);let s=i.data;const a=Na.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,h,f,g,p,v;function x(){p&&p(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function _(){if(!b)return;const N=Na.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),P={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:N,config:t,request:b};hP(function(D){r(D),x()},function(D){n(D),x()},P),b=null}"onloadend"in b?b.onloadend=_:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(_)},b.onabort=function(){b&&(n(new br("Request aborted",br.ECONNABORTED,t,b)),b=null)},b.onerror=function(j){const P=j&&j.message?j.message:"Network Error",F=new br(P,br.ERR_NETWORK,t,b);F.event=j||null,n(F),b=null},b.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const P=i.transitional||lP;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),n(new br(j,P.clarifyTimeoutError?br.ETIMEDOUT:br.ECONNABORTED,t,b)),b=null},s===void 0&&a.setContentType(null),"setRequestHeader"in b&&Re.forEach(a.toJSON(),function(j,P){b.setRequestHeader(P,j)}),Re.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),o&&o!=="json"&&(b.responseType=i.responseType),c&&([g,v]=J1(c,!0),b.addEventListener("progress",g)),l&&b.upload&&([f,p]=J1(l),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(h=N=>{b&&(n(!N||N.type?new Bp(null,t,b):N),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const k=uY(i.url);if(k&&Es.protocols.indexOf(k)===-1){n(new br("Unsupported protocol "+k+":",br.ERR_BAD_REQUEST,t));return}b.send(s||null)})},xY=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(c){if(!i){i=!0,o();const h=c instanceof Error?c:this.reason;n.abort(h instanceof br?h:new Bp(h instanceof Error?h.message:h))}};let a=e&&setTimeout(()=>{a=null,s(new br(`timeout ${e} of ms exceeded`,br.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>Re.asap(o),l}},bY=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},wY=async function*(t,e){for await(const r of _Y(t))yield*bY(r,e)},_Y=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},YN=(t,e,r,n)=>{const i=wY(t,e);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:h}=await i.next();if(c){o(),l.close();return}let f=h.byteLength;if(r){let g=s+=f;r(g)}l.enqueue(new Uint8Array(h))}catch(c){throw o(c),c}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},KN=64*1024,{isFunction:Sy}=Re,SY=(({Request:t,Response:e})=>({Request:t,Response:e}))(Re.global),{ReadableStream:XN,TextEncoder:JN}=Re.global,ZN=(t,...e)=>{try{return!!t(...e)}catch{return!1}},CY=t=>{t=Re.merge.call({skipUndefined:!0},SY,t);const{fetch:e,Request:r,Response:n}=t,i=e?Sy(e):typeof fetch=="function",s=Sy(r),a=Sy(n);if(!i)return!1;const o=i&&Sy(XN),l=i&&(typeof JN=="function"?(v=>x=>v.encode(x))(new JN):async v=>new Uint8Array(await new r(v).arrayBuffer())),c=s&&o&&ZN(()=>{let v=!1;const x=new r(Es.origin,{body:new XN,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!x}),h=a&&o&&ZN(()=>Re.isReadableStream(new n("").body)),f={stream:h&&(v=>v.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!f[v]&&(f[v]=(x,b)=>{let _=x&&x[v];if(_)return _.call(x);throw new br(`Response type '${v}' is not supported`,br.ERR_NOT_SUPPORT,b)})});const g=async v=>{if(v==null)return 0;if(Re.isBlob(v))return v.size;if(Re.isSpecCompliantForm(v))return(await new r(Es.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Re.isArrayBufferView(v)||Re.isArrayBuffer(v))return v.byteLength;if(Re.isURLSearchParams(v)&&(v=v+""),Re.isString(v))return(await l(v)).byteLength},p=async(v,x)=>{const b=Re.toFiniteNumber(v.getContentLength());return b??g(x)};return async v=>{let{url:x,method:b,data:_,signal:k,cancelToken:N,timeout:j,onDownloadProgress:P,onUploadProgress:F,responseType:D,headers:U,withCredentials:z="same-origin",fetchOptions:K}=fP(v),B=e||fetch;D=D?(D+"").toLowerCase():"text";let q=xY([k,N&&N.toAbortSignal()],j),W=null;const $=q&&q.unsubscribe&&(()=>{q.unsubscribe()});let Q;try{if(F&&c&&b!=="get"&&b!=="head"&&(Q=await p(U,_))!==0){let X=new r(x,{method:"POST",body:_,duplex:"half"}),O;if(Re.isFormData(_)&&(O=X.headers.get("content-type"))&&U.setContentType(O),X.body){const[Y,ne]=VN(Q,J1(HN(F)));_=YN(X.body,KN,Y,ne)}}Re.isString(z)||(z=z?"include":"omit");const ee=s&&"credentials"in r.prototype,se={...K,signal:q,method:b.toUpperCase(),headers:U.normalize().toJSON(),body:_,duplex:"half",credentials:ee?z:void 0};W=s&&new r(x,se);let V=await(s?B(W,K):B(x,se));const re=h&&(D==="stream"||D==="response");if(h&&(P||re&&$)){const X={};["status","statusText","headers"].forEach(oe=>{X[oe]=V[oe]});const O=Re.toFiniteNumber(V.headers.get("content-length")),[Y,ne]=P&&VN(O,J1(HN(P),!0))||[];V=new n(YN(V.body,KN,Y,()=>{ne&&ne(),$&&$()}),X)}D=D||"text";let pe=await f[Re.findKey(f,D)||"text"](V,v);return!re&&$&&$(),await new Promise((X,O)=>{hP(X,O,{data:pe,headers:Na.from(V.headers),status:V.status,statusText:V.statusText,config:v,request:W})})}catch(ee){throw $&&$(),ee&&ee.name==="TypeError"&&/Load failed|fetch/i.test(ee.message)?Object.assign(new br("Network Error",br.ERR_NETWORK,v,W),{cause:ee.cause||ee}):br.from(ee,ee&&ee.code,v,W)}}},kY=new Map,pP=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let a=s.length,o=a,l,c,h=kY;for(;o--;)l=s[o],c=h.get(l),c===void 0&&h.set(l,c=o?new Map:CY(e)),h=c;return c};pP();const wS={http:UG,xhr:vY,fetch:{get:pP}};Re.forEach(wS,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const QN=t=>`- ${t}`,NY=t=>Re.isFunction(t)||t===null||t===!1;function TY(t,e){t=Re.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let a=0;a<r;a++){n=t[a];let o;if(i=n,!NY(n)&&(i=wS[(o=String(n)).toLowerCase()],i===void 0))throw new br(`Unknown adapter '${o}'`);if(i&&(Re.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map(QN).join(`
`):" "+QN(a[0]):"as no adapter specified";throw new br("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const mP={getAdapter:TY,adapters:wS};function cb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Bp(null,t)}function eT(t){return cb(t),t.headers=Na.from(t.headers),t.data=lb.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),mP.getAdapter(t.adapter||o0.adapter,t)(t).then(function(n){return cb(t),n.data=lb.call(t,t.transformResponse,n),n.headers=Na.from(n.headers),n},function(n){return uP(n)||(cb(t),n&&n.response&&(n.response.data=lb.call(t,t.transformResponse,n.response),n.response.headers=Na.from(n.response.headers))),Promise.reject(n)})}const gP="1.13.2",px={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{px[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const tT={};px.transitional=function(e,r,n){function i(s,a){return"[Axios v"+gP+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new br(i(a," has been removed"+(r?" in "+r:"")),br.ERR_DEPRECATED);return r&&!tT[a]&&(tT[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};px.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function AY(t,e,r){if(typeof t!="object")throw new br("options must be an object",br.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new br("option "+s+" must be "+l,br.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new br("Unknown option "+s,br.ERR_BAD_OPTION)}}const d1={assertOptions:AY,validators:px},Fl=d1.validators;let xd=class{constructor(e){this.defaults=e||{},this.interceptors={request:new qN,response:new qN}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ad(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&d1.assertOptions(n,{silentJSONParsing:Fl.transitional(Fl.boolean),forcedJSONParsing:Fl.transitional(Fl.boolean),clarifyTimeoutError:Fl.transitional(Fl.boolean)},!1),i!=null&&(Re.isFunction(i)?r.paramsSerializer={serialize:i}:d1.assertOptions(i,{encode:Fl.function,serialize:Fl.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),d1.assertOptions(r,{baseUrl:Fl.spelling("baseURL"),withXsrfToken:Fl.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&Re.merge(s.common,s[r.method]);s&&Re.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),r.headers=Na.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(l=l&&x.synchronous,o.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let h,f=0,g;if(!l){const v=[eT.bind(this),void 0];for(v.unshift(...o),v.push(...c),g=v.length,h=Promise.resolve(r);f<g;)h=h.then(v[f++],v[f++]);return h}g=o.length;let p=r;for(;f<g;){const v=o[f++],x=o[f++];try{p=v(p)}catch(b){x.call(this,b);break}}try{h=eT.call(this,p)}catch(v){return Promise.reject(v)}for(f=0,g=c.length;f<g;)h=h.then(c[f++],c[f++]);return h}getUri(e){e=Ad(this.defaults,e);const r=dP(e.baseURL,e.url,e.allowAbsoluteUrls);return oP(r,e.params,e.paramsSerializer)}};Re.forEach(["delete","get","head","options"],function(e){xd.prototype[e]=function(r,n){return this.request(Ad(n||{},{method:e,url:r,data:(n||{}).data}))}});Re.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(Ad(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}xd.prototype[e]=r(),xd.prototype[e+"Form"]=r(!0)});let EY=class yP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new Bp(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new yP(function(i){e=i}),cancel:e}}};function jY(t){return function(r){return t.apply(null,r)}}function LY(t){return Re.isObject(t)&&t.isAxiosError===!0}const Jw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Jw).forEach(([t,e])=>{Jw[e]=t});function vP(t){const e=new xd(t),r=KL(xd.prototype.request,e);return Re.extend(r,xd.prototype,e,{allOwnKeys:!0}),Re.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return vP(Ad(t,i))},r}const jn=vP(o0);jn.Axios=xd;jn.CanceledError=Bp;jn.CancelToken=EY;jn.isCancel=uP;jn.VERSION=gP;jn.toFormData=fx;jn.AxiosError=br;jn.Cancel=jn.CanceledError;jn.all=function(e){return Promise.all(e)};jn.spread=jY;jn.isAxiosError=LY;jn.mergeConfig=Ad;jn.AxiosHeaders=Na;jn.formToJSON=t=>cP(Re.isHTMLForm(t)?new FormData(t):t);jn.getAdapter=mP.getAdapter;jn.HttpStatusCode=Jw;jn.default=jn;const{Axios:_we,AxiosError:Swe,CanceledError:Cwe,isCancel:kwe,CancelToken:Nwe,VERSION:Twe,all:Awe,Cancel:Ewe,isAxiosError:jwe,spread:Lwe,toFormData:Pwe,AxiosHeaders:Rwe,HttpStatusCode:Mwe,formToJSON:Owe,getAdapter:Iwe,mergeConfig:Dwe}=jn,PY=()=>{let t="http://localhost:4000";return t.startsWith("http")&&!t.endsWith("/api")&&(t=`${t}/api`),t},ji=jn.create({baseURL:PY(),timeout:1e4,headers:{"Content-Type":"application/json"}});ji.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));ji.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(console.warn("Unauthorized access. Redirecting to login..."),localStorage.removeItem("token"),window.location.pathname!=="/"&&window.location.pathname!=="/login"&&(window.location.href="/")),Promise.reject(t)));const RY=()=>{const[t,e]=E.useState([]),[r,n]=E.useState(!0),[i,s]=E.useState(null),a=E.useCallback(async(x={})=>{try{n(!0),s(null);const _=(await ji.get("/tasks",{params:x})).data?.data||[];let k=Array.isArray(_)?_:[];if(x.categoryId&&(k=k.filter(N=>N.category_id===Number(x.categoryId))),x.priorityId&&(k=k.filter(N=>N.priority_id===Number(x.priorityId))),x.completed!==void 0&&x.completed!==null&&x.completed!==""){const N=String(x.completed)==="true"||x.completed===!0;k=k.filter(j=>j.completed===N)}if(x.searchText){const N=String(x.searchText).trim().toLowerCase();N.length>0&&(k=k.filter(j=>j.title?.toLowerCase().includes(N)||j.description?.toLowerCase().includes(N)))}e(k)}catch(b){console.error("Error fetching tasks:",b),s(b.message||"Failed to fetch tasks")}finally{n(!1)}},[]),o=E.useCallback(async x=>{try{s(null);const b=await LN();if(!b?.id)throw new Error("User not authenticated");const _={title:x.title??"",description:x.description??null,due_date:x.due_date??null,priority_id:x.priority_id??1,category_id:x.category_id??1,completed:x.completed??!1,parent_task_id:x.parent_task_id??null,user_id:b.id},N=(await ji.post("/tasks",_)).data?.data;return e(j=>[N,...j]),N}catch(b){throw console.error("Error creating task:",b),s(b.message||"Failed to create task"),b}},[]),l=E.useCallback(async(x,b)=>{try{s(null);const{id:_,user_id:k,created_at:N,updated_at:j,...P}=b||{},D=(await ji.put(`/tasks/${x}`,P)).data?.data;return e(U=>U.map(z=>z.id===x?D:z)),D}catch(_){throw console.error("Error updating task:",_),s(_.message||"Failed to update task"),_}},[]),c=E.useCallback(async x=>{try{s(null),await ji.delete(`/tasks/${x}`),e(b=>b.filter(_=>_.id!==x))}catch(b){throw console.error("Error deleting task:",b),s(b.message||"Failed to delete task"),b}},[]),h=E.useCallback(async(x,b)=>l(x,{completed:!b}),[l]),f=E.useCallback(async x=>{try{return(await ji.get("/subtasks",{params:{parentId:x}})).data?.data||[]}catch(b){return console.error("Error fetching subtasks:",b),[]}},[]),g=E.useCallback(async(x,b)=>{try{const _=await LN(),k={...b,parent_task_id:x,user_id:_?.id};return(await ji.post("/subtasks",k)).data?.data}catch(_){throw console.error("Error creating subtask:",_),_}},[]),p=E.useCallback(async()=>{try{return((await ji.get("/tasks")).data?.data||[]).filter(_=>!_.completed&&_.due_date&&new Date(_.due_date)<new Date)}catch(x){throw console.error("Error fetching overdue tasks:",x),x}},[]),v=E.useCallback(async()=>{try{return[]}catch(x){throw x}},[]);return E.useEffect(()=>{a()},[a]),{tasks:t,loading:r,error:i,fetchTasks:a,createTask:o,updateTask:l,deleteTask:c,toggleTaskCompletion:h,getSubtasks:f,createSubtask:g,getOverdueTasks:p,getCompletedTasksToday:v,refetch:a}},Cy=({task:t,categories:e=[],priorities:r=[],onToggleComplete:n,onEdit:i,onDelete:s,showActions:a=!0})=>{const o=e.find(h=>h.id===t.category_id),l=r.find(h=>h.id===t.priority_id),c=t.due_date&&new Date(t.due_date)<new Date&&!t.completed;return m.jsx("div",{className:`bg-white border rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow ${t.completed?"opacity-75":""} ${c?"border-red-200 bg-red-50":"border-gray-200"}`,children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[m.jsx("button",{onClick:()=>n(t.id),className:"mt-1 flex-shrink-0",disabled:!a,children:t.completed?m.jsx(hL,{className:"h-5 w-5 text-green-500"}):m.jsx(SV,{className:"h-5 w-5 text-gray-400 hover:text-green-500"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h3",{className:`text-lg font-medium ${t.completed?"line-through text-gray-500":"text-gray-900"}`,children:t.title}),t.description&&m.jsx("p",{className:`mt-1 text-sm ${t.completed?"line-through text-gray-400":"text-gray-600"}`,children:t.description}),m.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o&&m.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[m.jsx(cg,{className:"h-3 w-3 mr-1"}),o.name]}),l&&m.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${l.name==="Alta"?"bg-red-100 text-red-800":l.name==="Media"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:l.name}),t.due_date&&m.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${c?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:[m.jsx(Ta,{className:"h-3 w-3 mr-1"}),new Date(t.due_date).toLocaleDateString(),c&&m.jsx(SL,{className:"h-3 w-3 ml-1"})]})]}),t.parent_task_id&&m.jsx("span",{className:"inline-flex items-center px-2 py-1 mt-2 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Subtarea"})]})]}),a&&m.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[m.jsx("button",{onClick:()=>i(t),className:"text-green-600 hover:text-green-900 text-sm font-medium",children:"Editar"}),m.jsx("button",{onClick:()=>s(t.id),className:"text-red-600 hover:text-red-900 text-sm font-medium",children:"Eliminar"})]})]})})},MY=({task:t,categories:e,priorities:r,onSubmit:n,onCancel:i})=>{const[s,a]=E.useState({title:"",description:"",due_date:"",priority_id:1,category_id:1});E.useEffect(()=>{a(t?{title:t.title||"",description:t.description||"",due_date:t.due_date?t.due_date.split("T")[0]:"",priority_id:t.priority_id||1,category_id:t.category_id||1}:{title:"",description:"",due_date:new Date().toISOString().split("T")[0],priority_id:1,category_id:1})},[t]);const o=(h,f)=>{a(g=>({...g,[h]:f}))},l=h=>{if(h.preventDefault(),!s.title.trim()){alert("El ttulo es obligatorio");return}n(s)},c=h=>{switch(h){case 1:return"border-red-500 bg-red-50";case 2:return"border-orange-500 bg-orange-50";case 3:return"border-green-500 bg-green-50";default:return"border-gray-500 bg-gray-50"}};return m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t?"Editar Tarea":"Nueva Tarea"}),m.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:m.jsx(Yl,{size:20})})]}),m.jsxs("form",{onSubmit:l,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo *"}),m.jsx("input",{type:"text",value:s.title,onChange:h=>o("title",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",placeholder:"Ingresa el ttulo de la tarea",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),m.jsx("textarea",{value:s.description,onChange:h=>o("description",h.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",placeholder:"Describe la tarea (opcional)"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha lmite"}),m.jsx("input",{type:"date",value:s.due_date,onChange:h=>o("due_date",h.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridad"}),m.jsx("select",{value:s.priority_id,onChange:h=>o("priority_id",parseInt(h.target.value)),className:`w-full px-3 py-2 border-2 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 ${c(s.priority_id)}`,children:r.map(h=>m.jsx("option",{value:h.id,children:h.name},h.id))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categora"}),m.jsx("select",{value:s.category_id,onChange:h=>o("category_id",parseInt(h.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",children:e.map(h=>m.jsx("option",{value:h.id,children:h.name},h.id))})]})]}),m.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[m.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Cancelar"}),m.jsxs("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[t?"Actualizar":"Crear"," Tarea"]})]})]})]})},OY=()=>{const[t,e]=E.useState(null),[r,n]=E.useState(!0),[i,s]=E.useState(0);E.useEffect(()=>{a()},[]),E.useEffect(()=>{if(t?.currentStreak!==void 0){const l=t.currentStreak,c=1e3,h=60,f=l/h;let g=0;const p=setInterval(()=>{g+=f,g>=l?(s(l),clearInterval(p)):s(Math.floor(g))},c/h);return()=>clearInterval(p)}},[t?.currentStreak]);const a=async()=>{try{const c=(await ji.get("/statistics/streak-stats"))?.data;e(c||{currentStreak:0,lastCompletedDate:null,dailyGoal:5,completionRate:0})}catch(l){console.error("Error fetching streak data:",l),e({currentStreak:0,lastCompletedDate:null,dailyGoal:5,completionRate:0})}finally{n(!1)}};if(r)return m.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:m.jsx("div",{className:"text-center text-gray-500",children:"Cargando racha..."})});if(!t)return m.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:m.jsx("div",{className:"text-center text-gray-500",children:"No se pudo cargar la informacin de racha"})});const o=t.lastCompletedDate&&new Date(t.lastCompletedDate).toDateString()===new Date().toDateString();return m.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[m.jsx(PN,{className:"mr-2 text-orange-500",size:20}),"Mi Racha"]}),m.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[m.jsx(_L,{size:16,className:"mr-1"}),"Meta: ",t.dailyGoal," tareas/da"]})]}),m.jsxs("div",{className:"text-center mb-4",children:[m.jsx("div",{className:`text-6xl font-bold mb-2 ${i>0?"text-orange-500":"text-gray-400"}`,children:i}),m.jsx("div",{className:"text-sm text-gray-600",children:i===1?"da consecutivo":"das consecutivos"})]}),m.jsx("div",{className:"text-center mb-4",children:o?m.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-green-100 text-green-800 text-sm",children:[m.jsx(PN,{size:14,className:"mr-1"}),"Racha activa!"]}):m.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-gray-100 text-gray-600 text-sm",children:[m.jsx(Ta,{size:14,className:"mr-1"}),"Completa tareas hoy para mantener la racha"]})}),t.lastCompletedDate&&m.jsxs("div",{className:"text-center text-xs text-gray-500 mt-2",children:["ltima: ",new Date(t.lastCompletedDate).toLocaleDateString("es-ES")]})]})},IY=NL("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function va({className:t,variant:e,asChild:r=!1,...n}){const i=r?nu:"span";return m.jsx(i,{"data-slot":"badge",className:Pr(IY({variant:e}),t),...n})}var _S="Progress",SS=100,[DY]=ic(_S),[BY,FY]=DY(_S),xP=E.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=$Y,...a}=t;(i||i===0)&&!rT(i)&&console.error(zY(`${i}`,"Progress"));const o=rT(i)?i:SS;n!==null&&!nT(n,o)&&console.error(UY(`${n}`,"Progress"));const l=nT(n,o)?n:null,c=Z1(l)?s(l,o):void 0;return m.jsx(BY,{scope:r,value:l,max:o,children:m.jsx(Fr.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":Z1(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":_P(l,o),"data-value":l??void 0,"data-max":o,...a,ref:e})})});xP.displayName=_S;var bP="ProgressIndicator",wP=E.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=FY(bP,r);return m.jsx(Fr.div,{"data-state":_P(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});wP.displayName=bP;function $Y(t,e){return`${Math.round(t/e*100)}%`}function _P(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Z1(t){return typeof t=="number"}function rT(t){return Z1(t)&&!isNaN(t)&&t>0}function nT(t,e){return Z1(t)&&!isNaN(t)&&t<=e&&t>=0}function zY(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${SS}\`.`}function UY(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${SS} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var qY=xP,WY=wP;function SP({className:t,value:e,...r}){return m.jsx(qY,{"data-slot":"progress",className:Pr("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...r,children:m.jsx(WY,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}var VY=t=>{switch(t){case"success":return YY;case"info":return XY;case"warning":return KY;case"error":return JY;default:return null}},HY=Array(12).fill(0),GY=({visible:t,className:e})=>Xe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Xe.createElement("div",{className:"sonner-spinner"},HY.map((r,n)=>Xe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),YY=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),KY=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),XY=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),JY=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ZY=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Xe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Xe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),QY=()=>{let[t,e]=Xe.useState(document.hidden);return Xe.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Zw=1,eK=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:n,...i}=e,s=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:Zw++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:o,title:n}):l):this.addToast({title:n,...i,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let i=e instanceof Promise?e:e(),s=n!==void 0,a,o=i.then(async c=>{if(a=["resolve",c],Xe.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(rK(c)&&!c.ok){s=!1;let h=typeof r.error=="function"?await r.error(`HTTP error! status: ${c.status}`):r.error,f=typeof r.description=="function"?await r.description(`HTTP error! status: ${c.status}`):r.description;this.create({id:n,type:"error",message:h,description:f})}else if(r.success!==void 0){s=!1;let h=typeof r.success=="function"?await r.success(c):r.success,f=typeof r.description=="function"?await r.description(c):r.description;this.create({id:n,type:"success",message:h,description:f})}}).catch(async c=>{if(a=["reject",c],r.error!==void 0){s=!1;let h=typeof r.error=="function"?await r.error(c):r.error,f=typeof r.description=="function"?await r.description(c):r.description;this.create({id:n,type:"error",message:h,description:f})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=r.finally)==null||c.call(r)}),l=()=>new Promise((c,h)=>o.then(()=>a[0]==="reject"?h(a[1]):c(a[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,r)=>{let n=r?.id||Zw++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},xa=new eK,tK=(t,e)=>{let r=e?.id||Zw++;return xa.addToast({title:t,...e,id:r}),r},rK=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",nK=tK,iK=()=>xa.toasts,sK=()=>xa.getActiveToasts(),Dr=Object.assign(nK,{success:xa.success,info:xa.info,warning:xa.warning,error:xa.error,custom:xa.custom,message:xa.message,promise:xa.promise,dismiss:xa.dismiss,loading:xa.loading},{getHistory:iK,getToasts:sK});function aK(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}aK(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ky(t){return t.label!==void 0}var oK=3,lK="32px",cK="16px",iT=4e3,uK=356,hK=14,dK=20,fK=200;function Zo(...t){return t.filter(Boolean).join(" ")}function pK(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var mK=t=>{var e,r,n,i,s,a,o,l,c,h,f;let{invert:g,toast:p,unstyled:v,interacting:x,setHeights:b,visibleToasts:_,heights:k,index:N,toasts:j,expanded:P,removeToast:F,defaultRichColors:D,closeButton:U,style:z,cancelButtonStyle:K,actionButtonStyle:B,className:q="",descriptionClassName:W="",duration:$,position:Q,gap:ee,loadingIcon:se,expandByDefault:V,classNames:re,icons:pe,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:O}=t,[Y,ne]=Xe.useState(null),[oe,ue]=Xe.useState(null),[de,be]=Xe.useState(!1),[Se,ke]=Xe.useState(!1),[De,Ye]=Xe.useState(!1),[We,nt]=Xe.useState(!1),[le,Ze]=Xe.useState(!1),[er,vt]=Xe.useState(0),[ze,xt]=Xe.useState(0),tt=Xe.useRef(p.duration||$||iT),jt=Xe.useRef(null),dt=Xe.useRef(null),_r=N===0,or=N+1<=_,mt=p.type,Gt=p.dismissible!==!1,hr=p.className||"",ft=p.descriptionClassName||"",zt=Xe.useMemo(()=>k.findIndex(Ut=>Ut.toastId===p.id)||0,[k,p.id]),ot=Xe.useMemo(()=>{var Ut;return(Ut=p.closeButton)!=null?Ut:U},[p.closeButton,U]),rn=Xe.useMemo(()=>p.duration||$||iT,[p.duration,$]),fr=Xe.useRef(0),Vt=Xe.useRef(0),Ht=Xe.useRef(0),xr=Xe.useRef(null),[Tt,Rr]=Q.split("-"),Dt=Xe.useMemo(()=>k.reduce((Ut,pt,mr)=>mr>=zt?Ut:Ut+pt.height,0),[k,zt]),qt=QY(),kr=p.invert||g,Jt=mt==="loading";Vt.current=Xe.useMemo(()=>zt*ee+Dt,[zt,Dt]),Xe.useEffect(()=>{tt.current=rn},[rn]),Xe.useEffect(()=>{be(!0)},[]),Xe.useEffect(()=>{let Ut=dt.current;if(Ut){let pt=Ut.getBoundingClientRect().height;return xt(pt),b(mr=>[{toastId:p.id,height:pt,position:p.position},...mr]),()=>b(mr=>mr.filter(cn=>cn.toastId!==p.id))}},[b,p.id]),Xe.useLayoutEffect(()=>{if(!de)return;let Ut=dt.current,pt=Ut.style.height;Ut.style.height="auto";let mr=Ut.getBoundingClientRect().height;Ut.style.height=pt,xt(mr),b(cn=>cn.find(ct=>ct.toastId===p.id)?cn.map(ct=>ct.toastId===p.id?{...ct,height:mr}:ct):[{toastId:p.id,height:mr,position:p.position},...cn])},[de,p.title,p.description,b,p.id]);let lt=Xe.useCallback(()=>{ke(!0),vt(Vt.current),b(Ut=>Ut.filter(pt=>pt.toastId!==p.id)),setTimeout(()=>{F(p)},fK)},[p,F,b,Vt]);Xe.useEffect(()=>{if(p.promise&&mt==="loading"||p.duration===1/0||p.type==="loading")return;let Ut;return P||x||O&&qt?(()=>{if(Ht.current<fr.current){let pt=new Date().getTime()-fr.current;tt.current=tt.current-pt}Ht.current=new Date().getTime()})():tt.current!==1/0&&(fr.current=new Date().getTime(),Ut=setTimeout(()=>{var pt;(pt=p.onAutoClose)==null||pt.call(p,p),lt()},tt.current)),()=>clearTimeout(Ut)},[P,x,p,mt,O,qt,lt]),Xe.useEffect(()=>{p.delete&&lt()},[lt,p.delete]);function Ar(){var Ut,pt,mr;return pe!=null&&pe.loading?Xe.createElement("div",{className:Zo(re?.loader,(Ut=p?.classNames)==null?void 0:Ut.loader,"sonner-loader"),"data-visible":mt==="loading"},pe.loading):se?Xe.createElement("div",{className:Zo(re?.loader,(pt=p?.classNames)==null?void 0:pt.loader,"sonner-loader"),"data-visible":mt==="loading"},se):Xe.createElement(GY,{className:Zo(re?.loader,(mr=p?.classNames)==null?void 0:mr.loader),visible:mt==="loading"})}return Xe.createElement("li",{tabIndex:0,ref:dt,className:Zo(q,hr,re?.toast,(e=p?.classNames)==null?void 0:e.toast,re?.default,re?.[mt],(r=p?.classNames)==null?void 0:r[mt]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:D,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":de,"data-promise":!!p.promise,"data-swiped":le,"data-removed":Se,"data-visible":or,"data-y-position":Tt,"data-x-position":Rr,"data-index":N,"data-front":_r,"data-swiping":De,"data-dismissible":Gt,"data-type":mt,"data-invert":kr,"data-swipe-out":We,"data-swipe-direction":oe,"data-expanded":!!(P||V&&de),style:{"--index":N,"--toasts-before":N,"--z-index":j.length-N,"--offset":`${Se?er:Vt.current}px`,"--initial-height":V?"auto":`${ze}px`,...z,...p.style},onDragEnd:()=>{Ye(!1),ne(null),xr.current=null},onPointerDown:Ut=>{Jt||!Gt||(jt.current=new Date,vt(Vt.current),Ut.target.setPointerCapture(Ut.pointerId),Ut.target.tagName!=="BUTTON"&&(Ye(!0),xr.current={x:Ut.clientX,y:Ut.clientY}))},onPointerUp:()=>{var Ut,pt,mr,cn;if(We||!Gt)return;xr.current=null;let ct=Number(((Ut=dt.current)==null?void 0:Ut.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),un=Number(((pt=dt.current)==null?void 0:pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ln=new Date().getTime()-((mr=jt.current)==null?void 0:mr.getTime()),$r=Y==="x"?ct:un,_n=Math.abs($r)/Ln;if(Math.abs($r)>=dK||_n>.11){vt(Vt.current),(cn=p.onDismiss)==null||cn.call(p,p),ue(Y==="x"?ct>0?"right":"left":un>0?"down":"up"),lt(),nt(!0),Ze(!1);return}Ye(!1),ne(null)},onPointerMove:Ut=>{var pt,mr,cn,ct;if(!xr.current||!Gt||((pt=window.getSelection())==null?void 0:pt.toString().length)>0)return;let un=Ut.clientY-xr.current.y,Ln=Ut.clientX-xr.current.x,$r=(mr=t.swipeDirections)!=null?mr:pK(Q);!Y&&(Math.abs(Ln)>1||Math.abs(un)>1)&&ne(Math.abs(Ln)>Math.abs(un)?"x":"y");let _n={x:0,y:0};Y==="y"?($r.includes("top")||$r.includes("bottom"))&&($r.includes("top")&&un<0||$r.includes("bottom")&&un>0)&&(_n.y=un):Y==="x"&&($r.includes("left")||$r.includes("right"))&&($r.includes("left")&&Ln<0||$r.includes("right")&&Ln>0)&&(_n.x=Ln),(Math.abs(_n.x)>0||Math.abs(_n.y)>0)&&Ze(!0),(cn=dt.current)==null||cn.style.setProperty("--swipe-amount-x",`${_n.x}px`),(ct=dt.current)==null||ct.style.setProperty("--swipe-amount-y",`${_n.y}px`)}},ot&&!p.jsx?Xe.createElement("button",{"aria-label":X,"data-disabled":Jt,"data-close-button":!0,onClick:Jt||!Gt?()=>{}:()=>{var Ut;lt(),(Ut=p.onDismiss)==null||Ut.call(p,p)},className:Zo(re?.closeButton,(i=p?.classNames)==null?void 0:i.closeButton)},(s=pe?.close)!=null?s:ZY):null,p.jsx||E.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:Xe.createElement(Xe.Fragment,null,mt||p.icon||p.promise?Xe.createElement("div",{"data-icon":"",className:Zo(re?.icon,(a=p?.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Ar():null,p.type!=="loading"?p.icon||pe?.[mt]||VY(mt):null):null,Xe.createElement("div",{"data-content":"",className:Zo(re?.content,(o=p?.classNames)==null?void 0:o.content)},Xe.createElement("div",{"data-title":"",className:Zo(re?.title,(l=p?.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?Xe.createElement("div",{"data-description":"",className:Zo(W,ft,re?.description,(c=p?.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),E.isValidElement(p.cancel)?p.cancel:p.cancel&&ky(p.cancel)?Xe.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||K,onClick:Ut=>{var pt,mr;ky(p.cancel)&&Gt&&((mr=(pt=p.cancel).onClick)==null||mr.call(pt,Ut),lt())},className:Zo(re?.cancelButton,(h=p?.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,E.isValidElement(p.action)?p.action:p.action&&ky(p.action)?Xe.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||B,onClick:Ut=>{var pt,mr;ky(p.action)&&((mr=(pt=p.action).onClick)==null||mr.call(pt,Ut),!Ut.defaultPrevented&&lt())},className:Zo(re?.actionButton,(f=p?.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function sT(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function gK(t,e){let r={};return[t,e].forEach((n,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?cK:lK;function l(c){["top","right","bottom","left"].forEach(h=>{r[`${a}-${h}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${a}-${c}`]=o:r[`${a}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(o)}),r}var yK=E.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,mobileOffset:c,theme:h="light",richColors:f,duration:g,style:p,visibleToasts:v=oK,toastOptions:x,dir:b=sT(),gap:_=hK,loadingIcon:k,icons:N,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:P}=t,[F,D]=Xe.useState([]),U=Xe.useMemo(()=>Array.from(new Set([n].concat(F.filter(O=>O.position).map(O=>O.position)))),[F,n]),[z,K]=Xe.useState([]),[B,q]=Xe.useState(!1),[W,$]=Xe.useState(!1),[Q,ee]=Xe.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),se=Xe.useRef(null),V=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),re=Xe.useRef(null),pe=Xe.useRef(!1),X=Xe.useCallback(O=>{D(Y=>{var ne;return(ne=Y.find(oe=>oe.id===O.id))!=null&&ne.delete||xa.dismiss(O.id),Y.filter(({id:oe})=>oe!==O.id)})},[]);return Xe.useEffect(()=>xa.subscribe(O=>{if(O.dismiss){D(Y=>Y.map(ne=>ne.id===O.id?{...ne,delete:!0}:ne));return}setTimeout(()=>{f6.flushSync(()=>{D(Y=>{let ne=Y.findIndex(oe=>oe.id===O.id);return ne!==-1?[...Y.slice(0,ne),{...Y[ne],...O},...Y.slice(ne+1)]:[O,...Y]})})})}),[]),Xe.useEffect(()=>{if(h!=="system"){ee(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window>"u")return;let O=window.matchMedia("(prefers-color-scheme: dark)");try{O.addEventListener("change",({matches:Y})=>{ee(Y?"dark":"light")})}catch{O.addListener(({matches:ne})=>{try{ee(ne?"dark":"light")}catch(oe){console.error(oe)}})}},[h]),Xe.useEffect(()=>{F.length<=1&&q(!1)},[F]),Xe.useEffect(()=>{let O=Y=>{var ne,oe;i.every(ue=>Y[ue]||Y.code===ue)&&(q(!0),(ne=se.current)==null||ne.focus()),Y.code==="Escape"&&(document.activeElement===se.current||(oe=se.current)!=null&&oe.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[i]),Xe.useEffect(()=>{if(se.current)return()=>{re.current&&(re.current.focus({preventScroll:!0}),re.current=null,pe.current=!1)}},[se.current]),Xe.createElement("section",{ref:e,"aria-label":`${j} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((O,Y)=>{var ne;let[oe,ue]=O.split("-");return F.length?Xe.createElement("ol",{key:O,dir:b==="auto"?sT():b,tabIndex:-1,ref:se,className:o,"data-sonner-toaster":!0,"data-theme":Q,"data-y-position":oe,"data-lifted":B&&F.length>1&&!s,"data-x-position":ue,style:{"--front-toast-height":`${((ne=z[0])==null?void 0:ne.height)||0}px`,"--width":`${uK}px`,"--gap":`${_}px`,...p,...gK(l,c)},onBlur:de=>{pe.current&&!de.currentTarget.contains(de.relatedTarget)&&(pe.current=!1,re.current&&(re.current.focus({preventScroll:!0}),re.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||pe.current||(pe.current=!0,re.current=de.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{W||q(!1)},onDragEnd:()=>q(!1),onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},F.filter(de=>!de.position&&Y===0||de.position===O).map((de,be)=>{var Se,ke;return Xe.createElement(mK,{key:de.id,icons:N,index:be,toast:de,defaultRichColors:f,duration:(Se=x?.duration)!=null?Se:g,className:x?.className,descriptionClassName:x?.descriptionClassName,invert:r,visibleToasts:v,closeButton:(ke=x?.closeButton)!=null?ke:a,interacting:W,position:O,style:x?.style,unstyled:x?.unstyled,classNames:x?.classNames,cancelButtonStyle:x?.cancelButtonStyle,actionButtonStyle:x?.actionButtonStyle,removeToast:X,toasts:F.filter(De=>De.position==de.position),heights:z.filter(De=>De.position==de.position),setHeights:K,expandByDefault:s,gap:_,loadingIcon:k,expanded:B,pauseWhenPageIsHidden:P,swipeDirections:t.swipeDirections})})):null}))});const vK=()=>{const[t,e]=E.useState([]),[r,n]=E.useState([]),[i,s]=E.useState(!0),[a,o]=E.useState(!1),[l,c]=E.useState(null),[h,f]=E.useState({name:""}),[g,p]=E.useState(!1);E.useEffect(()=>{v()},[]);const v=async()=>{try{s(!0);const[j,P]=await Promise.all([ji.get("/categories"),ji.get("/categories/stats/categories")]);j.data&&e(j.data),P.data&&P.data.success&&n(P.data.data||[])}catch(j){console.error("Error fetching categories:",j),Dr.error("Error al cargar las categoras")}finally{s(!1)}},x=async j=>{if(j.preventDefault(),!h.name.trim()){Dr.error("El nombre de la categora es requerido");return}if(h.name.trim().length<2){Dr.error("El nombre debe tener al menos 2 caracteres");return}if(t.some(F=>F.name.toLowerCase()===h.name.trim().toLowerCase()&&F.id_Category!==l?.id_Category)){Dr.error("Ya existe una categora con ese nombre");return}try{p(!0);const F={name:h.name.trim(),id_User:null};l?(await ji.put(`/categories/${l.id_Category}`,F),Dr.success("Categora actualizada exitosamente")):(await ji.post("/categories",F),Dr.success("Categora creada exitosamente")),await v(),k()}catch(F){console.error("Error saving category:",F);const D=F.response?.data?.message||"Error al guardar la categora";Dr.error(D)}finally{p(!1)}},b=j=>{c(j),f({name:j.name}),o(!0)},_=async j=>{if(j.name==="General"){Dr.error("No se puede eliminar la categora General");return}if(window.confirm(`Ests seguro de que quieres eliminar la categora "${j.name}"? Esto tambin eliminar todas las tareas asociadas.`))try{await ji.delete(`/categories/${j.id_Category}`),Dr.success("Categora eliminada exitosamente"),await v()}catch(P){console.error("Error deleting category:",P),Dr.error("Error al eliminar la categora")}},k=()=>{f({name:""}),c(null),o(!1)},N=j=>r.find(F=>F.id===j)||{totalTasks:0,completedTasks:0,completionRate:0};return i?m.jsx("div",{className:"flex items-center justify-center py-12",children:m.jsx("div",{className:"text-lg text-gray-600",children:"Cargando categoras..."})}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[m.jsx(cg,{className:"text-green-600",size:24}),"Gestin de Categoras"]}),m.jsx("p",{className:"text-gray-600 mt-1",children:"Organiza tus tareas con categoras personalizadas"})]}),m.jsxs(et,{onClick:()=>o(!0),className:"bg-green-600 hover:bg-green-700",children:[m.jsx(Xs,{size:18,className:"mr-2"}),"Nueva Categora"]})]}),a&&m.jsxs(Or,{className:"p-6 bg-white rounded-xl shadow-sm",children:[m.jsx("h3",{className:"text-lg font-semibold mb-4",children:l?"Editar Categora":"Crear Nueva Categora"}),m.jsxs("form",{onSubmit:x,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la Categora"}),m.jsx(hi,{type:"text",value:h.name,onChange:j=>f({name:j.target.value}),placeholder:"Ej: Trabajo, Estudio, Personal...",className:"w-full",maxLength:50,autoFocus:!0}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mximo 50 caracteres"})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx(et,{type:"submit",disabled:g,className:"bg-green-600 hover:bg-green-700",children:g?"Guardando...":m.jsxs(m.Fragment,{children:[m.jsx(bV,{size:18,className:"mr-2"}),l?"Actualizar":"Crear"]})}),m.jsxs(et,{type:"button",variant:"outline",onClick:k,disabled:g,children:[m.jsx(Yl,{size:18,className:"mr-2"}),"Cancelar"]})]})]})]}),m.jsx("div",{className:"grid gap-4",children:t.length===0?m.jsxs(Or,{className:"p-12 text-center bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl",children:[m.jsx(cg,{className:"mx-auto text-gray-400 mb-4",size:48}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay categoras"}),m.jsx("p",{className:"text-gray-600 mb-4",children:"Crea tu primera categora para empezar a organizar tus tareas"}),m.jsxs(et,{onClick:()=>o(!0),className:"bg-green-600 hover:bg-green-700",children:[m.jsx(Xs,{size:18,className:"mr-2"}),"Crear Primera Categora"]})]}):t.map(j=>m.jsx(Or,{className:"p-4 bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center",children:m.jsx(cg,{className:"text-white",size:18})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-semibold text-gray-900",children:j.name}),m.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m.jsxs(va,{variant:"secondary",className:"text-xs",children:[N(j.id_Category).totalTasks," tareas"]}),N(j.id_Category).totalTasks>0&&m.jsxs(va,{variant:N(j.id_Category).completionRate===100?"default":"outline",className:`text-xs ${N(j.id_Category).completionRate===100?"bg-green-100 text-green-800 border-green-200":"text-gray-600 border-gray-200"}`,children:[N(j.id_Category).completionRate,"% completado"]}),j.name==="General"&&m.jsx(va,{variant:"outline",className:"text-xs text-blue-600 border-blue-200",children:"Predeterminada"})]}),N(j.id_Category).totalTasks>0&&m.jsxs("div",{className:"mt-2",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1",children:[m.jsx("span",{children:"Progreso"}),m.jsxs("span",{children:[N(j.id_Category).completedTasks,"/",N(j.id_Category).totalTasks]})]}),m.jsx(SP,{value:N(j.id_Category).completionRate,className:"h-2"})]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(et,{variant:"ghost",size:"sm",onClick:()=>b(j),className:"text-gray-600 hover:text-green-600",children:m.jsx(xL,{size:16})}),j.name!=="General"&&m.jsx(et,{variant:"ghost",size:"sm",onClick:()=>_(j),className:"text-gray-600 hover:text-red-600",children:m.jsx(sx,{size:16})})]})]})},j.id_Category))}),m.jsx(Or,{className:"p-6 bg-blue-50 border-blue-200 rounded-xl",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(SL,{className:"text-blue-600 mt-0.5",size:20}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Informacin Importante"}),m.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[m.jsx("li",{children:' La categora "General" es creada automticamente y no puede ser eliminada'}),m.jsx("li",{children:" Al eliminar una categora, todas las tareas asociadas tambin sern eliminadas"}),m.jsx("li",{children:" Los nombres de categoras deben ser nicos"}),m.jsx("li",{children:" Puedes crear hasta 50 categoras personalizadas"})]})]})]})})]})};function CP(t){const e=t+"CollectionProvider",[r,n]=ic(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:v,children:x}=p,b=Xe.useRef(null),_=Xe.useRef(new Map).current;return m.jsx(i,{scope:v,itemMap:_,collectionRef:b,children:x})};a.displayName=e;const o=t+"CollectionSlot",l=Xe.forwardRef((p,v)=>{const{scope:x,children:b}=p,_=s(o,x),k=Un(v,_.collectionRef);return m.jsx(nu,{ref:k,children:b})});l.displayName=o;const c=t+"CollectionItemSlot",h="data-radix-collection-item",f=Xe.forwardRef((p,v)=>{const{scope:x,children:b,..._}=p,k=Xe.useRef(null),N=Un(v,k),j=s(c,x);return Xe.useEffect(()=>(j.itemMap.set(k,{ref:k,..._}),()=>void j.itemMap.delete(k))),m.jsx(nu,{[h]:"",ref:N,children:b})});f.displayName=c;function g(p){const v=s(t+"CollectionConsumer",p);return Xe.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const _=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((j,P)=>_.indexOf(j.ref.current)-_.indexOf(P.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:l,ItemSlot:f},g,n]}var xK=uz.useId||(()=>{}),bK=0;function bd(t){const[e,r]=E.useState(xK());return ih(()=>{r(n=>n??String(bK++))},[t]),t||(e?`radix-${e}`:"")}function l0({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=wK({defaultProp:e,onChange:r}),s=t!==void 0,a=s?t:n,o=Zi(r),l=E.useCallback(c=>{if(s){const f=typeof c=="function"?c(t):c;f!==t&&o(f)}else i(c)},[s,t,i,o]);return[a,l]}function wK({defaultProp:t,onChange:e}){const r=E.useState(t),[n]=r,i=E.useRef(n),s=Zi(e);return E.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}var ub="rovingFocusGroup.onEntryFocus",_K={bubbles:!1,cancelable:!0},mx="RovingFocusGroup",[Qw,kP,SK]=CP(mx),[CK,gx]=ic(mx,[SK]),[kK,NK]=CK(mx),NP=E.forwardRef((t,e)=>m.jsx(Qw.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(Qw.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(TK,{...t,ref:e})})}));NP.displayName=mx;var TK=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...f}=t,g=E.useRef(null),p=Un(e,g),v=ox(s),[x=null,b]=l0({prop:a,defaultProp:o,onChange:l}),[_,k]=E.useState(!1),N=Zi(c),j=kP(r),P=E.useRef(!1),[F,D]=E.useState(0);return E.useEffect(()=>{const U=g.current;if(U)return U.addEventListener(ub,N),()=>U.removeEventListener(ub,N)},[N]),m.jsx(kK,{scope:r,orientation:n,dir:v,loop:i,currentTabStopId:x,onItemFocus:E.useCallback(U=>b(U),[b]),onItemShiftTab:E.useCallback(()=>k(!0),[]),onFocusableItemAdd:E.useCallback(()=>D(U=>U+1),[]),onFocusableItemRemove:E.useCallback(()=>D(U=>U-1),[]),children:m.jsx(Fr.div,{tabIndex:_||F===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:rr(t.onMouseDown,()=>{P.current=!0}),onFocus:rr(t.onFocus,U=>{const z=!P.current;if(U.target===U.currentTarget&&z&&!_){const K=new CustomEvent(ub,_K);if(U.currentTarget.dispatchEvent(K),!K.defaultPrevented){const B=j().filter(ee=>ee.focusable),q=B.find(ee=>ee.active),W=B.find(ee=>ee.id===x),Q=[q,W,...B].filter(Boolean).map(ee=>ee.ref.current);EP(Q,h)}}P.current=!1}),onBlur:rr(t.onBlur,()=>k(!1))})})}),TP="RovingFocusGroupItem",AP=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,...a}=t,o=bd(),l=s||o,c=NK(TP,r),h=c.currentTabStopId===l,f=kP(r),{onFocusableItemAdd:g,onFocusableItemRemove:p}=c;return E.useEffect(()=>{if(n)return g(),()=>p()},[n,g,p]),m.jsx(Qw.ItemSlot,{scope:r,id:l,focusable:n,active:i,children:m.jsx(Fr.span,{tabIndex:h?0:-1,"data-orientation":c.orientation,...a,ref:e,onMouseDown:rr(t.onMouseDown,v=>{n?c.onItemFocus(l):v.preventDefault()}),onFocus:rr(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:rr(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=jK(v,c.orientation,c.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let _=f().filter(k=>k.focusable).map(k=>k.ref.current);if(x==="last")_.reverse();else if(x==="prev"||x==="next"){x==="prev"&&_.reverse();const k=_.indexOf(v.currentTarget);_=c.loop?LK(_,k+1):_.slice(k+1)}setTimeout(()=>EP(_))}})})})});AP.displayName=TP;var AK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function EK(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function jK(t,e,r){const n=EK(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return AK[n]}function EP(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function LK(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var jP=NP,LP=AP,CS="Tabs",[PK]=ic(CS,[gx]),PP=gx(),[RK,kS]=PK(CS),RP=E.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:l="automatic",...c}=t,h=ox(o),[f,g]=l0({prop:n,onChange:i,defaultProp:s});return m.jsx(RK,{scope:r,baseId:bd(),value:f,onValueChange:g,orientation:a,dir:h,activationMode:l,children:m.jsx(Fr.div,{dir:h,"data-orientation":a,...c,ref:e})})});RP.displayName=CS;var MP="TabsList",OP=E.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=kS(MP,r),a=PP(r);return m.jsx(jP,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:n,children:m.jsx(Fr.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});OP.displayName=MP;var IP="TabsTrigger",DP=E.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,a=kS(IP,r),o=PP(r),l=$P(a.baseId,n),c=zP(a.baseId,n),h=n===a.value;return m.jsx(LP,{asChild:!0,...o,focusable:!i,active:h,children:m.jsx(Fr.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":c,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:rr(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(n):f.preventDefault()}),onKeyDown:rr(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(n)}),onFocus:rr(t.onFocus,()=>{const f=a.activationMode!=="manual";!h&&!i&&f&&a.onValueChange(n)})})})});DP.displayName=IP;var BP="TabsContent",FP=E.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...a}=t,o=kS(BP,r),l=$P(o.baseId,n),c=zP(o.baseId,n),h=n===o.value,f=E.useRef(h);return E.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),m.jsx(Qa,{present:i||h,children:({present:g})=>m.jsx(Fr.div,{"data-state":h?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!g,id:c,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:g&&s})})});FP.displayName=BP;function $P(t,e){return`${t}-trigger-${e}`}function zP(t,e){return`${t}-content-${e}`}var MK=RP,OK=OP,IK=DP,DK=FP;function e5({className:t,...e}){return m.jsx(MK,{"data-slot":"tabs",className:Pr("flex flex-col gap-2",t),...e})}function t5({className:t,...e}){return m.jsx(OK,{"data-slot":"tabs-list",className:Pr("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function il({className:t,...e}){return m.jsx(IK,{"data-slot":"tabs-trigger",className:Pr("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function sl({className:t,...e}){return m.jsx(DK,{"data-slot":"tabs-content",className:Pr("flex-1 outline-none",t),...e})}const BK=()=>{const[t]=BU(),e=t.get("tab")==="categories"?"categories":"tasks",{tasks:r,loading:n,error:i,createTask:s,updateTask:a,deleteTask:o,toggleTaskCompletion:l}=RY(),[c,h]=E.useState([]),[f,g]=E.useState([]),[p,v]=E.useState(!1),[x,b]=E.useState(null),[_,k]=E.useState({searchText:"",categoryId:"",priorityId:"",completed:""}),[N,j]=E.useState(!1);E.useEffect(()=>{P()},[]);const P=async()=>{try{const[$,Q]=await Promise.all([ji.get("/categories"),ji.get("/priorities")]);h($.data),g(Q.data)}catch($){console.error("Error fetching reference data:",$)}},F=async $=>{try{await s($),v(!1)}catch(Q){console.error("Error creating task:",Q)}},D=async $=>{try{await a(x.id,$),b(null)}catch(Q){console.error("Error updating task:",Q)}},U=async $=>{if(window.confirm("Ests seguro de que quieres eliminar esta tarea?"))try{await o($)}catch(Q){console.error("Error deleting task:",Q)}},z=$=>{b($)},K=()=>{v(!1),b(null)},B=($,Q)=>{k(ee=>({...ee,[$]:Q}))},q=()=>{k({searchText:"",categoryId:"",priorityId:"",completed:""})},W=r.filter($=>!(_.searchText&&!$.title.toLowerCase().includes(_.searchText.toLowerCase())&&!$.description?.toLowerCase().includes(_.searchText.toLowerCase())||_.categoryId&&$.category_id!==parseInt(_.categoryId)||_.priorityId&&$.priority_id!==parseInt(_.priorityId)||_.completed!==""&&$.completed!==(_.completed==="true")));return n&&r.length===0?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx("div",{className:"text-xl",children:"Cargando tareas..."})}):m.jsxs("div",{className:"p-8",children:[m.jsx("header",{className:"sticky top-0 bg-white rounded-xl shadow-sm p-6 mb-6 z-10",children:m.jsx("div",{className:"flex justify-between items-center",children:m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e==="tasks"?"Mis Tareas":"Categoras"}),m.jsx("p",{className:"text-gray-600 mt-1",children:e==="tasks"?"Gestiona tus tareas y mantn tu racha de productividad":"Organiza tus tareas con categoras personalizadas"})]})})}),e==="tasks"&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"mb-6",children:m.jsx(OY,{})}),m.jsxs(Or,{className:"p-6 bg-white rounded-xl shadow-sm mb-6",children:[m.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs(et,{onClick:()=>v(!0),className:"bg-green-600 hover:bg-green-700",children:[m.jsx(Xs,{size:18,className:"mr-2"}),"Nueva Tarea"]}),m.jsxs(et,{variant:"outline",className:"border-gray-300 bg-white",onClick:()=>j($=>!$),title:"Filtros",children:[m.jsx(NV,{size:18,className:"mr-2 text-gray-500"}),"Filtros"]})]}),m.jsxs("div",{className:"text-sm text-gray-500",children:[W.length," de ",r.length," tareas"]})]}),m.jsx("div",{className:"mt-4",children:m.jsxs("div",{className:"relative",children:[m.jsx(dS,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),m.jsx(hi,{placeholder:"Buscar tareas...",value:_.searchText,onChange:$=>B("searchText",$.target.value),className:"pl-10 bg-white"})]})}),N&&m.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categora"}),m.jsxs("select",{value:_.categoryId,onChange:$=>B("categoryId",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 bg-white",children:[m.jsx("option",{value:"",children:"Todas las categoras"}),c.map($=>m.jsx("option",{value:$.id,children:$.name},$.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridad"}),m.jsxs("select",{value:_.priorityId,onChange:$=>B("priorityId",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 bg-white",children:[m.jsx("option",{value:"",children:"Todas las prioridades"}),f.map($=>m.jsx("option",{value:$.id,children:$.name},$.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),m.jsxs("select",{value:_.completed,onChange:$=>B("completed",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 bg-white",children:[m.jsx("option",{value:"",children:"Todos"}),m.jsx("option",{value:"false",children:"Pendientes"}),m.jsx("option",{value:"true",children:"Completadas"})]})]}),m.jsx("div",{className:"flex md:items-end",children:m.jsx(et,{variant:"ghost",onClick:q,className:"text-gray-700",children:"Limpiar filtros"})})]})})]})]}),e==="tasks"&&(p||x)&&m.jsx("div",{className:"mb-6",children:m.jsx(MY,{task:x,categories:c,priorities:f,onSubmit:x?D:F,onCancel:K})}),i&&m.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:m.jsx("div",{className:"text-red-800",children:i})}),m.jsxs(e5,{defaultValue:e,className:"w-full",children:[m.jsxs(t5,{className:"task-main-tabs bg-white mb-6 rounded-xl p-1 shadow-sm",children:[m.jsxs(il,{value:"tasks",className:"tab-trigger px-6 py-2.5 rounded-lg font-medium",children:[m.jsx("span",{className:"tab-icon",children:""})," Mis Tareas"]}),m.jsxs(il,{value:"categories",className:"tab-trigger px-6 py-2.5 rounded-lg font-medium",children:[m.jsx("span",{className:"tab-icon",children:""})," Categoras"]})]}),m.jsx(sl,{value:"tasks",className:"tab-content space-y-6",children:m.jsxs(e5,{defaultValue:"todas",className:"w-full",children:[m.jsxs(t5,{className:"task-sub-tabs bg-gray-50 mb-4 rounded-lg p-1",children:[m.jsxs(il,{value:"todas",className:"tab-trigger px-4 py-2 rounded-md text-sm font-medium",children:[m.jsx("span",{className:"tab-icon",children:""})," Todas"]}),m.jsxs(il,{value:"pendiente",className:"tab-trigger px-4 py-2 rounded-md text-sm font-medium",children:[m.jsx("span",{className:"tab-icon",children:""})," Pendientes"]}),m.jsxs(il,{value:"en-progreso",className:"tab-trigger px-4 py-2 rounded-md text-sm font-medium",children:[m.jsx("span",{className:"tab-icon",children:""})," En Progreso"]}),m.jsxs(il,{value:"completada",className:"tab-trigger px-4 py-2 rounded-md text-sm font-medium",children:[m.jsx("span",{className:"tab-icon",children:""})," Completadas"]})]}),m.jsx(sl,{value:"todas",children:m.jsx("div",{className:"space-y-4",children:W.length===0?m.jsxs(Or,{className:"p-12 text-center bg-white rounded-xl shadow-sm",children:[m.jsx("div",{className:"text-gray-500 text-lg mb-2",children:r.length===0?"No tienes tareas an":"No se encontraron tareas con los filtros aplicados"}),m.jsx("p",{className:"text-gray-400",children:r.length===0?"Crea tu primera tarea para comenzar":"Prueba cambiando los filtros"})]}):W.map($=>m.jsx(Cy,{task:$,categories:c,priorities:f,onToggleComplete:Q=>l(Q),onEdit:z,onDelete:U},$.id))})}),m.jsx(sl,{value:"pendiente",children:m.jsx("div",{className:"space-y-4",children:W.filter($=>$.completed===!1).map($=>m.jsx(Cy,{task:$,categories:c,priorities:f,onToggleComplete:Q=>l(Q),onEdit:z,onDelete:U},$.id))})}),m.jsx(sl,{value:"en-progreso",children:m.jsx("div",{className:"space-y-4",children:W.filter($=>$.completed===!1).map($=>m.jsx(Cy,{task:$,categories:c,priorities:f,onToggleComplete:Q=>l(Q),onEdit:z,onDelete:U},$.id))})}),m.jsx(sl,{value:"completada",children:m.jsx("div",{className:"space-y-4",children:W.filter($=>$.completed===!0).map($=>m.jsx(Cy,{task:$,categories:c,priorities:f,onToggleComplete:Q=>l(Q),onEdit:z,onDelete:U},$.id))})})]})}),m.jsx(sl,{value:"categories",className:"tab-content",children:m.jsx(vK,{})})]})]})},NS=E.createContext({});function TS(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const AS=typeof window<"u",UP=AS?E.useLayoutEffect:E.useEffect,yx=E.createContext(null);function ES(t,e){t.indexOf(e)===-1&&t.push(e)}function jS(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const iu=(t,e,r)=>r>e?e:r<t?t:r;let LS=()=>{};const su={},qP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function WP(t){return typeof t=="object"&&t!==null}const VP=t=>/^0[^.\s]+$/u.test(t);function PS(t){let e;return()=>(e===void 0&&(e=t()),e)}const ko=t=>t,FK=(t,e)=>r=>e(t(r)),c0=(...t)=>t.reduce(FK),Ag=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class RS{constructor(){this.subscriptions=[]}add(e){return ES(this.subscriptions,e),()=>jS(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Kl=t=>t*1e3,Co=t=>t/1e3;function HP(t,e){return e?t*(1e3/e):0}const GP=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,$K=1e-7,zK=12;function UK(t,e,r,n,i){let s,a,o=0;do a=e+(r-e)/2,s=GP(a,n,i)-t,s>0?r=a:e=a;while(Math.abs(s)>$K&&++o<zK);return a}function u0(t,e,r,n){if(t===e&&r===n)return ko;const i=s=>UK(s,0,1,t,r);return s=>s===0||s===1?s:GP(i(s),e,n)}const YP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,KP=t=>e=>1-t(1-e),XP=u0(.33,1.53,.69,.99),MS=KP(XP),JP=YP(MS),ZP=t=>(t*=2)<1?.5*MS(t):.5*(2-Math.pow(2,-10*(t-1))),OS=t=>1-Math.sin(Math.acos(t)),QP=KP(OS),eR=YP(OS),qK=u0(.42,0,1,1),WK=u0(0,0,.58,1),tR=u0(.42,0,.58,1),VK=t=>Array.isArray(t)&&typeof t[0]!="number",rR=t=>Array.isArray(t)&&typeof t[0]=="number",HK={linear:ko,easeIn:qK,easeInOut:tR,easeOut:WK,circIn:OS,circInOut:eR,circOut:QP,backIn:MS,backInOut:JP,backOut:XP,anticipate:ZP},GK=t=>typeof t=="string",aT=t=>{if(rR(t)){LS(t.length===4);const[e,r,n,i]=t;return u0(e,r,n,i)}else if(GK(t))return HK[t];return t},Ny=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function YK(t,e){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(h){a.has(h)&&(c.schedule(h),t()),h(o)}const c={schedule:(h,f=!1,g=!1)=>{const v=g&&i?r:n;return f&&a.add(h),v.has(h)||v.add(h),h},cancel:h=>{n.delete(h),a.delete(h)},process:h=>{if(o=h,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(l),r.clear(),i=!1,s&&(s=!1,c.process(h))}};return c}const KK=40;function nR(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=Ny.reduce((N,j)=>(N[j]=YK(s),N),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:h,update:f,preRender:g,render:p,postRender:v}=a,x=()=>{const N=su.useManualTiming?i.timestamp:performance.now();r=!1,su.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(N-i.timestamp,KK),1)),i.timestamp=N,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),h.process(i),f.process(i),g.process(i),p.process(i),v.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(x))},b=()=>{r=!0,n=!0,i.isProcessing||t(x)};return{schedule:Ny.reduce((N,j)=>{const P=a[j];return N[j]=(F,D=!1,U=!1)=>(r||b(),P.schedule(F,D,U)),N},{}),cancel:N=>{for(let j=0;j<Ny.length;j++)a[Ny[j]].cancel(N)},state:i,steps:a}}const{schedule:$n,cancel:sh,state:cs,steps:hb}=nR(typeof requestAnimationFrame<"u"?requestAnimationFrame:ko,!0);let f1;function XK(){f1=void 0}const _a={now:()=>(f1===void 0&&_a.set(cs.isProcessing||su.useManualTiming?cs.timestamp:performance.now()),f1),set:t=>{f1=t,queueMicrotask(XK)}},iR=t=>e=>typeof e=="string"&&e.startsWith(t),IS=iR("--"),JK=iR("var(--"),DS=t=>JK(t)?ZK.test(t.split("/*")[0].trim()):!1,ZK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Eg={...Fp,transform:t=>iu(0,1,t)},Ty={...Fp,default:1},ug=t=>Math.round(t*1e5)/1e5,BS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function QK(t){return t==null}const eX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,FS=(t,e)=>r=>!!(typeof r=="string"&&eX.test(r)&&r.startsWith(t)||e&&!QK(r)&&Object.prototype.hasOwnProperty.call(r,e)),sR=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,o]=n.match(BS);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},tX=t=>iu(0,255,t),db={...Fp,transform:t=>Math.round(tX(t))},dd={test:FS("rgb","red"),parse:sR("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+db.transform(t)+", "+db.transform(e)+", "+db.transform(r)+", "+ug(Eg.transform(n))+")"};function rX(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const r5={test:FS("#"),parse:rX,transform:dd.transform},h0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ku=h0("deg"),Xl=h0("%"),ar=h0("px"),nX=h0("vh"),iX=h0("vw"),oT={...Xl,parse:t=>Xl.parse(t)/100,transform:t=>Xl.transform(t*100)},Wf={test:FS("hsl","hue"),parse:sR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Xl.transform(ug(e))+", "+Xl.transform(ug(r))+", "+ug(Eg.transform(n))+")"},Ei={test:t=>dd.test(t)||r5.test(t)||Wf.test(t),parse:t=>dd.test(t)?dd.parse(t):Wf.test(t)?Wf.parse(t):r5.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?dd.transform(t):Wf.transform(t),getAnimatableNone:t=>{const e=Ei.parse(t);return e.alpha=0,Ei.transform(e)}},sX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aX(t){return isNaN(t)&&typeof t=="string"&&(t.match(BS)?.length||0)+(t.match(sX)?.length||0)>0}const aR="number",oR="color",oX="var",lX="var(",lT="${}",cX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jg(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(cX,l=>(Ei.test(l)?(n.color.push(s),i.push(oR),r.push(Ei.parse(l))):l.startsWith(lX)?(n.var.push(s),i.push(oX),r.push(l)):(n.number.push(s),i.push(aR),r.push(parseFloat(l))),++s,lT)).split(lT);return{values:r,split:o,indexes:n,types:i}}function lR(t){return jg(t).values}function cR(t){const{split:e,types:r}=jg(t),n=e.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=e[a],i[a]!==void 0){const o=r[a];o===aR?s+=ug(i[a]):o===oR?s+=Ei.transform(i[a]):s+=i[a]}return s}}const uX=t=>typeof t=="number"?0:Ei.test(t)?Ei.getAnimatableNone(t):t;function hX(t){const e=lR(t);return cR(t)(e.map(uX))}const ah={test:aX,parse:lR,createTransformer:cR,getAnimatableNone:hX};function fb(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function dX({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,a=0;if(!e)i=s=a=r;else{const o=r<.5?r*(1+e):r+e-r*e,l=2*r-o;i=fb(l,o,t+1/3),s=fb(l,o,t),a=fb(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function Q1(t,e){return r=>r>0?e:t}const Zn=(t,e,r)=>t+(e-t)*r,pb=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},fX=[r5,dd,Wf],pX=t=>fX.find(e=>e.test(t));function cT(t){const e=pX(t);if(!e)return!1;let r=e.parse(t);return e===Wf&&(r=dX(r)),r}const uT=(t,e)=>{const r=cT(t),n=cT(e);if(!r||!n)return Q1(t,e);const i={...r};return s=>(i.red=pb(r.red,n.red,s),i.green=pb(r.green,n.green,s),i.blue=pb(r.blue,n.blue,s),i.alpha=Zn(r.alpha,n.alpha,s),dd.transform(i))},n5=new Set(["none","hidden"]);function mX(t,e){return n5.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function gX(t,e){return r=>Zn(t,e,r)}function $S(t){return typeof t=="number"?gX:typeof t=="string"?DS(t)?Q1:Ei.test(t)?uT:xX:Array.isArray(t)?uR:typeof t=="object"?Ei.test(t)?uT:yX:Q1}function uR(t,e){const r=[...t],n=r.length,i=t.map((s,a)=>$S(s)(s,e[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function yX(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=$S(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function vX(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][n[s]],o=t.values[a]??0;r[i]=o,n[s]++}return r}const xX=(t,e)=>{const r=ah.createTransformer(e),n=jg(t),i=jg(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?n5.has(t)&&!i.values.length||n5.has(e)&&!n.values.length?mX(t,e):c0(uR(vX(n,i),i.values),r):Q1(t,e)};function hR(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Zn(t,e,r):$S(t)(t,e)}const bX=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>$n.update(e,r),stop:()=>sh(e),now:()=>cs.isProcessing?cs.timestamp:_a.now()}},dR=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},ev=2e4;function zS(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<ev;)e+=r,n=t.next(e);return e>=ev?1/0:e}function wX(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(zS(n),ev);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:Co(i)}}const _X=5;function fR(t,e,r){const n=Math.max(e-_X,0);return HP(r-t(n),e-n)}const ui={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mb=.001;function SX({duration:t=ui.duration,bounce:e=ui.bounce,velocity:r=ui.velocity,mass:n=ui.mass}){let i,s,a=1-e;a=iu(ui.minDamping,ui.maxDamping,a),t=iu(ui.minDuration,ui.maxDuration,Co(t)),a<1?(i=c=>{const h=c*a,f=h*t,g=h-r,p=i5(c,a),v=Math.exp(-f);return mb-g/p*v},s=c=>{const f=c*a*t,g=f*r+r,p=Math.pow(a,2)*Math.pow(c,2)*t,v=Math.exp(-f),x=i5(Math.pow(c,2),a);return(-i(c)+mb>0?-1:1)*((g-p)*v)/x}):(i=c=>{const h=Math.exp(-c*t),f=(c-r)*t+1;return-mb+h*f},s=c=>{const h=Math.exp(-c*t),f=(r-c)*(t*t);return h*f});const o=5/t,l=kX(i,s,o);if(t=Kl(t),isNaN(l))return{stiffness:ui.stiffness,damping:ui.damping,duration:t};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:a*2*Math.sqrt(n*c),duration:t}}}const CX=12;function kX(t,e,r){let n=r;for(let i=1;i<CX;i++)n=n-t(n)/e(n);return n}function i5(t,e){return t*Math.sqrt(1-e*e)}const NX=["duration","bounce"],TX=["stiffness","damping","mass"];function hT(t,e){return e.some(r=>t[r]!==void 0)}function AX(t){let e={velocity:ui.velocity,stiffness:ui.stiffness,damping:ui.damping,mass:ui.mass,isResolvedFromDuration:!1,...t};if(!hT(t,TX)&&hT(t,NX))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*iu(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ui.mass,stiffness:i,damping:s}}else{const r=SX(t);e={...e,...r,mass:ui.mass},e.isResolvedFromDuration=!0}return e}function tv(t=ui.visualDuration,e=ui.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:h,duration:f,velocity:g,isResolvedFromDuration:p}=AX({...r,velocity:-Co(r.velocity||0)}),v=g||0,x=c/(2*Math.sqrt(l*h)),b=a-s,_=Co(Math.sqrt(l/h)),k=Math.abs(b)<5;n||(n=k?ui.restSpeed.granular:ui.restSpeed.default),i||(i=k?ui.restDelta.granular:ui.restDelta.default);let N;if(x<1){const P=i5(_,x);N=F=>{const D=Math.exp(-x*_*F);return a-D*((v+x*_*b)/P*Math.sin(P*F)+b*Math.cos(P*F))}}else if(x===1)N=P=>a-Math.exp(-_*P)*(b+(v+_*b)*P);else{const P=_*Math.sqrt(x*x-1);N=F=>{const D=Math.exp(-x*_*F),U=Math.min(P*F,300);return a-D*((v+x*_*b)*Math.sinh(U)+P*b*Math.cosh(U))/P}}const j={calculatedDuration:p&&f||null,next:P=>{const F=N(P);if(p)o.done=P>=f;else{let D=P===0?v:0;x<1&&(D=P===0?Kl(v):fR(N,P,F));const U=Math.abs(D)<=n,z=Math.abs(a-F)<=i;o.done=U&&z}return o.value=o.done?a:F,o},toString:()=>{const P=Math.min(zS(j),ev),F=dR(D=>j.next(P*D).value,P,30);return P+"ms "+F},toTransition:()=>{}};return j}tv.applyToOptions=t=>{const e=wX(t,100,tv);return t.ease=e.ease,t.duration=Kl(e.duration),t.type="keyframes",t};function s5({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:h}){const f=t[0],g={done:!1,value:f},p=U=>o!==void 0&&U<o||l!==void 0&&U>l,v=U=>o===void 0?l:l===void 0||Math.abs(o-U)<Math.abs(l-U)?o:l;let x=r*e;const b=f+x,_=a===void 0?b:a(b);_!==b&&(x=_-f);const k=U=>-x*Math.exp(-U/n),N=U=>_+k(U),j=U=>{const z=k(U),K=N(U);g.done=Math.abs(z)<=c,g.value=g.done?_:K};let P,F;const D=U=>{p(g.value)&&(P=U,F=tv({keyframes:[g.value,v(g.value)],velocity:fR(N,U,g.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return D(0),{calculatedDuration:null,next:U=>{let z=!1;return!F&&P===void 0&&(z=!0,j(U),D(U)),P!==void 0&&U>=P?F.next(U-P):(!z&&j(U),g)}}}function EX(t,e,r){const n=[],i=r||su.mix||hR,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||ko:e;o=c0(l,o)}n.push(o)}return n}function jX(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(LS(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=EX(e,n,i),l=o.length,c=h=>{if(a&&h<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const g=Ag(t[f],t[f+1],h);return o[f](g)};return r?h=>c(iu(t[0],t[s-1],h)):c}function LX(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Ag(0,e,n);t.push(Zn(r,1,i))}}function PX(t){const e=[0];return LX(e,t.length-1),e}function RX(t,e){return t.map(r=>r*e)}function MX(t,e){return t.map(()=>e||tR).splice(0,t.length-1)}function hg({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=VK(n)?n.map(aT):aT(n),s={done:!1,value:e[0]},a=RX(r&&r.length===e.length?r:PX(e),t),o=jX(a,e,{ease:Array.isArray(i)?i:MX(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const OX=t=>t!==null;function US(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(OX),o=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!o||n===void 0?s[o]:n}const IX={decay:s5,inertia:s5,tween:hg,keyframes:hg,spring:tv};function pR(t){typeof t.type=="string"&&(t.type=IX[t.type])}class qS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const DX=t=>t/100;class WS extends qS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==_a.now()&&this.tick(_a.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;pR(e);const{type:r=hg,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=r||hg;l!==hg&&typeof o[0]!="number"&&(this.mixKeyframes=c0(DX,hR(o[0],o[1])),o=[0,100]);const c=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=zS(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=c}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:h,repeat:f,repeatType:g,repeatDelay:p,type:v,onUpdate:x,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const _=this.currentTime-c*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let N=this.currentTime,j=n;if(f){const U=Math.min(this.currentTime,i)/o;let z=Math.floor(U),K=U%1;!K&&U>=1&&(K=1),K===1&&z--,z=Math.min(z,f+1),!!(z%2)&&(g==="reverse"?(K=1-K,p&&(K-=p/o)):g==="mirror"&&(j=a)),N=iu(0,1,K)*o}const P=k?{done:!1,value:h[0]}:j.next(N);s&&(P.value=s(P.value));let{done:F}=P;!k&&l!==null&&(F=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return D&&v!==s5&&(P.value=US(h,this.options,b,this.speed)),x&&x(P.value),D&&this.finish(),P}then(e,r){return this.finished.then(e,r)}get duration(){return Co(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Co(e)}get time(){return Co(this.currentTime)}set time(e){e=Kl(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(_a.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Co(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=bX,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_a.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function BX(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const fd=t=>t*180/Math.PI,a5=t=>{const e=fd(Math.atan2(t[1],t[0]));return o5(e)},FX={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:a5,rotateZ:a5,skewX:t=>fd(Math.atan(t[1])),skewY:t=>fd(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},o5=t=>(t=t%360,t<0&&(t+=360),t),dT=a5,fT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),pT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),$X={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:fT,scaleY:pT,scale:t=>(fT(t)+pT(t))/2,rotateX:t=>o5(fd(Math.atan2(t[6],t[5]))),rotateY:t=>o5(fd(Math.atan2(-t[2],t[0]))),rotateZ:dT,rotate:dT,skewX:t=>fd(Math.atan(t[4])),skewY:t=>fd(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function l5(t){return t.includes("scale")?1:0}function c5(t,e){if(!t||t==="none")return l5(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=$X,i=r;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=FX,i=o}if(!i)return l5(e);const s=n[e],a=i[1].split(",").map(UX);return typeof s=="function"?s(a):a[s]}const zX=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return c5(r,e)};function UX(t){return parseFloat(t.trim())}const $p=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zp=new Set($p),mT=t=>t===Fp||t===ar,qX=new Set(["x","y","z"]),WX=$p.filter(t=>!qX.has(t));function VX(t){const e=[];return WX.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const wd={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>c5(e,"x"),y:(t,{transform:e})=>c5(e,"y")};wd.translateX=wd.x;wd.translateY=wd.y;const _d=new Set;let u5=!1,h5=!1,d5=!1;function mR(){if(h5){const t=Array.from(_d).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=VX(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{n.getValue(s)?.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}h5=!1,u5=!1,_d.forEach(t=>t.complete(d5)),_d.clear()}function gR(){_d.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(h5=!0)})}function HX(){d5=!0,gR(),mR(),d5=!1}class VS{constructor(e,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(_d.add(this),u5||(u5=!0,$n.read(gR),$n.resolveKeyframes(mR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const o=n.readValue(r,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}BX(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),_d.delete(this)}cancel(){this.state==="scheduled"&&(_d.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const GX=t=>t.startsWith("--");function YX(t,e,r){GX(e)?t.style.setProperty(e,r):t.style[e]=r}const KX=PS(()=>window.ScrollTimeline!==void 0),XX={};function JX(t,e){const r=PS(t);return()=>XX[e]??r()}const yR=JX(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ym=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,gT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ym([0,.65,.55,1]),circOut:Ym([.55,0,1,.45]),backIn:Ym([.31,.01,.66,-.59]),backOut:Ym([.33,1.53,.69,.99])};function vR(t,e){if(t)return typeof t=="function"?yR()?dR(t,e):"ease-out":rR(t)?Ym(t):Array.isArray(t)?t.map(r=>vR(r,e)||gT.easeOut):gT[t]}function ZX(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const h={[e]:r};l&&(h.offset=l);const f=vR(o,i);Array.isArray(f)&&(h.easing=f);const g={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return c&&(g.pseudoElement=c),t.animate(h,g)}function xR(t){return typeof t=="function"&&"applyToOptions"in t}function QX({type:t,...e}){return xR(t)&&yR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class eJ extends qS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,LS(typeof e.type!="string");const c=QX(e);this.animation=ZX(r,n,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=US(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(h):YX(r,n,h),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Co(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Co(e)}get time(){return Co(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Kl(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&KX()?(this.animation.timeline=e,ko):r(this)}}const bR={anticipate:ZP,backInOut:JP,circInOut:eR};function tJ(t){return t in bR}function rJ(t){typeof t.ease=="string"&&tJ(t.ease)&&(t.ease=bR[t.ease])}const yT=10;class nJ extends eJ{constructor(e){rJ(e),pR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const o=new WS({...a,autoplay:!1}),l=Kl(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-yT).value,o.sample(l).value,yT),o.stop()}}const vT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ah.test(t)||t==="0")&&!t.startsWith("url("));function iJ(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function sJ(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=vT(i,e),o=vT(s,e);return!a||!o?!1:iJ(t)||(r==="spring"||xR(r))&&n}function f5(t){t.duration=0,t.type="keyframes"}const aJ=new Set(["opacity","clipPath","filter","transform"]),oJ=PS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lJ(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return oJ()&&r&&aJ.has(r)&&(r!=="transform"||!c)&&!l&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const cJ=40;class uJ extends qS{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:h,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=_a.now();const g={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:c,element:h,...f},p=h?.KeyframeResolver||VS;this.keyframeResolver=new p(o,(v,x,b)=>this.onKeyframesResolved(v,x,g,!b),l,c,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:h}=n;this.resolvedAt=_a.now(),sJ(e,s,a,o)||((su.instantAnimations||!l)&&h?.(US(e,n,r)),e[0]=e[e.length-1],f5(n),n.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>cJ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},p=!c&&lJ(g)?new nJ({...g,element:g.motionValue.owner.current}):new WS(g);p.finished.then(()=>this.notifyFinished()).catch(ko),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),HX()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const hJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dJ(t){const e=hJ.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function wR(t,e,r=1){const[n,i]=dJ(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return qP(a)?parseFloat(a):a}return DS(i)?wR(i,e,r+1):i}function HS(t,e){return t?.[e]??t?.default??t}const _R=new Set(["width","height","top","left","right","bottom",...$p]),fJ={test:t=>t==="auto",parse:t=>t},SR=t=>e=>e.test(t),CR=[Fp,ar,Xl,Ku,iX,nX,fJ],xT=t=>CR.find(SR(t));function pJ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||VP(t):!0}const mJ=new Set(["brightness","contrast","saturate","opacity"]);function gJ(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(BS)||[];if(!n)return t;const i=r.replace(n,"");let s=mJ.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const yJ=/\b([a-z-]*)\(.*?\)/gu,p5={...ah,getAnimatableNone:t=>{const e=t.match(yJ);return e?e.map(gJ).join(" "):t}},bT={...Fp,transform:Math.round},vJ={rotate:Ku,rotateX:Ku,rotateY:Ku,rotateZ:Ku,scale:Ty,scaleX:Ty,scaleY:Ty,scaleZ:Ty,skew:Ku,skewX:Ku,skewY:Ku,distance:ar,translateX:ar,translateY:ar,translateZ:ar,x:ar,y:ar,z:ar,perspective:ar,transformPerspective:ar,opacity:Eg,originX:oT,originY:oT,originZ:ar},GS={borderWidth:ar,borderTopWidth:ar,borderRightWidth:ar,borderBottomWidth:ar,borderLeftWidth:ar,borderRadius:ar,radius:ar,borderTopLeftRadius:ar,borderTopRightRadius:ar,borderBottomRightRadius:ar,borderBottomLeftRadius:ar,width:ar,maxWidth:ar,height:ar,maxHeight:ar,top:ar,right:ar,bottom:ar,left:ar,padding:ar,paddingTop:ar,paddingRight:ar,paddingBottom:ar,paddingLeft:ar,margin:ar,marginTop:ar,marginRight:ar,marginBottom:ar,marginLeft:ar,backgroundPositionX:ar,backgroundPositionY:ar,...vJ,zIndex:bT,fillOpacity:Eg,strokeOpacity:Eg,numOctaves:bT},xJ={...GS,color:Ei,backgroundColor:Ei,outlineColor:Ei,fill:Ei,stroke:Ei,borderColor:Ei,borderTopColor:Ei,borderRightColor:Ei,borderBottomColor:Ei,borderLeftColor:Ei,filter:p5,WebkitFilter:p5},kR=t=>xJ[t];function NR(t,e){let r=kR(t);return r!==p5&&(r=ah),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const bJ=new Set(["auto","none","0"]);function wJ(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!bJ.has(s)&&jg(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=NR(r,i)}class _J extends VS{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),DS(c))){const h=wR(c,r.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!_R.has(n)||e.length!==2)return;const[i,s]=e,a=xT(i),o=xT(s);if(a!==o)if(mT(a)&&mT(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else wd[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||pJ(e[i]))&&n.push(i);n.length&&wJ(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wd[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=wd[r](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,l])=>{e.getValue(o).set(l)}),this.resolveNoneKeyframes()}}function SJ(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=r?.[t]??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const TR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function AR(t){return WP(t)&&"offsetHeight"in t}const wT=30,CJ=t=>!isNaN(parseFloat(t));class kJ{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=_a.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=_a.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=CJ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new RS);const n=this.events[e].add(r);return e==="change"?()=>{n(),$n.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=_a.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>wT)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,wT);return HP(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wp(t,e){return new kJ(t,e)}const{schedule:YS}=nR(queueMicrotask,!1),tl={x:!1,y:!1};function ER(){return tl.x||tl.y}function NJ(t){return t==="x"||t==="y"?tl[t]?null:(tl[t]=!0,()=>{tl[t]=!1}):tl.x||tl.y?null:(tl.x=tl.y=!0,()=>{tl.x=tl.y=!1})}function jR(t,e){const r=SJ(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function _T(t){return!(t.pointerType==="touch"||ER())}function TJ(t,e,r={}){const[n,i,s]=jR(t,r),a=o=>{if(!_T(o))return;const{target:l}=o,c=e(l,o);if(typeof c!="function"||!l)return;const h=f=>{_T(f)&&(c(f),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,i)};return n.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const LR=(t,e)=>e?t===e?!0:LR(t,e.parentElement):!1,KS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,AJ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function EJ(t){return AJ.has(t.tagName)||t.tabIndex!==-1}const p1=new WeakSet;function ST(t){return e=>{e.key==="Enter"&&t(e)}}function gb(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jJ=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=ST(()=>{if(p1.has(r))return;gb(r,"down");const i=ST(()=>{gb(r,"up")}),s=()=>gb(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function CT(t){return KS(t)&&!ER()}function LJ(t,e,r={}){const[n,i,s]=jR(t,r),a=o=>{const l=o.currentTarget;if(!CT(o))return;p1.add(l);const c=e(l,o),h=(p,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",g),p1.has(l)&&p1.delete(l),CT(p)&&typeof c=="function"&&c(p,{success:v})},f=p=>{h(p,l===window||l===document||r.useGlobalTarget||LR(l,p.target))},g=p=>{h(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",g,i)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),AR(o)&&(o.addEventListener("focus",c=>jJ(c,i)),!EJ(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function PR(t){return WP(t)&&"ownerSVGElement"in t}function PJ(t){return PR(t)&&t.tagName==="svg"}const js=t=>!!(t&&t.getVelocity),RJ=[...CR,Ei,ah],MJ=t=>RJ.find(SR(t)),XS=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function kT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function OJ(...t){return e=>{let r=!1;const n=t.map(i=>{const s=kT(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():kT(t[i],null)}}}}function IJ(...t){return E.useCallback(OJ(...t),t)}class DJ extends E.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=AR(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function BJ({children:t,isPresent:e,anchorX:r,root:n}){const i=E.useId(),s=E.useRef(null),a=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=E.useContext(XS),l=IJ(s,t?.ref);return E.useInsertionEffect(()=>{const{width:c,height:h,top:f,left:g,right:p}=a.current;if(e||!s.current||!c||!h)return;const v=r==="left"?`left: ${g}`:`right: ${p}`;s.current.dataset.motionPopId=i;const x=document.createElement("style");o&&(x.nonce=o);const b=n??document.head;return b.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{b.contains(x)&&b.removeChild(x)}},[e]),m.jsx(DJ,{isPresent:e,childRef:s,sizeRef:a,children:E.cloneElement(t,{ref:l})})}const FJ=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,root:l})=>{const c=TS($J),h=E.useId();let f=!0,g=E.useMemo(()=>(f=!1,{id:h,initial:e,isPresent:r,custom:i,onExitComplete:p=>{c.set(p,!0);for(const v of c.values())if(!v)return;n&&n()},register:p=>(c.set(p,!1),()=>c.delete(p))}),[r,c,n]);return s&&f&&(g={...g}),E.useMemo(()=>{c.forEach((p,v)=>c.set(v,!1))},[r]),E.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),a==="popLayout"&&(t=m.jsx(BJ,{isPresent:r,anchorX:o,root:l,children:t})),m.jsx(yx.Provider,{value:g,children:t})};function $J(){return new Map}function RR(t=!0){const e=E.useContext(yx);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=E.useId();E.useEffect(()=>{if(t)return i(s)},[t]);const a=E.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,a]:[!0]}const Ay=t=>t.key||"";function NT(t){const e=[];return E.Children.forEach(t,r=>{E.isValidElement(r)&&e.push(r)}),e}const m5=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",root:l})=>{const[c,h]=RR(a),f=E.useMemo(()=>NT(t),[t]),g=a&&!c?[]:f.map(Ay),p=E.useRef(!0),v=E.useRef(f),x=TS(()=>new Map),[b,_]=E.useState(f),[k,N]=E.useState(f);UP(()=>{p.current=!1,v.current=f;for(let F=0;F<k.length;F++){const D=Ay(k[F]);g.includes(D)?x.delete(D):x.get(D)!==!0&&x.set(D,!1)}},[k,g.length,g.join("-")]);const j=[];if(f!==b){let F=[...f];for(let D=0;D<k.length;D++){const U=k[D],z=Ay(U);g.includes(z)||(F.splice(D,0,U),j.push(U))}return s==="wait"&&j.length&&(F=j),N(NT(F)),_(f),null}const{forceRender:P}=E.useContext(NS);return m.jsx(m.Fragment,{children:k.map(F=>{const D=Ay(F),U=a&&!c?!1:f===k||g.includes(D),z=()=>{if(x.has(D))x.set(D,!0);else return;let K=!0;x.forEach(B=>{B||(K=!1)}),K&&(P?.(),N(v.current),a&&h?.(),n&&n())};return m.jsx(FJ,{isPresent:U,initial:!p.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:U?void 0:z,anchorX:o,children:F},D)})})},MR=E.createContext({strict:!1}),TT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_p={};for(const t in TT)_p[t]={isEnabled:e=>TT[t].some(r=>!!e[r])};function zJ(t){for(const e in t)_p[e]={..._p[e],...t[e]}}const UJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rv(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||UJ.has(t)}let OR=t=>!rv(t);function qJ(t){typeof t=="function"&&(OR=e=>e.startsWith("on")?!rv(e):t(e))}try{qJ(require("@emotion/is-prop-valid").default)}catch{}function WJ(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(OR(i)||r===!0&&rv(i)||!e&&!rv(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const vx=E.createContext({});function xx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Lg(t){return typeof t=="string"||Array.isArray(t)}const JS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ZS=["initial",...JS];function bx(t){return xx(t.animate)||ZS.some(e=>Lg(t[e]))}function IR(t){return!!(bx(t)||t.variants)}function VJ(t,e){if(bx(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Lg(r)?r:void 0,animate:Lg(n)?n:void 0}}return t.inherit!==!1?e:{}}function HJ(t){const{initial:e,animate:r}=VJ(t,E.useContext(vx));return E.useMemo(()=>({initial:e,animate:r}),[AT(e),AT(r)])}function AT(t){return Array.isArray(t)?t.join(" "):t}const Pg={};function GJ(t){for(const e in t)Pg[e]=t[e],IS(e)&&(Pg[e].isCSSVariable=!0)}function DR(t,{layout:e,layoutId:r}){return zp.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Pg[t]||t==="opacity")}const YJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KJ=$p.length;function XJ(t,e,r){let n="",i=!0;for(let s=0;s<KJ;s++){const a=$p[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=TR(o,GS[a]);if(!l){i=!1;const h=YJ[a]||a;n+=`${h}(${c}) `}r&&(e[a]=c)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function QS(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(zp.has(l)){a=!0;continue}else if(IS(l)){i[l]=c;continue}else{const h=TR(c,GS[l]);l.startsWith("origin")?(o=!0,s[l]=h):n[l]=h}}if(e.transform||(a||r?n.transform=XJ(e,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:h=0}=s;n.transformOrigin=`${l} ${c} ${h}`}}const eC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function BR(t,e,r){for(const n in e)!js(e[n])&&!DR(n,r)&&(t[n]=e[n])}function JJ({transformTemplate:t},e){return E.useMemo(()=>{const r=eC();return QS(r,e,t),Object.assign({},r.vars,r.style)},[e])}function ZJ(t,e){const r=t.style||{},n={};return BR(n,r,t),Object.assign(n,JJ(t,e)),n}function QJ(t,e){const r={},n=ZJ(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const eZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},tZ={offset:"strokeDashoffset",array:"strokeDasharray"};function rZ(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?eZ:tZ;t[s.offset]=ar.transform(-n);const a=ar.transform(e),o=ar.transform(r);t[s.array]=`${a} ${o}`}function FR(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,c,h){if(QS(t,o,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g}=t;f.transform&&(g.transform=f.transform,delete f.transform),(g.transform||f.transformOrigin)&&(g.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),g.transform&&(g.transformBox=h?.transformBox??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),i!==void 0&&rZ(f,i,s,a,!1)}const $R=()=>({...eC(),attrs:{}}),zR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function nZ(t,e,r,n){const i=E.useMemo(()=>{const s=$R();return FR(s,e,zR(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};BR(s,t.style,t),i.style={...s,...i.style}}return i}const iZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tC(t){return typeof t!="string"||t.includes("-")?!1:!!(iZ.indexOf(t)>-1||/[A-Z]/u.test(t))}function sZ(t,e,r,{latestValues:n},i,s=!1){const o=(tC(t)?nZ:QJ)(e,n,i,t),l=WJ(e,typeof t=="string",s),c=t!==E.Fragment?{...l,...o,ref:r}:{},{children:h}=e,f=E.useMemo(()=>js(h)?h.get():h,[h]);return E.createElement(t,{...c,children:f})}function ET(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function rC(t,e,r,n){if(typeof e=="function"){const[i,s]=ET(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=ET(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function m1(t){return js(t)?t.get():t}function aZ({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:oZ(r,n,i,t),renderState:e()}}function oZ(t,e,r,n){const i={},s=n(t,{});for(const g in s)i[g]=m1(s[g]);let{initial:a,animate:o}=t;const l=bx(t),c=IR(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let h=r?r.initial===!1:!1;h=h||a===!1;const f=h?o:a;if(f&&typeof f!="boolean"&&!xx(f)){const g=Array.isArray(f)?f:[f];for(let p=0;p<g.length;p++){const v=rC(t,g[p]);if(v){const{transitionEnd:x,transition:b,..._}=v;for(const k in _){let N=_[k];if(Array.isArray(N)){const j=h?N.length-1:0;N=N[j]}N!==null&&(i[k]=N)}for(const k in x)i[k]=x[k]}}}return i}const UR=t=>(e,r)=>{const n=E.useContext(vx),i=E.useContext(yx),s=()=>aZ(t,e,n,i);return r?s():TS(s)};function nC(t,e,r){const{style:n}=t,i={};for(const s in n)(js(n[s])||e.style&&js(e.style[s])||DR(s,t)||r?.getValue(s)?.liveStyle!==void 0)&&(i[s]=n[s]);return i}const lZ=UR({scrapeMotionValuesFromProps:nC,createRenderState:eC});function qR(t,e,r){const n=nC(t,e,r);for(const i in t)if(js(t[i])||js(e[i])){const s=$p.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}const cZ=UR({scrapeMotionValuesFromProps:qR,createRenderState:$R}),uZ=Symbol.for("motionComponentSymbol");function Vf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function hZ(t,e,r){return E.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Vf(r)&&(r.current=n))},[e])}const iC=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),dZ="framerAppearId",WR="data-"+iC(dZ),VR=E.createContext({});function fZ(t,e,r,n,i){const{visualElement:s}=E.useContext(vx),a=E.useContext(MR),o=E.useContext(yx),l=E.useContext(XS).reducedMotion,c=E.useRef(null);n=n||a.renderer,!c.current&&n&&(c.current=n(t,{visualState:e,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const h=c.current,f=E.useContext(VR);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&pZ(c.current,r,i,f);const g=E.useRef(!1);E.useInsertionEffect(()=>{h&&g.current&&h.update(r,o)});const p=r[WR],v=E.useRef(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return UP(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),v.current&&h.animationState&&h.animationState.animateChanges())}),E.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),v.current=!1),h.enteringChildren=void 0)}),h}function pZ(t,e,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:h}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:HR(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&Vf(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:h,layoutScroll:l,layoutRoot:c})}function HR(t){if(t)return t.options.allowProjection!==!1?t.projection:HR(t.parent)}function yb(t,{forwardMotionProps:e=!1}={},r,n){r&&zJ(r);const i=tC(t)?cZ:lZ;function s(o,l){let c;const h={...E.useContext(XS),...o,layoutId:mZ(o)},{isStatic:f}=h,g=HJ(o),p=i(o,f);if(!f&&AS){gZ();const v=yZ(h);c=v.MeasureLayout,g.visualElement=fZ(t,p,h,n,v.ProjectionNode)}return m.jsxs(vx.Provider,{value:g,children:[c&&g.visualElement?m.jsx(c,{visualElement:g.visualElement,...h}):null,sZ(t,o,hZ(p,g.visualElement,l),p,f,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=E.forwardRef(s);return a[uZ]=t,a}function mZ({layoutId:t}){const e=E.useContext(NS).id;return e&&t!==void 0?e+"-"+t:t}function gZ(t,e){E.useContext(MR).strict}function yZ(t){const{drag:e,layout:r}=_p;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function vZ(t,e){if(typeof Proxy>"u")return yb;const r=new Map,n=(s,a)=>yb(s,a,t,e),i=(s,a)=>n(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?n:(r.has(a)||r.set(a,yb(a,void 0,t,e)),r.get(a))})}function GR({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function xZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function bZ(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function vb(t){return t===void 0||t===1}function g5({scale:t,scaleX:e,scaleY:r}){return!vb(t)||!vb(e)||!vb(r)}function ed(t){return g5(t)||YR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function YR(t){return jT(t.x)||jT(t.y)}function jT(t){return t&&t!=="0%"}function nv(t,e,r){const n=t-r,i=e*n;return r+i}function LT(t,e,r,n,i){return i!==void 0&&(t=nv(t,i,n)),nv(t,r,n)+e}function y5(t,e=0,r=1,n,i){t.min=LT(t.min,e,r,n,i),t.max=LT(t.max,e,r,n,i)}function KR(t,{x:e,y:r}){y5(t.x,e.translate,e.scale,e.originPoint),y5(t.y,r.translate,r.scale,r.originPoint)}const PT=.999999999999,RT=1.0000000000001;function wZ(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=r[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Gf(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,KR(t,a)),n&&ed(s.latestValues)&&Gf(t,s.latestValues))}e.x<RT&&e.x>PT&&(e.x=1),e.y<RT&&e.y>PT&&(e.y=1)}function Hf(t,e){t.min=t.min+e,t.max=t.max+e}function MT(t,e,r,n,i=.5){const s=Zn(t.min,t.max,i);y5(t,e,r,s,n)}function Gf(t,e){MT(t.x,e.x,e.scaleX,e.scale,e.originX),MT(t.y,e.y,e.scaleY,e.scale,e.originY)}function XR(t,e){return GR(bZ(t.getBoundingClientRect(),e))}function _Z(t,e,r){const n=XR(t,r),{scroll:i}=e;return i&&(Hf(n.x,i.offset.x),Hf(n.y,i.offset.y)),n}const OT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yf=()=>({x:OT(),y:OT()}),IT=()=>({min:0,max:0}),xi=()=>({x:IT(),y:IT()}),v5={current:null},JR={current:!1};function SZ(){if(JR.current=!0,!!AS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>v5.current=t.matches;t.addEventListener("change",e),e()}else v5.current=!1}const CZ=new WeakMap;function kZ(t,e,r){for(const n in e){const i=e[n],s=r[n];if(js(i))t.addValue(n,i);else if(js(s))t.addValue(n,wp(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(n);t.addValue(n,wp(a!==void 0?a:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const DT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class NZ{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=VS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=_a.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,$n.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=bx(r),this.isVariantNode=IR(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in f){const p=f[g];l[g]!==void 0&&js(p)&&p.set(l[g])}}mount(e){this.current=e,CZ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),JR.current||SZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:v5.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),sh(this.notifyUpdate),sh(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=zp.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&$n.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _p){const r=_p[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<DT.length;n++){const i=DT[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=kZ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=wp(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(qP(n)||VP(n))?n=parseFloat(n):!MJ(n)&&ah.test(r)&&(n=NR(e,r)),this.setBaseTarget(e,js(n)?n.get():n)),js(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=rC(this.props,r,this.presenceContext?.custom);s&&(n=s[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!js(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new RS),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){YS.render(this.render)}}class ZR extends NZ{constructor(){super(...arguments),this.KeyframeResolver=_J}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;js(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function QR(t,{style:e,vars:r},n,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function TZ(t){return window.getComputedStyle(t)}class AZ extends ZR{constructor(){super(...arguments),this.type="html",this.renderInstance=QR}readValueFromInstance(e,r){if(zp.has(r))return this.projection?.isProjecting?l5(r):zX(e,r);{const n=TZ(e),i=(IS(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return XR(e,r)}build(e,r,n){QS(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return nC(e,r,n)}}const e8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function EZ(t,e,r,n){QR(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(e8.has(i)?i:iC(i),e.attrs[i])}class jZ extends ZR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xi}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(zp.has(r)){const n=kR(r);return n&&n.default||0}return r=e8.has(r)?r:iC(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return qR(e,r,n)}build(e,r,n){FR(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){EZ(e,r,n,i)}mount(e){this.isSVGTag=zR(e.tagName),super.mount(e)}}const LZ=(t,e)=>tC(t)?new jZ(e):new AZ(e,{allowProjection:t!==E.Fragment});function ep(t,e,r){const n=t.getProps();return rC(n,e,r!==void 0?r:n.custom,t)}const x5=t=>Array.isArray(t);function PZ(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,wp(r))}function RZ(t){return x5(t)?t[t.length-1]||0:t}function MZ(t,e){const r=ep(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const o=RZ(s[a]);PZ(t,a,o)}}function OZ(t){return!!(js(t)&&t.add)}function b5(t,e){const r=t.getValue("willChange");if(OZ(r))return r.add(e);if(!r&&su.WillChange){const n=new su.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function t8(t){return t.props[WR]}const IZ=t=>t!==null;function DZ(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(IZ),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}const BZ={type:"spring",stiffness:500,damping:25,restSpeed:10},FZ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),$Z={type:"keyframes",duration:.8},zZ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UZ=(t,{keyframes:e})=>e.length>2?$Z:zp.has(t)?t.startsWith("scale")?FZ(e[1]):BZ:zZ;function qZ({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const sC=(t,e,r,n={},i,s)=>a=>{const o=HS(n,t)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Kl(l);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:g=>{e.set(g),o.onUpdate&&o.onUpdate(g)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};qZ(o)||Object.assign(h,UZ(t,h)),h.duration&&(h.duration=Kl(h.duration)),h.repeatDelay&&(h.repeatDelay=Kl(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(f5(h),h.delay===0&&(f=!0)),(su.instantAnimations||su.skipAnimations)&&(f=!0,f5(h),h.delay=0),h.allowFlatten=!o.type&&!o.ease,f&&!s&&e.get()!==void 0){const g=DZ(h.keyframes,o);if(g!==void 0){$n.update(()=>{h.onUpdate(g),h.onComplete()});return}}return o.isSync?new WS(h):new uJ(h)};function WZ({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function r8(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;n&&(s=n);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in o){const f=t.getValue(h,t.latestValues[h]??null),g=o[h];if(g===void 0||c&&WZ(c,h))continue;const p={delay:r,...HS(s||{},h)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(g)&&g===v&&!p.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const _=t8(t);if(_){const k=window.MotionHandoffAnimation(_,h,$n);k!==null&&(p.startTime=k,x=!0)}}b5(t,h),f.start(sC(h,f,g,t.shouldReduceMotion&&_R.has(h)?{type:!1}:p,t,x));const b=f.animation;b&&l.push(b)}return a&&Promise.all(l).then(()=>{$n.update(()=>{a&&MZ(t,a)})}),l}function n8(t,e,r,n=0,i=1){const s=Array.from(t).sort((c,h)=>c.sortNodePosition(h)).indexOf(e),a=t.size,o=(a-1)*n;return typeof r=="function"?r(s,a):i===1?s*n:o-s*n}function w5(t,e,r={}){const n=ep(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(r8(t,n,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:f}=i;return VZ(t,e,l,c,h,f,r)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[s,a]:[a,s];return l().then(()=>c())}else return Promise.all([s(),a(r.delay)])}function VZ(t,e,r=0,n=0,i=0,s=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(w5(l,e,{...a,delay:r+(typeof n=="function"?0:n)+n8(t.variantChildren,l,n,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function HZ(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>w5(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=w5(t,e,r);else{const i=typeof e=="function"?ep(t,e,r.custom):e;n=Promise.all(r8(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function i8(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const GZ=ZS.length;function s8(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?s8(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<GZ;r++){const n=ZS[r],i=t.props[n];(Lg(i)||i===!1)&&(e[n]=i)}return e}const YZ=[...JS].reverse(),KZ=JS.length;function XZ(t){return e=>Promise.all(e.map(({animation:r,options:n})=>HZ(t,r,n)))}function JZ(t){let e=XZ(t),r=BT(),n=!0;const i=l=>(c,h)=>{const f=ep(t,h,l==="exit"?t.presenceContext?.custom:void 0);if(f){const{transition:g,transitionEnd:p,...v}=f;c={...c,...v,...p}}return c};function s(l){e=l(t)}function a(l){const{props:c}=t,h=s8(t.parent)||{},f=[],g=new Set;let p={},v=1/0;for(let b=0;b<KZ;b++){const _=YZ[b],k=r[_],N=c[_]!==void 0?c[_]:h[_],j=Lg(N),P=_===l?k.isActive:null;P===!1&&(v=b);let F=N===h[_]&&N!==c[_]&&j;if(F&&n&&t.manuallyAnimateOnMount&&(F=!1),k.protectedKeys={...p},!k.isActive&&P===null||!N&&!k.prevProp||xx(N)||typeof N=="boolean")continue;const D=ZZ(k.prevProp,N);let U=D||_===l&&k.isActive&&!F&&j||b>v&&j,z=!1;const K=Array.isArray(N)?N:[N];let B=K.reduce(i(_),{});P===!1&&(B={});const{prevResolvedValues:q={}}=k,W={...q,...B},$=se=>{U=!0,g.has(se)&&(z=!0,g.delete(se)),k.needsAnimating[se]=!0;const V=t.getValue(se);V&&(V.liveStyle=!1)};for(const se in W){const V=B[se],re=q[se];if(p.hasOwnProperty(se))continue;let pe=!1;x5(V)&&x5(re)?pe=!i8(V,re):pe=V!==re,pe?V!=null?$(se):g.add(se):V!==void 0&&g.has(se)?$(se):k.protectedKeys[se]=!0}k.prevProp=N,k.prevResolvedValues=B,k.isActive&&(p={...p,...B}),n&&t.blockInitialAnimation&&(U=!1);const Q=F&&D;U&&(!Q||z)&&f.push(...K.map(se=>{const V={type:_};if(typeof se=="string"&&n&&!Q&&t.manuallyAnimateOnMount&&t.parent){const{parent:re}=t,pe=ep(re,se);if(re.enteringChildren&&pe){const{delayChildren:X}=pe.transition||{};V.delay=n8(re.enteringChildren,t,X)}}return{animation:se,options:V}}))}if(g.size){const b={};if(typeof c.initial!="boolean"){const _=ep(t,Array.isArray(c.initial)?c.initial[0]:c.initial);_&&_.transition&&(b.transition=_.transition)}g.forEach(_=>{const k=t.getBaseTarget(_),N=t.getValue(_);N&&(N.liveStyle=!0),b[_]=k??null}),f.push({animation:b})}let x=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(x=!1),n=!1,x?e(f):Promise.resolve()}function o(l,c){if(r[l].isActive===c)return Promise.resolve();t.variantChildren?.forEach(f=>f.animationState?.setActive(l,c)),r[l].isActive=c;const h=a(l);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>r,reset:()=>{r=BT()}}}function ZZ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!i8(e,t):!1}function Jh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BT(){return{animate:Jh(!0),whileInView:Jh(),whileHover:Jh(),whileTap:Jh(),whileDrag:Jh(),whileFocus:Jh(),exit:Jh()}}class gh{constructor(e){this.isMounted=!1,this.node=e}update(){}}class QZ extends gh{constructor(e){super(e),e.animationState||(e.animationState=JZ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let eQ=0;class tQ extends gh{constructor(){super(...arguments),this.id=eQ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const rQ={animation:{Feature:QZ},exit:{Feature:tQ}};function Rg(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function d0(t){return{point:{x:t.pageX,y:t.pageY}}}const nQ=t=>e=>KS(e)&&t(e,d0(e));function dg(t,e,r,n){return Rg(t,e,nQ(r),n)}const a8=1e-4,iQ=1-a8,sQ=1+a8,o8=.01,aQ=0-o8,oQ=0+o8;function Hs(t){return t.max-t.min}function lQ(t,e,r){return Math.abs(t-e)<=r}function FT(t,e,r,n=.5){t.origin=n,t.originPoint=Zn(e.min,e.max,t.origin),t.scale=Hs(r)/Hs(e),t.translate=Zn(r.min,r.max,t.origin)-t.originPoint,(t.scale>=iQ&&t.scale<=sQ||isNaN(t.scale))&&(t.scale=1),(t.translate>=aQ&&t.translate<=oQ||isNaN(t.translate))&&(t.translate=0)}function fg(t,e,r,n){FT(t.x,e.x,r.x,n?n.originX:void 0),FT(t.y,e.y,r.y,n?n.originY:void 0)}function $T(t,e,r){t.min=r.min+e.min,t.max=t.min+Hs(e)}function cQ(t,e,r){$T(t.x,e.x,r.x),$T(t.y,e.y,r.y)}function zT(t,e,r){t.min=e.min-r.min,t.max=t.min+Hs(e)}function pg(t,e,r){zT(t.x,e.x,r.x),zT(t.y,e.y,r.y)}function wo(t){return[t("x"),t("y")]}const l8=({current:t})=>t?t.ownerDocument.defaultView:null,UT=(t,e)=>Math.abs(t-e);function uQ(t,e){const r=UT(t.x,e.x),n=UT(t.y,e.y);return Math.sqrt(r**2+n**2)}class c8{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=bb(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=uQ(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!v)return;const{point:x}=g,{timestamp:b}=cs;this.history.push({...x,timestamp:b});const{onStart:_,onMove:k}=this.handlers;p||(_&&_(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,g)},this.handlePointerMove=(g,p)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=xb(p,this.transformPagePoint),$n.update(this.updatePoint,!0)},this.handlePointerUp=(g,p)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=bb(g.type==="pointercancel"?this.lastMoveEventInfo:xb(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,_),x&&x(g,_)},!KS(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const o=d0(e),l=xb(o,this.transformPagePoint),{point:c}=l,{timestamp:h}=cs;this.history=[{...c,timestamp:h}];const{onSessionStart:f}=r;f&&f(e,bb(l,this.history)),this.removeListeners=c0(dg(this.contextWindow,"pointermove",this.handlePointerMove),dg(this.contextWindow,"pointerup",this.handlePointerUp),dg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),sh(this.updatePoint)}}function xb(t,e){return e?{point:e(t.point)}:t}function qT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bb({point:t},e){return{point:t,delta:qT(t,u8(e)),offset:qT(t,hQ(e)),velocity:dQ(e,.1)}}function hQ(t){return t[0]}function u8(t){return t[t.length-1]}function dQ(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=u8(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Kl(e)));)r--;if(!n)return{x:0,y:0};const s=Co(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function fQ(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Zn(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Zn(r,t,n.max):Math.min(t,r)),t}function WT(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function pQ(t,{top:e,left:r,bottom:n,right:i}){return{x:WT(t.x,r,i),y:WT(t.y,e,n)}}function VT(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function mQ(t,e){return{x:VT(t.x,e.x),y:VT(t.y,e.y)}}function gQ(t,e){let r=.5;const n=Hs(t),i=Hs(e);return i>n?r=Ag(e.min,e.max-n,t.min):n>i&&(r=Ag(t.min,t.max-i,e.min)),iu(0,1,r)}function yQ(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const _5=.35;function vQ(t=_5){return t===!1?t=0:t===!0&&(t=_5),{x:HT(t,"left","right"),y:HT(t,"top","bottom")}}function HT(t,e,r){return{min:GT(t,e),max:GT(t,r)}}function GT(t,e){return typeof t=="number"?t:t[e]||0}const xQ=new WeakMap;class bQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xi(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(d0(f).point)},a=(f,g)=>{const{drag:p,dragPropagation:v,onDragStart:x}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=NJ(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wo(_=>{let k=this.getAxisMotionValue(_).get()||0;if(Xl.test(k)){const{projection:N}=this.visualElement;if(N&&N.layout){const j=N.layout.layoutBox[_];j&&(k=Hs(j)*(parseFloat(k)/100))}}this.originPoint[_]=k}),x&&$n.postRender(()=>x(f,g)),b5(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g;const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:x,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:_}=g;if(v&&this.currentDirection===null){this.currentDirection=wQ(_),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",g.point,_),this.updateAxis("y",g.point,_),this.visualElement.render(),b&&b(f,g)},l=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g,this.stop(f,g),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>wo(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new c8(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:n,contextWindow:l8(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&$n.postRender(()=>o(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!Ey(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=fQ(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Vf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=pQ(n.layoutBox,e):this.constraints=!1,this.elastic=vQ(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&wo(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=yQ(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Vf(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=_Z(n,i.root,this.visualElement.getTransformPagePoint());let a=mQ(i.layout.layoutBox,s);if(r){const o=r(xZ(a));this.hasMutatedConstraints=!!o,o&&(a=GR(o))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=wo(h=>{if(!Ey(h,r,this.currentDirection))return;let f=l&&l[h]||{};a&&(f={min:0,max:0});const g=i?200:1e6,p=i?40:1e7,v={type:"inertia",velocity:n?e[h]:0,bounceStiffness:g,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,v)});return Promise.all(c).then(o)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return b5(this.visualElement,e),n.start(sC(e,n,0,r,this.visualElement,!1))}stopAnimation(){wo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){wo(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){wo(r=>{const{drag:n}=this.getProps();if(!Ey(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[r];s.set(e[r]-Zn(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Vf(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};wo(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=gQ({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),wo(a=>{if(!Ey(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(Zn(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;xQ.set(this.visualElement,this);const e=this.visualElement.current,r=dg(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Vf(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),$n.read(n);const a=Rg(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(wo(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())}));return()=>{a(),r(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=_5,dragMomentum:o=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Ey(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function wQ(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class _Q extends gh{constructor(e){super(e),this.removeGroupControls=ko,this.removeListeners=ko,this.controls=new bQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ko}unmount(){this.removeGroupControls(),this.removeListeners()}}const YT=t=>(e,r)=>{t&&$n.postRender(()=>t(e,r))};class SQ extends gh{constructor(){super(...arguments),this.removePointerDownListener=ko}onPointerDown(e){this.session=new c8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:l8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:YT(e),onStart:YT(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&$n.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=dg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const g1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function KT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Pm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ar.test(t))t=parseFloat(t);else return t;const r=KT(t,e.target.x),n=KT(t,e.target.y);return`${r}% ${n}%`}},CQ={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=ah.parse(t);if(i.length>5)return n;const s=ah.createTransformer(t),a=typeof i[0]!="number"?1:0,o=r.x.scale*e.x,l=r.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=Zn(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}};let wb=!1;class kQ extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;GJ(NQ),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),wb&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),g1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,wb=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||$n.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),YS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;wb=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function h8(t){const[e,r]=RR(),n=E.useContext(NS);return m.jsx(kQ,{...t,layoutGroup:n,switchLayoutGroup:E.useContext(VR),isPresent:e,safeToRemove:r})}const NQ={borderRadius:{...Pm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pm,borderTopRightRadius:Pm,borderBottomLeftRadius:Pm,borderBottomRightRadius:Pm,boxShadow:CQ};function TQ(t,e,r){const n=js(t)?t:wp(t);return n.start(sC("",n,e,r)),n.animation}const AQ=(t,e)=>t.depth-e.depth;class EQ{constructor(){this.children=[],this.isDirty=!1}add(e){ES(this.children,e),this.isDirty=!0}remove(e){jS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(AQ),this.isDirty=!1,this.children.forEach(e)}}function jQ(t,e){const r=_a.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(sh(n),t(s-e))};return $n.setup(n,!0),()=>sh(n)}const d8=["TopLeft","TopRight","BottomLeft","BottomRight"],LQ=d8.length,XT=t=>typeof t=="string"?parseFloat(t):t,JT=t=>typeof t=="number"||ar.test(t);function PQ(t,e,r,n,i,s){i?(t.opacity=Zn(0,r.opacity??1,RQ(n)),t.opacityExit=Zn(e.opacity??1,0,MQ(n))):s&&(t.opacity=Zn(e.opacity??1,r.opacity??1,n));for(let a=0;a<LQ;a++){const o=`border${d8[a]}Radius`;let l=ZT(e,o),c=ZT(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||JT(l)===JT(c)?(t[o]=Math.max(Zn(XT(l),XT(c),n),0),(Xl.test(c)||Xl.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||r.rotate)&&(t.rotate=Zn(e.rotate||0,r.rotate||0,n))}function ZT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const RQ=f8(0,.5,QP),MQ=f8(.5,.95,ko);function f8(t,e,r){return n=>n<t?0:n>e?1:r(Ag(t,e,n))}function QT(t,e){t.min=e.min,t.max=e.max}function xo(t,e){QT(t.x,e.x),QT(t.y,e.y)}function eA(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function tA(t,e,r,n,i){return t-=e,t=nv(t,1/r,n),i!==void 0&&(t=nv(t,1/i,n)),t}function OQ(t,e=0,r=1,n=.5,i,s=t,a=t){if(Xl.test(e)&&(e=parseFloat(e),e=Zn(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Zn(s.min,s.max,n);t===s&&(o-=e),t.min=tA(t.min,e,r,o,i),t.max=tA(t.max,e,r,o,i)}function rA(t,e,[r,n,i],s,a){OQ(t,e[r],e[n],e[i],e.scale,s,a)}const IQ=["x","scaleX","originX"],DQ=["y","scaleY","originY"];function nA(t,e,r,n){rA(t.x,e,IQ,r?r.x:void 0,n?n.x:void 0),rA(t.y,e,DQ,r?r.y:void 0,n?n.y:void 0)}function iA(t){return t.translate===0&&t.scale===1}function p8(t){return iA(t.x)&&iA(t.y)}function sA(t,e){return t.min===e.min&&t.max===e.max}function BQ(t,e){return sA(t.x,e.x)&&sA(t.y,e.y)}function aA(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function m8(t,e){return aA(t.x,e.x)&&aA(t.y,e.y)}function oA(t){return Hs(t.x)/Hs(t.y)}function lA(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class FQ{constructor(){this.members=[]}add(e){ES(this.members,e),e.scheduleRender()}remove(e){if(jS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $Q(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=r?.z||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:c,rotate:h,rotateX:f,rotateY:g,skewX:p,skewY:v}=r;c&&(n=`perspective(${c}px) ${n}`),h&&(n+=`rotate(${h}deg) `),f&&(n+=`rotateX(${f}deg) `),g&&(n+=`rotateY(${g}deg) `),p&&(n+=`skewX(${p}deg) `),v&&(n+=`skewY(${v}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const _b=["","X","Y","Z"],zQ=1e3;let UQ=0;function Sb(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function g8(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=t8(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",$n,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&g8(n)}function y8({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},o=e?.()){this.id=UQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VQ),this.nodes.forEach(KQ),this.nodes.forEach(XQ),this.nodes.forEach(HQ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new EQ)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new RS),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=PR(a)&&!PJ(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let h,f=0;const g=()=>this.root.updateBlockedByResize=!1;$n.read(()=>{f=window.innerWidth}),t(a,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,h&&h(),h=jQ(g,250),g1.hasAnimatedSinceResize&&(g1.hasAnimatedSinceResize=!1,this.nodes.forEach(hA)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:g,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||tee,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=c.getProps(),_=!this.targetLayout||!m8(this.targetLayout,p),k=!f&&g;if(this.options.layoutRoot||this.resumeFrom||k||f&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...HS(v,"layout"),onPlay:x,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(h,k)}else f||hA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),sh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(JQ),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&g8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(uA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(YQ),this.nodes.forEach(qQ),this.nodes.forEach(WQ)):this.nodes.forEach(uA),this.clearAllSnapshots();const o=_a.now();cs.delta=iu(0,1e3/60,o-cs.timestamp),cs.timestamp=o,cs.isProcessing=!0,hb.update.process(cs),hb.preRender.process(cs),hb.render.process(cs),cs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,YS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(GQ),this.sharedNodes.forEach(ZQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$n.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$n.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Hs(this.snapshot.measuredBox.x)&&!Hs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!p8(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||ed(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),ree(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return xi();const o=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(nee))){const{scroll:c}=this.root;c&&(Hf(o.x,c.offset.x),Hf(o.y,c.offset.y))}return o}removeElementScroll(a){const o=xi();if(xo(o,a),this.scroll?.wasRoot)return o;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:h,options:f}=c;c!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&xo(o,a),Hf(o.x,h.offset.x),Hf(o.y,h.offset.y))}return o}applyTransform(a,o=!1){const l=xi();xo(l,a);for(let c=0;c<this.path.length;c++){const h=this.path[c];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Gf(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ed(h.latestValues)&&Gf(l,h.latestValues)}return ed(this.latestValues)&&Gf(l,this.latestValues),l}removeTransform(a){const o=xi();xo(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ed(c.latestValues))continue;g5(c.latestValues)&&c.updateSnapshot();const h=xi(),f=c.measurePageBox();xo(h,f),nA(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return ed(this.latestValues)&&nA(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=cs.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xi(),this.relativeTargetOrigin=xi(),pg(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=xi(),this.targetWithTransforms=xi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xo(this.target,this.layout.layoutBox),KR(this.target,this.targetDelta)):xo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xi(),this.relativeTargetOrigin=xi(),pg(this.relativeTargetOrigin,this.target,g.target),xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||g5(this.parent.latestValues)||YR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===cs.timestamp&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;xo(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;wZ(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=xi());const{target:p}=a;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(eA(this.prevProjectionDelta.x,this.projectionDelta.x),eA(this.prevProjectionDelta.y,this.projectionDelta.y)),fg(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!lA(this.projectionDelta.x,this.prevProjectionDelta.x)||!lA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yf(),this.projectionDelta=Yf(),this.projectionDeltaWithTransform=Yf()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},f=Yf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=xi(),p=l?l.source:void 0,v=this.layout?this.layout.source:void 0,x=p!==v,b=this.getStack(),_=!b||b.members.length<=1,k=!!(x&&!_&&this.options.crossfade===!0&&!this.path.some(eee));this.animationProgress=0;let N;this.mixTargetDelta=j=>{const P=j/1e3;dA(f.x,a.x,P),dA(f.y,a.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pg(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QQ(this.relativeTarget,this.relativeTargetOrigin,g,P),N&&BQ(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=xi()),xo(N,this.relativeTarget)),x&&(this.animationValues=h,PQ(h,c,this.latestValues,P,k,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(sh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$n.update(()=>{g1.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=wp(0)),this.currentAnimation=TQ(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zQ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:h}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&v8(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||xi();const f=Hs(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const g=Hs(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+g}xo(o,l),Gf(o,h),fg(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new FQ),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&Sb("z",a,c,this.animationValues);for(let h=0;h<_b.length;h++)Sb(`rotate${_b[h]}`,a,c,this.animationValues),Sb(`skew${_b[h]}`,a,c,this.animationValues);a.render();for(const h in c)a.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=m1(o?.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=m1(o?.pointerEvents)||""),this.hasProjected&&!ed(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=$Q(this.projectionDeltaWithTransform,this.treeScale,h);l&&(f=l(h,f)),a.transform=f;const{x:g,y:p}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${p.origin*100}% 0`,c.animationValues?a.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:a.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in Pg){if(h[v]===void 0)continue;const{correct:x,applyTo:b,isCSSVariable:_}=Pg[v],k=f==="none"?h[v]:x(h[v],c);if(b){const N=b.length;for(let j=0;j<N;j++)a[b[j]]=k}else _?this.options.visualElement.renderState.vars[v]=k:a[v]=k}this.options.layoutId&&(a.pointerEvents=c===this?m1(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(cA),this.root.sharedNodes.clear()}}}function qQ(t){t.updateLayout()}function WQ(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?wo(h=>{const f=s?e.measuredBox[h]:e.layoutBox[h],g=Hs(f);f.min=r[h].min,f.max=f.min+g}):v8(i,e.layoutBox,r)&&wo(h=>{const f=s?e.measuredBox[h]:e.layoutBox[h],g=Hs(r[h]);f.max=f.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=Yf();fg(a,r,e.layoutBox);const o=Yf();s?fg(o,t.applyTransform(n,!0),e.measuredBox):fg(o,r,e.layoutBox);const l=!p8(a);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const p=xi();pg(p,e.layoutBox,f.layoutBox);const v=xi();pg(v,r,g.layoutBox),m8(p,v)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=p,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function VQ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function HQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function GQ(t){t.clearSnapshot()}function cA(t){t.clearMeasurements()}function uA(t){t.isLayoutDirty=!1}function YQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function hA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function KQ(t){t.resolveTargetDelta()}function XQ(t){t.calcProjection()}function JQ(t){t.resetSkewAndRotation()}function ZQ(t){t.removeLeadSnapshot()}function dA(t,e,r){t.translate=Zn(e.translate,0,r),t.scale=Zn(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function fA(t,e,r,n){t.min=Zn(e.min,r.min,n),t.max=Zn(e.max,r.max,n)}function QQ(t,e,r,n){fA(t.x,e.x,r.x,n),fA(t.y,e.y,r.y,n)}function eee(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tee={duration:.45,ease:[.4,0,.1,1]},pA=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mA=pA("applewebkit/")&&!pA("chrome/")?Math.round:ko;function gA(t){t.min=mA(t.min),t.max=mA(t.max)}function ree(t){gA(t.x),gA(t.y)}function v8(t,e,r){return t==="position"||t==="preserve-aspect"&&!lQ(oA(e),oA(r),.2)}function nee(t){return t!==t.root&&t.scroll?.wasRoot}const iee=y8({attachResizeListener:(t,e)=>Rg(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cb={current:void 0},x8=y8({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Cb.current){const t=new iee({});t.mount(window),t.setOptions({layoutScroll:!0}),Cb.current=t}return Cb.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),see={pan:{Feature:SQ},drag:{Feature:_Q,ProjectionNode:x8,MeasureLayout:h8}};function yA(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&$n.postRender(()=>s(e,d0(e)))}class aee extends gh{mount(){const{current:e}=this.node;e&&(this.unmount=TJ(e,(r,n)=>(yA(this.node,n,"Start"),i=>yA(this.node,i,"End"))))}unmount(){}}class oee extends gh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=c0(Rg(this.node.current,"focus",()=>this.onFocus()),Rg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vA(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&$n.postRender(()=>s(e,d0(e)))}class lee extends gh{mount(){const{current:e}=this.node;e&&(this.unmount=LJ(e,(r,n)=>(vA(this.node,n,"Start"),(i,{success:s})=>vA(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const S5=new WeakMap,kb=new WeakMap,cee=t=>{const e=S5.get(t.target);e&&e(t)},uee=t=>{t.forEach(cee)};function hee({root:t,...e}){const r=t||document;kb.has(r)||kb.set(r,{});const n=kb.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(uee,{root:t,...e})),n[i]}function dee(t,e,r){const n=hee(e);return S5.set(t,r),n.observe(t),()=>{S5.delete(t),n.unobserve(t)}}const fee={some:0,all:1};class pee extends gh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:fee[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),g=c?h:f;g&&g(l)};return dee(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(mee(e,r))&&this.startObserver()}unmount(){}}function mee({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const gee={inView:{Feature:pee},tap:{Feature:lee},focus:{Feature:oee},hover:{Feature:aee}},yee={layout:{ProjectionNode:x8,MeasureLayout:h8}},vee={...rQ,...gee,...see,...yee},Kc=vZ(vee,LZ),xee=()=>{const{user:t}=nc(),[e,r]=E.useState([]),[n,i]=E.useState(null),[s,a]=E.useState([]),[o,l]=E.useState(""),[c,h]=E.useState(!1),[f,g]=E.useState(!0),p=E.useRef(null),v="http://localhost:4000",x=()=>{p.current?.scrollIntoView({behavior:"smooth"})};E.useEffect(()=>{t&&_()},[t]),E.useEffect(()=>{n?k(n):a([])},[n]),E.useEffect(()=>{x()},[s]);const b=()=>({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}),_=async()=>{try{const F=await fetch(`${v}/ai/conversations`,{headers:b()});if(F.ok){const D=await F.json();r(D),D.length>0&&!n?i(D[0].id):D.length===0&&(i(null),a([{id:"intro",type:"bot",content:"Hola! Soy Captus AI, tu asistente personal de productividad acadmica. En qu puedo ayudarte hoy?",timestamp:new Date}]))}}catch(F){console.error("Error fetching conversations:",F)}},k=async F=>{try{const D=await fetch(`${v}/ai/conversations/${F}/messages`,{headers:b()});if(D.ok){const z=(await D.json()).map(K=>({id:K.id,type:K.role,content:K.content,timestamp:new Date(K.createdAt)}));a(z)}}catch(D){console.error("Error fetching messages:",D)}},N=async()=>{if(!o.trim()||c)return;if(!t){const D={id:Date.now()+1,type:"bot",content:"Error: No se ha identificado al usuario. Por favor inicia sesin nuevamente.",timestamp:new Date};a(U=>[...U,D]);return}const F={id:"temp-user-"+Date.now(),type:"user",content:o.trim(),timestamp:new Date};a(D=>[...D,F]),l(""),h(!0);try{const D=await fetch(`${v}/ai/chat`,{method:"POST",headers:b(),body:JSON.stringify({message:F.content,conversationId:n})});if(!D.ok)throw new Error("Network response was not ok");const U=await D.json();!n&&U.conversationId&&(i(U.conversationId),_());const z={id:"temp-bot-"+Date.now(),type:"bot",content:U.result,timestamp:new Date};a(K=>[...K,z])}catch(D){console.error("Error sending message:",D);const U={id:Date.now()+1,type:"bot",content:"Lo siento, hubo un error al procesar tu mensaje. Por favor, intenta de nuevo.",timestamp:new Date};a(z=>[...z,U])}finally{h(!1)}},j=F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),N())},P=()=>{i(null),a([{id:Date.now(),type:"bot",content:"Hola! Soy Captus AI, tu asistente personal de productividad acadmica. En qu puedo ayudarte hoy?",timestamp:new Date}])};return m.jsxs("div",{className:"h-screen flex bg-white overflow-hidden",children:[m.jsx(m5,{children:f&&m.jsxs(Kc.div,{initial:{width:0,opacity:0},animate:{width:260,opacity:1},exit:{width:0,opacity:0},transition:{duration:.3,ease:[.4,0,.2,1]},className:"bg-gray-50 border-r border-gray-200 flex flex-col overflow-hidden",children:[m.jsx("div",{className:"p-4 border-b border-gray-200",children:m.jsxs("button",{onClick:P,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-sm hover:shadow-md",children:[m.jsx(Xs,{size:18}),m.jsx("span",{className:"font-medium",children:"Nueva conversacin"})]})}),m.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:e.map(F=>m.jsxs("button",{onClick:()=>i(F.id),className:`w-full text-left p-3 rounded-xl mb-1 transition-all duration-200 ${n===F.id?"bg-white shadow-sm":"hover:bg-gray-100"}`,children:[m.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:F.title||"Nueva conversacin"}),m.jsx("p",{className:"text-xs text-gray-500 truncate mt-1",children:new Date(F.updatedAt).toLocaleDateString()})]},F.id))})]})}),m.jsxs("div",{className:"flex-1 flex flex-col",children:[m.jsx("div",{className:"h-16 border-b border-gray-200 flex items-center justify-between px-6",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("button",{onClick:()=>g(!f),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:m.jsx(PV,{size:20})}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-400 to-emerald-600 rounded-lg flex items-center justify-center",children:m.jsx(lg,{className:"w-5 h-5 text-white"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"font-semibold text-gray-900",children:"Captus AI"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Tu asistente acadmico"})]})]})]})}),m.jsx("div",{className:"flex-1 overflow-y-auto",children:m.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[m.jsx(m5,{children:s.map(F=>m.jsxs(Kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex items-start space-x-4 mb-6 ${F.type==="user"?"flex-row-reverse space-x-reverse":""}`,children:[m.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center ${F.type==="bot"?"bg-gradient-to-br from-green-400 to-emerald-600":"bg-green-600"}`,children:F.type==="bot"?m.jsx(lg,{className:"w-5 h-5 text-white"}):m.jsx(ud,{className:"w-5 h-5 text-white"})}),m.jsx("div",{className:`flex-1 ${F.type==="user"?"flex justify-end":""}`,children:m.jsxs("div",{className:`inline-block max-w-[85%] ${F.type==="user"?"bg-green-600/10 border-l-4 border-green-600":"bg-card border-l-4 border-green-500"} rounded-xl p-4 shadow-sm`,children:[m.jsx("p",{className:"text-gray-900 text-sm leading-relaxed whitespace-pre-wrap",children:F.content}),m.jsx("p",{className:"text-xs text-gray-400 mt-2",children:F.timestamp.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]})})]},F.id))}),c&&m.jsxs(Kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-start space-x-4 mb-6",children:[m.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-gradient-to-br from-green-400 to-emerald-600 flex items-center justify-center",children:m.jsx(lg,{className:"w-5 h-5 text-white"})}),m.jsx("div",{className:"bg-card border-l-4 border-green-500 rounded-xl p-4 shadow-sm",children:m.jsxs("div",{className:"flex space-x-2",children:[m.jsx(Kc.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:Number.POSITIVE_INFINITY},className:"w-2 h-2 bg-green-600 rounded-full"}),m.jsx(Kc.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:Number.POSITIVE_INFINITY,delay:.2},className:"w-2 h-2 bg-green-600 rounded-full"}),m.jsx(Kc.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:Number.POSITIVE_INFINITY,delay:.4},className:"w-2 h-2 bg-green-600 rounded-full"})]})})]}),m.jsx("div",{ref:p})]})}),m.jsx("div",{className:"border-t border-gray-200 p-4 bg-white",children:m.jsxs("div",{className:"max-w-3xl mx-auto",children:[m.jsxs("div",{className:"flex items-end space-x-3",children:[m.jsx("div",{className:"flex-1 relative",children:m.jsx("textarea",{value:o,onChange:F=>l(F.target.value),onKeyPress:j,placeholder:"Escribe tu mensaje...",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none shadow-sm transition-all duration-200",rows:"1",disabled:c,style:{minHeight:"48px",maxHeight:"200px"}})}),m.jsx("button",{onClick:N,disabled:!o.trim()||c,className:"p-3 bg-green-600 text-white rounded-xl hover:bg-green-700 focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-sm hover:shadow-md",children:m.jsx(BV,{className:"w-5 h-5"})})]}),m.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"Captus AI puede cometer errores. Verifica la informacin importante."})]})})]})]})};function aC({className:t,...e}){return m.jsx("textarea",{"data-slot":"textarea",className:Pr("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function bee(){const t=["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],e=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],r=new Date;return`${t[r.getDay()]}, ${r.getDate()} de ${e[r.getMonth()]} de ${r.getFullYear()}`}const wee=[{id:1,title:"Apuntes de Clculo - Derivadas",content:"Definicin de derivada: lmite del cociente incremental. Reglas bsicas: potencia, producto, cociente, cadena...",subject:"Matemticas III",color:"blue",pinned:!0,lastEdited:"2025-10-24"},{id:2,title:"Resumen: Romanticismo Espaol",content:"Caractersticas principales del Romanticismo: libertad creativa, sentimientos, naturaleza, rebelda...",subject:"Literatura Espaola",color:"purple",pinned:!0,lastEdited:"2025-10-23"},{id:3,title:"Ideas para proyecto final",content:"Posibles temas: Sistema de gestin acadmica, App de salud mental para estudiantes, Plataforma de tutoras...",subject:"Programacin Web",color:"green",pinned:!1,lastEdited:"2025-10-22"},{id:4,title:"Frmulas de Qumica Orgnica",content:"Grupos funcionales: alcoholes (-OH), aldehdos (-CHO), cetonas (C=O), cidos carboxlicos (-COOH)...",subject:"Qumica Orgnica",color:"orange",pinned:!1,lastEdited:"2025-10-21"},{id:5,title:"Cronologa Segunda Guerra Mundial",content:"1939: Invasin de Polonia. 1941: Ataque a Pearl Harbor. 1944: Desembarco de Normanda...",subject:"Historia Mundial",color:"red",pinned:!1,lastEdited:"2025-10-20"},{id:6,title:"Conceptos de Filosofa Moderna",content:"Kant: Imperativo categrico, fenmeno vs. nomeno. Descartes: Cogito ergo sum, dualismo mente-cuerpo...",subject:"Filosofa Moderna",color:"yellow",pinned:!1,lastEdited:"2025-10-19"}],b8=t=>({blue:"bg-blue-50 border-blue-200",purple:"bg-purple-50 border-purple-200",green:"bg-green-50 border-green-200",orange:"bg-orange-50 border-orange-200",red:"bg-red-50 border-red-200",yellow:"bg-yellow-50 border-yellow-200","bg-blue-50":"bg-blue-50 border-blue-200","bg-purple-50":"bg-purple-50 border-purple-200","bg-green-50":"bg-green-50 border-green-200","bg-orange-50":"bg-orange-50 border-orange-200","bg-red-50":"bg-red-50 border-red-200","bg-yellow-50":"bg-yellow-50 border-yellow-200"})[t]||"bg-white border-gray-200";function _ee({note:t,onClose:e,onSave:r,onDelete:n,onTogglePin:i}){const[s,a]=E.useState(!1),[o,l]=E.useState(t.title),[c,h]=E.useState(t.content),[f,g]=E.useState(t.subject||""),p=()=>{r(t.id,{title:o,content:c,subject:f}),a(!1)};return m.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[85vh] overflow-y-auto",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-12 h-12 ${b8(t.color).split(" ")[0]} rounded-lg flex items-center justify-center`,children:m.jsx(Y1,{size:24,className:"text-gray-700"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Detalle de Nota"}),m.jsxs("p",{className:"text-sm text-gray-500",children:["Editado: ",t.lastEdited.includes("-")?new Date(t.lastEdited).toLocaleDateString("es-ES",{day:"numeric",month:"short"}):t.lastEdited]})]})]}),m.jsx(et,{variant:"ghost",size:"icon",onClick:e,children:m.jsx(Yl,{size:20})})]}),s?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(fn,{children:"Ttulo"}),m.jsx(hi,{value:o,onChange:v=>l(v.target.value),className:"mt-1"})]}),m.jsxs("div",{children:[m.jsx(fn,{children:"Materia"}),m.jsx(hi,{value:f,onChange:v=>g(v.target.value),className:"mt-1",placeholder:"Opcional"})]}),m.jsxs("div",{children:[m.jsx(fn,{children:"Contenido"}),m.jsx(aC,{value:c,onChange:v=>h(v.target.value),className:"mt-1 min-h-[300px]"})]}),m.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[m.jsx(et,{variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),m.jsxs(et,{onClick:p,className:"bg-green-600 hover:bg-green-700",children:[m.jsx(hS,{size:16,className:"mr-2"}),"Guardar Cambios"]})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:t.title}),t.subject&&m.jsx("span",{className:"inline-block text-sm font-medium text-gray-700 bg-gray-100 px-3 py-1 rounded-md",children:t.subject})]}),m.jsx("div",{className:"prose max-w-none mb-6",children:m.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:t.content})}),m.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[m.jsxs(et,{variant:"outline",onClick:()=>i(t.id),className:t.pinned?"text-green-600 border-green-600":"",children:[m.jsx(uS,{size:16,className:"mr-2"}),t.pinned?"Desfijar":"Fijar"]}),m.jsxs(et,{variant:"outline",onClick:()=>a(!0),children:[m.jsx($V,{size:16,className:"mr-2"}),"Editar"]}),m.jsxs(et,{variant:"outline",onClick:()=>n(t.id),className:"text-red-600 hover:bg-red-50 hover:text-red-700",children:[m.jsx(sx,{size:16,className:"mr-2"}),"Eliminar"]})]})]})]})})})}function See({onClose:t,onCreate:e}){const[r,n]=E.useState(""),[i,s]=E.useState(""),[a,o]=E.useState(""),l=()=>{r.trim()&&i.trim()&&(e({title:r,content:i,subject:a}),t())};return m.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[85vh] overflow-y-auto",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:m.jsx(Xs,{size:24,className:"text-green-600"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Nueva Nota"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Crea una nueva nota para tus estudios"})]})]}),m.jsx(et,{variant:"ghost",size:"icon",onClick:t,children:m.jsx(Yl,{size:20})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(fn,{children:"Ttulo *"}),m.jsx(hi,{value:r,onChange:c=>n(c.target.value),placeholder:"Ttulo de la nota",className:"mt-1"})]}),m.jsxs("div",{children:[m.jsx(fn,{children:"Materia"}),m.jsx(hi,{value:a,onChange:c=>o(c.target.value),placeholder:"Opcional",className:"mt-1"})]}),m.jsxs("div",{children:[m.jsx(fn,{children:"Contenido *"}),m.jsx(aC,{value:i,onChange:c=>s(c.target.value),placeholder:"Escribe el contenido de tu nota aqu...",className:"mt-1 min-h-[300px]"})]}),m.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[m.jsx(et,{variant:"outline",onClick:t,children:"Cancelar"}),m.jsxs(et,{onClick:l,disabled:!r.trim()||!i.trim(),className:"bg-green-600 hover:bg-green-700",children:[m.jsx(hS,{size:16,className:"mr-2"}),"Crear Nota"]})]})]})]})})})}function xA({note:t,index:e,onClick:r}){const n=E.useMemo(()=>b8(t.color),[t.color]);return m.jsx(Kc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:e*.05},children:m.jsxs(Or,{className:`p-4 rounded-xl shadow-sm hover:shadow-md transition-shadow border ${n} cursor-pointer`,onClick:r,children:[m.jsxs("div",{className:"flex justify-between items-start mb-3",children:[m.jsx("h3",{className:"font-semibold text-gray-900 text-base flex-1",children:t.title}),t.pinned&&m.jsx(Kc.div,{initial:{rotate:0},animate:{rotate:45},transition:{duration:.3},children:m.jsx(uS,{size:16,className:"text-green-600 flex-shrink-0"})})]}),m.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:t.content}),m.jsx("div",{className:"flex justify-between items-center",children:t.subject?m.jsx(va,{variant:"outline",className:"bg-white",children:t.subject}):m.jsx("div",{})}),m.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Editado:"," ",t.lastEdited.includes("-")?new Date(t.lastEdited).toLocaleDateString("es-ES",{day:"numeric",month:"short"}):t.lastEdited]})]})})}function Cee(){const[t,e]=E.useState(""),[r,n]=E.useState(wee),[i,s]=E.useState(null),[a,o]=E.useState(!1),l=(x,b)=>{n(r.map(_=>_.id===x?{..._,...b,lastEdited:"Hoy"}:_)),s(null)},c=x=>{window.confirm("Ests seguro de que quieres eliminar esta nota?")&&(n(r.filter(b=>b.id!==x)),s(null))},h=x=>{n(r.map(b=>b.id===x?{...b,pinned:!b.pinned}:b)),i&&i.id===x&&s(b=>({...b,pinned:!b.pinned}))},f=x=>{const b={id:Date.now(),...x,color:"blue",pinned:!1,lastEdited:"Hoy"};n([...r,b])},g=E.useMemo(()=>r.filter(x=>x.pinned),[r]),p=E.useMemo(()=>r.filter(x=>!x.pinned).filter(x=>{if(!t.trim())return!0;const b=t.toLowerCase();return x.title.toLowerCase().includes(b)||x.content.toLowerCase().includes(b)||x.subject&&x.subject.toLowerCase().includes(b)}),[r,t]),v=g.filter(x=>x.title.toLowerCase().includes(t.toLowerCase())||x.content.toLowerCase().includes(t.toLowerCase())||x.subject&&x.subject.toLowerCase().includes(t.toLowerCase()));return m.jsxs("div",{className:"min-h-screen bg-[#F6F7FB]",children:[m.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[m.jsx("header",{className:"sticky top-0 bg-white rounded-xl shadow-sm p-6 mb-6 z-10",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" Mis Notas"}),m.jsx("p",{className:"text-gray-600 mt-1",children:bee()})]}),m.jsx("div",{className:"flex items-center space-x-4",children:m.jsxs(et,{className:"bg-green-600 hover:bg-green-700",onClick:()=>o(!0),children:[m.jsx(Xs,{size:16,className:"mr-2"}),"Nueva Nota"]})})]})}),m.jsx("div",{className:"mb-6",children:m.jsxs("div",{className:"relative",children:[m.jsx(dS,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),m.jsx(hi,{placeholder:"Buscar notas...",value:t,onChange:x=>e(x.target.value),className:"pl-10 bg-white"})]})}),v.length>0&&m.jsxs("div",{className:"mb-8",children:[m.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[m.jsx(uS,{size:18,className:"mr-2 text-green-600"}),"Notas Fijadas"]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map((x,b)=>m.jsx(xA,{note:x,index:b,onClick:()=>s(x)},x.id))})]}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Todas las Notas"}),m.jsx(m5,{children:p.length===0&&v.length===0?m.jsx(Kc.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12 bg-white rounded-xl",children:m.jsx("p",{className:"text-gray-500",children:"No se encontraron notas"})}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map((x,b)=>m.jsx(xA,{note:x,index:b,onClick:()=>s(x)},x.id))})})]})]}),i&&m.jsx(_ee,{note:i,onClose:()=>s(null),onSave:l,onDelete:c,onTogglePin:h}),a&&m.jsx(See,{onClose:()=>o(!1),onCreate:f})]})}const kee=()=>{const[t,e]=E.useState(null),[r,n]=E.useState(!1),[i,s]=E.useState({firstName:"",lastName:"",email:"",career:"",bio:""}),[a,o]=E.useState(!0),[l,c]=E.useState(!1);E.useEffect(()=>{h()},[]);const h=async()=>{try{console.log("Fetching user profile...");const v=await fetch("/api/users/profile",{credentials:"include"});if(console.log("Response status:",v.status),v.ok){const x=await v.json();if(console.log("User data received:",x),x.success&&x.data){const b=x.data;console.log("User object:",b);const _=b.name?b.name.split(" "):["",""],k=_[0]||"",N=_.slice(1).join(" ")||"",j={...b,firstName:k,lastName:N,fullName:b.name};console.log("Setting user data:",j),e(j),s({firstName:k,lastName:N,email:b.email||"",career:b.carrer||"",bio:b.bio||""})}else console.error("Invalid user data structure:",x)}else{const x=await v.text();console.error("Failed to fetch user profile:",v.status,x)}}catch(v){console.error("Error fetching user profile:",v)}finally{o(!1)}},f=(v,x)=>{s(b=>({...b,[v]:x}))},g=async()=>{c(!0);try{const v=`${i.firstName} ${i.lastName}`.trim(),x={name:v,carrer:i.career,bio:i.bio};console.log("Updating profile:",x),e(b=>({...b,firstName:i.firstName,lastName:i.lastName,name:v,phone:i.phone,carrer:i.career,bio:i.bio})),n(!1)}catch(v){console.error("Error updating profile:",v),alert("Error al actualizar el perfil")}finally{c(!1)}},p=()=>{s({firstName:t.firstName,lastName:t.lastName,email:t.email,career:t.carrer||"",bio:t.bio||""}),n(!1)};return a?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx("div",{className:"text-xl",children:"Cargando perfil..."})}):m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx("div",{className:"bg-green-600 text-white p-6 shadow-lg",children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold",children:"Mi Perfil"}),m.jsx("p",{className:"text-green-100 mt-1",children:"Gestiona tu informacin personal"})]})}),m.jsx("div",{className:"max-w-4xl mx-auto p-6",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[m.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-8 text-white",children:m.jsxs("div",{className:"flex items-center space-x-6",children:[m.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-full flex items-center justify-center",children:m.jsx(ud,{size:48})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-bold",children:t.fullName}),m.jsx("p",{className:"text-green-100 mt-1",children:t.email}),m.jsx("div",{className:"flex items-center space-x-4 mt-3 text-sm",children:m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(Ta,{size:16}),m.jsxs("span",{children:["Miembro desde ",new Date(t.created_at).toLocaleDateString("es-ES")]})]})})]})]})}),m.jsxs("div",{className:"p-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Informacin Personal"}),r?m.jsxs("div",{className:"flex space-x-2",children:[m.jsxs("button",{onClick:g,disabled:l,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:[m.jsx(hS,{className:"h-4 w-4 mr-2"}),l?"Guardando...":"Guardar"]}),m.jsxs("button",{onClick:p,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[m.jsx(Yl,{className:"h-4 w-4 mr-2"}),"Cancelar"]})]}):m.jsxs("button",{onClick:()=>n(!0),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[m.jsx(IV,{className:"h-4 w-4 mr-2"}),"Editar"]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre"}),r?m.jsx(hi,{type:"text",value:i.firstName,onChange:v=>f("firstName",v.target.value),className:"w-full"}):m.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-md",children:[m.jsx(ud,{className:"h-5 w-5 text-gray-400"}),m.jsx("span",{className:"text-gray-900",children:t.firstName})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apellido"}),r?m.jsx(hi,{type:"text",value:i.lastName,onChange:v=>f("lastName",v.target.value),className:"w-full"}):m.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-md",children:[m.jsx(ud,{className:"h-5 w-5 text-gray-400"}),m.jsx("span",{className:"text-gray-900",children:t.lastName})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),r?m.jsx(hi,{type:"email",value:i.email,onChange:v=>f("email",v.target.value),className:"w-full"}):m.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-md",children:[m.jsx(jV,{className:"h-5 w-5 text-gray-400"}),m.jsx("span",{className:"text-gray-900",children:t.email})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Carrera"}),r?m.jsx(hi,{type:"text",value:i.career,onChange:v=>f("career",v.target.value),placeholder:"Ej: Ingeniera de Sistemas",className:"w-full"}):m.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-md",children:[m.jsx(ud,{className:"h-5 w-5 text-gray-400"}),m.jsx("span",{className:"text-gray-900",children:t.carrer||"No especificada"})]})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Biografa"}),r?m.jsx("textarea",{value:i.bio,onChange:v=>f("bio",v.target.value),placeholder:"Cuntanos un poco sobre ti...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 resize-none",rows:3}):m.jsx("div",{className:"p-3 bg-gray-50 rounded-md",children:m.jsx("span",{className:"text-gray-900",children:t.bio||"Sin biografa"})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Registro"}),m.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-md",children:[m.jsx(Ta,{className:"h-5 w-5 text-gray-400"}),m.jsx("span",{className:"text-gray-900",children:new Date(t.created_at).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),m.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Estadsticas de Cuenta"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[m.jsx("div",{className:"text-2xl font-bold text-green-600",children:"0"}),m.jsx("div",{className:"text-sm text-green-700",children:"Tareas Completadas"})]}),m.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[m.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"0"}),m.jsx("div",{className:"text-sm text-blue-700",children:"Racha Actual"})]}),m.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[m.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"0"}),m.jsx("div",{className:"text-sm text-purple-700",children:"Das Activos"})]})]})]})]})]})})]})};function Nee({onClose:t,onCreate:e,selectedDate:r}){const[n,i]=E.useState(""),[s,a]=E.useState(""),[o,l]=E.useState(r?.toISOString().split("T")[0]||""),[c,h]=E.useState("09:00"),[f,g]=E.useState("Reunin"),{darkMode:p}=n0(),v=()=>{n.trim()&&o&&(e({title:n,description:s,date:new Date(o),time:c,type:f}),t())};return m.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:m.jsx("div",{className:`${p?"bg-gray-800":"bg-white"} rounded-xl shadow-2xl w-full max-w-md animate-in zoom-in-95 duration-300`,children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:m.jsx(Xs,{size:24,className:"text-green-600"})}),m.jsxs("div",{children:[m.jsx("h2",{className:`text-xl font-bold ${p?"text-white":"text-gray-900"}`,children:"Nuevo Evento"}),m.jsx("p",{className:`text-sm ${p?"text-gray-400":"text-gray-500"}`,children:"Crea un evento en tu calendario"})]})]}),m.jsx(et,{variant:"ghost",size:"icon",onClick:t,children:m.jsx(Yl,{size:20})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(fn,{className:p?"text-gray-300":"",children:"Ttulo *"}),m.jsx(hi,{value:n,onChange:x=>i(x.target.value),placeholder:"Ttulo del evento",className:`mt-1 ${p?"bg-gray-700 border-gray-600 text-white":""}`})]}),m.jsxs("div",{children:[m.jsx(fn,{className:p?"text-gray-300":"",children:"Tipo"}),m.jsxs("select",{value:f,onChange:x=>g(x.target.value),className:`w-full mt-1 px-3 py-2 rounded-lg border ${p?"bg-gray-700 border-gray-600 text-white":"border-gray-300"}`,children:[m.jsx("option",{children:"Reunin"}),m.jsx("option",{children:"Examen"}),m.jsx("option",{children:"Entrega"}),m.jsx("option",{children:"Clase"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(fn,{className:p?"text-gray-300":"",children:"Fecha *"}),m.jsx(hi,{type:"date",value:o,onChange:x=>l(x.target.value),className:`mt-1 ${p?"bg-gray-700 border-gray-600 text-white":""}`})]}),m.jsxs("div",{children:[m.jsx(fn,{className:p?"text-gray-300":"",children:"Hora"}),m.jsx(hi,{type:"time",value:c,onChange:x=>h(x.target.value),className:`mt-1 ${p?"bg-gray-700 border-gray-600 text-white":""}`})]})]}),m.jsxs("div",{children:[m.jsx(fn,{className:p?"text-gray-300":"",children:"Descripcin"}),m.jsx(aC,{value:s,onChange:x=>a(x.target.value),placeholder:"Describe tu evento...",className:`mt-1 ${p?"bg-gray-700 border-gray-600 text-white":""}`,rows:3})]}),m.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[m.jsx(et,{variant:"outline",onClick:t,children:"Cancelar"}),m.jsx(et,{onClick:v,disabled:!n.trim()||!o,className:"bg-green-600 hover:bg-green-700",children:"Crear Evento"})]})]})]})})})}function Tee(){const[t,e]=E.useState(new Date),[r,n]=E.useState(new Date),[i,s]=E.useState([]),[a,o]=E.useState(!1),[l,c]=E.useState("month"),{darkMode:h}=n0();E.useEffect(()=>{const P=[{id:1,title:"Reunin de equipo",date:new Date(2024,9,15),completed:!1,priority:"high"},{id:2,title:"Revisar cdigo",date:new Date(2024,9,18),completed:!0,priority:"medium"},{id:3,title:"Entrega del proyecto",date:new Date(2024,9,25),completed:!1,priority:"high"}];s(P)},[t]);const f=P=>{const F=P.getFullYear(),D=P.getMonth(),U=new Date(F,D,1),K=new Date(F,D+1,0).getDate(),B=U.getDay(),q=[];for(let W=0;W<B;W++)q.push(null);for(let W=1;W<=K;W++)q.push(new Date(F,D,W));return q},g=P=>{e(F=>{const D=new Date(F);return D.setMonth(D.getMonth()+P),D})},p=P=>i.filter(F=>F.date.toDateString()===P.toDateString()),v=P=>{switch(P){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},x=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],b=["Dom","Lun","Mar","Mi","Jue","Vie","Sb"],_=P=>{const F={id:Date.now(),title:P.title,date:P.date,completed:!1,priority:"medium"};s([...i,F])},k=()=>{const P=new Date(t);P.setDate(t.getDate()-t.getDay());const F=Array.from({length:7},(D,U)=>{const z=new Date(P);return z.setDate(P.getDate()+U),z});return m.jsx("div",{className:"grid grid-cols-7 gap-2",children:F.map((D,U)=>m.jsxs("div",{className:`p-4 border-2 rounded-xl ${D.toDateString()===r.toDateString()?"ring-2 ring-green-500 bg-green-50 border-green-200":h?"border-gray-700 bg-gray-750":"border-gray-200"}`,children:[m.jsxs("div",{className:`text-center mb-2 ${h?"text-white":"text-gray-900"}`,children:[m.jsx("div",{className:"text-xs font-medium text-gray-500",children:D.toLocaleDateString("es-ES",{weekday:"short"})}),m.jsx("div",{className:`text-2xl font-bold ${D.toDateString()===new Date().toDateString()?"text-green-600":""}`,children:D.getDate()})]}),m.jsx("div",{className:"space-y-1",children:p(D).map(z=>m.jsx("div",{className:`text-xs p-2 rounded-lg border ${v(z.priority)}`,children:z.title},z.id))})]},U))})},N=()=>{const P=Array.from({length:24},(F,D)=>D);return m.jsxs("div",{className:`${h?"bg-gray-800":"bg-white"} rounded-xl p-6`,children:[m.jsx("h3",{className:`text-xl font-bold mb-4 ${h?"text-white":"text-gray-900"}`,children:r.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),m.jsx("div",{className:"space-y-2",children:P.map(F=>m.jsxs("div",{className:`flex border-b ${h?"border-gray-700":"border-gray-100"} py-2`,children:[m.jsxs("div",{className:`w-20 text-sm font-medium ${h?"text-gray-400":"text-gray-600"}`,children:[F.toString().padStart(2,"0"),":00"]}),m.jsx("div",{className:"flex-1"})]},F))})]})},j=P=>{n(P),c("day")};return m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:`rounded-xl shadow-sm p-6 mb-6 animate-in slide-in-from-top duration-300 ${h?"bg-gray-800":"bg-white"}`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:`text-2xl font-bold ${h?"text-white":"text-gray-900"}`,children:"Calendario"}),m.jsx("p",{className:`mt-1 ${h?"text-gray-400":"text-gray-600"}`,children:"Organiza tus eventos y tareas"})]}),m.jsxs("button",{onClick:()=>o(!0),className:"inline-flex items-center px-4 py-2 text-sm font-medium rounded-xl text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-200 shadow-sm hover:shadow-md hover:scale-105 active:scale-95",children:[m.jsx(Xs,{className:"h-5 w-5 mr-2"}),"Nuevo Evento"]})]}),m.jsx("div",{className:"flex space-x-2",children:["month","week"].map(P=>m.jsx("button",{onClick:()=>c(P),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:scale-105 active:scale-95 ${l===P?"bg-green-50 text-green-600 shadow-sm":h?"text-gray-400 hover:bg-gray-700":"text-gray-600 hover:bg-gray-50"}`,children:P==="month"?"Mes":"Semana"},P))})]}),l==="month"&&m.jsxs("div",{className:`rounded-xl shadow-sm p-6 mb-6 animate-in fade-in duration-500 ${h?"bg-gray-800":"bg-white"}`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("button",{onClick:()=>g(-1),className:`p-2 rounded-lg transition-colors ${h?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:m.jsx(G1,{className:"w-5 h-5"})}),m.jsxs("h2",{className:`text-2xl font-bold ${h?"text-white":"text-gray-900"}`,children:[x[t.getMonth()]," ",t.getFullYear()]}),m.jsx("button",{onClick:()=>g(1),className:`p-2 rounded-lg transition-colors ${h?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:m.jsx(Nd,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:b.map(P=>m.jsx("div",{className:`p-3 text-center font-semibold rounded-lg ${h?"bg-gray-750 text-gray-400":"bg-gray-50 text-gray-600"}`,children:P},P))}),m.jsx("div",{className:"grid grid-cols-7 gap-2",children:f(t).map((P,F)=>m.jsx("div",{className:`min-h-32 p-3 border-2 rounded-xl hover:shadow-md cursor-pointer transition-all duration-200 ${P&&P.toDateString()===r.toDateString()?"ring-2 ring-green-500 bg-green-50 border-green-200":P?h?"border-gray-700 hover:border-green-500 bg-gray-750":"border-gray-200 hover:border-green-200":"border-transparent"}`,onClick:()=>P&&j(P),children:P&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:`text-sm font-semibold mb-2 ${P.toDateString()===new Date().toDateString()?"w-7 h-7 bg-green-600 text-white rounded-full flex items-center justify-center":h?"text-white":"text-gray-900"}`,children:P.getDate()}),m.jsxs("div",{className:"space-y-1",children:[p(P).slice(0,2).map(D=>m.jsx("div",{className:`text-xs p-1.5 rounded-lg border ${v(D.priority)} ${D.completed?"line-through opacity-60":""}`,title:D.title,children:D.title.length>12?`${D.title.substring(0,12)}...`:D.title},D.id)),p(P).length>2&&m.jsxs("div",{className:"text-xs text-gray-500 font-medium",children:["+",p(P).length-2," ms"]})]})]})},F))})]}),l==="week"&&m.jsxs("div",{className:`rounded-xl shadow-sm p-6 mb-6 ${h?"bg-gray-800":"bg-white"}`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("button",{onClick:()=>{const P=new Date(t);P.setDate(P.getDate()-7),e(P)},className:`p-2 rounded-lg transition-colors ${h?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:m.jsx(G1,{className:"w-5 h-5"})}),m.jsxs("h2",{className:`text-2xl font-bold ${h?"text-white":"text-gray-900"}`,children:["Semana del ",t.toLocaleDateString("es-ES")]}),m.jsx("button",{onClick:()=>{const P=new Date(t);P.setDate(P.getDate()+7),e(P)},className:`p-2 rounded-lg transition-colors ${h?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:m.jsx(Nd,{className:"w-5 h-5"})})]}),k()]}),l==="day"&&N(),r&&m.jsxs("div",{className:`rounded-xl shadow-sm p-6 ${h?"bg-gray-800":"bg-white"}`,children:[m.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[m.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${h?"bg-green-900/30":"bg-green-50"}`,children:m.jsx(dL,{className:"w-6 h-6 text-green-600"})}),m.jsxs("div",{children:[m.jsx("h3",{className:`text-xl font-bold ${h?"text-white":"text-gray-900"}`,children:r.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})}),m.jsxs("p",{className:`text-sm ${h?"text-gray-400":"text-gray-500"}`,children:[p(r).length," eventos programados"]})]})]}),m.jsx("div",{className:"space-y-3",children:p(r).length===0?m.jsxs("div",{className:"text-center py-12",children:[m.jsx(Ta,{className:`w-12 h-12 mx-auto mb-3 ${h?"text-gray-600":"text-gray-300"}`}),m.jsx("p",{className:h?"text-gray-400":"text-gray-500",children:"No hay eventos para este da"}),m.jsx("button",{className:"mt-4 text-green-600 hover:text-green-700 font-medium text-sm",children:"Agregar evento"})]}):p(r).map(P=>m.jsx("div",{className:`p-4 rounded-xl border-2 ${v(P.priority)} ${P.completed?"opacity-60":""}`,children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h4",{className:`font-semibold ${P.completed?"line-through":""}`,children:P.title}),m.jsx("span",{className:`px-3 py-1 text-xs rounded-full font-medium ${P.completed?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:P.completed?"Completada":"Pendiente"})]})},P.id))})]}),a&&m.jsx(Nee,{onClose:()=>o(!1),onCreate:_,selectedDate:r})]})}function Aee(t,e=globalThis?.document){const r=Zi(t);E.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Eee="DismissableLayer",C5="dismissableLayer.update",jee="dismissableLayer.pointerDownOutside",Lee="dismissableLayer.focusOutside",bA,w8=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oC=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=t,c=E.useContext(w8),[h,f]=E.useState(null),g=h?.ownerDocument??globalThis?.document,[,p]=E.useState({}),v=Un(e,D=>f(D)),x=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(b),k=h?x.indexOf(h):-1,N=c.layersWithOutsidePointerEventsDisabled.size>0,j=k>=_,P=Mee(D=>{const U=D.target,z=[...c.branches].some(K=>K.contains(U));!j||z||(i?.(D),a?.(D),D.defaultPrevented||o?.())},g),F=Oee(D=>{const U=D.target;[...c.branches].some(K=>K.contains(U))||(s?.(D),a?.(D),D.defaultPrevented||o?.())},g);return Aee(D=>{k===c.layers.size-1&&(n?.(D),!D.defaultPrevented&&o&&(D.preventDefault(),o()))},g),E.useEffect(()=>{if(h)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(bA=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),wA(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=bA)}},[h,g,r,c]),E.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),wA())},[h,c]),E.useEffect(()=>{const D=()=>p({});return document.addEventListener(C5,D),()=>document.removeEventListener(C5,D)},[]),m.jsx(Fr.div,{...l,ref:v,style:{pointerEvents:N?j?"auto":"none":void 0,...t.style},onFocusCapture:rr(t.onFocusCapture,F.onFocusCapture),onBlurCapture:rr(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:rr(t.onPointerDownCapture,P.onPointerDownCapture)})});oC.displayName=Eee;var Pee="DismissableLayerBranch",Ree=E.forwardRef((t,e)=>{const r=E.useContext(w8),n=E.useRef(null),i=Un(e,n);return E.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),m.jsx(Fr.div,{...t,ref:i})});Ree.displayName=Pee;function Mee(t,e=globalThis?.document){const r=Zi(t),n=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const s=o=>{if(o.target&&!n.current){let l=function(){_8(jee,r,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Oee(t,e=globalThis?.document){const r=Zi(t),n=E.useRef(!1);return E.useEffect(()=>{const i=s=>{s.target&&!n.current&&_8(Lee,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function wA(){const t=new CustomEvent(C5);document.dispatchEvent(t)}function _8(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?PL(i,s):i.dispatchEvent(s)}var Nb=0;function S8(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??_A()),document.body.insertAdjacentElement("beforeend",t[1]??_A()),Nb++,()=>{Nb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Nb--}},[])}function _A(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Tb="focusScope.autoFocusOnMount",Ab="focusScope.autoFocusOnUnmount",SA={bubbles:!1,cancelable:!0},Iee="FocusScope",lC=E.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,l]=E.useState(null),c=Zi(i),h=Zi(s),f=E.useRef(null),g=Un(e,x=>l(x)),p=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(n){let x=function(N){if(p.paused||!o)return;const j=N.target;o.contains(j)?f.current=j:Xu(f.current,{select:!0})},b=function(N){if(p.paused||!o)return;const j=N.relatedTarget;j!==null&&(o.contains(j)||Xu(f.current,{select:!0}))},_=function(N){if(document.activeElement===document.body)for(const P of N)P.removedNodes.length>0&&Xu(o)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const k=new MutationObserver(_);return o&&k.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),k.disconnect()}}},[n,o,p.paused]),E.useEffect(()=>{if(o){kA.add(p);const x=document.activeElement;if(!o.contains(x)){const _=new CustomEvent(Tb,SA);o.addEventListener(Tb,c),o.dispatchEvent(_),_.defaultPrevented||(Dee(Uee(C8(o)),{select:!0}),document.activeElement===x&&Xu(o))}return()=>{o.removeEventListener(Tb,c),setTimeout(()=>{const _=new CustomEvent(Ab,SA);o.addEventListener(Ab,h),o.dispatchEvent(_),_.defaultPrevented||Xu(x??document.body,{select:!0}),o.removeEventListener(Ab,h),kA.remove(p)},0)}}},[o,c,h,p]);const v=E.useCallback(x=>{if(!r&&!n||p.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,_=document.activeElement;if(b&&_){const k=x.currentTarget,[N,j]=Bee(k);N&&j?!x.shiftKey&&_===j?(x.preventDefault(),r&&Xu(N,{select:!0})):x.shiftKey&&_===N&&(x.preventDefault(),r&&Xu(j,{select:!0})):_===k&&x.preventDefault()}},[r,n,p.paused]);return m.jsx(Fr.div,{tabIndex:-1,...a,ref:g,onKeyDown:v})});lC.displayName=Iee;function Dee(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Xu(n,{select:e}),document.activeElement!==r)return}function Bee(t){const e=C8(t),r=CA(e,t),n=CA(e.reverse(),t);return[r,n]}function C8(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function CA(t,e){for(const r of t)if(!Fee(r,{upTo:e}))return r}function Fee(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function $ee(t){return t instanceof HTMLInputElement&&"select"in t}function Xu(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&$ee(t)&&e&&t.select()}}var kA=zee();function zee(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=NA(t,e),t.unshift(e)},remove(e){t=NA(t,e),t[0]?.resume()}}}function NA(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Uee(t){return t.filter(e=>e.tagName!=="A")}const qee=["top","right","bottom","left"],oh=Math.min,Va=Math.max,iv=Math.round,jy=Math.floor,Jl=t=>({x:t,y:t}),Wee={left:"right",right:"left",bottom:"top",top:"bottom"},Vee={start:"end",end:"start"};function k5(t,e,r){return Va(t,oh(e,r))}function au(t,e){return typeof t=="function"?t(e):t}function ou(t){return t.split("-")[0]}function Up(t){return t.split("-")[1]}function cC(t){return t==="x"?"y":"x"}function uC(t){return t==="y"?"height":"width"}const Hee=new Set(["top","bottom"]);function Hl(t){return Hee.has(ou(t))?"y":"x"}function hC(t){return cC(Hl(t))}function Gee(t,e,r){r===void 0&&(r=!1);const n=Up(t),i=hC(t),s=uC(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=sv(a)),[a,sv(a)]}function Yee(t){const e=sv(t);return[N5(t),e,N5(e)]}function N5(t){return t.replace(/start|end/g,e=>Vee[e])}const TA=["left","right"],AA=["right","left"],Kee=["top","bottom"],Xee=["bottom","top"];function Jee(t,e,r){switch(t){case"top":case"bottom":return r?e?AA:TA:e?TA:AA;case"left":case"right":return e?Kee:Xee;default:return[]}}function Zee(t,e,r,n){const i=Up(t);let s=Jee(ou(t),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(N5)))),s}function sv(t){return t.replace(/left|right|bottom|top/g,e=>Wee[e])}function Qee(t){return{top:0,right:0,bottom:0,left:0,...t}}function k8(t){return typeof t!="number"?Qee(t):{top:t,right:t,bottom:t,left:t}}function av(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function EA(t,e,r){let{reference:n,floating:i}=t;const s=Hl(e),a=hC(e),o=uC(a),l=ou(e),c=s==="y",h=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,g=n[o]/2-i[o]/2;let p;switch(l){case"top":p={x:h,y:n.y-i.height};break;case"bottom":p={x:h,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Up(e)){case"start":p[a]-=g*(r&&c?-1:1);break;case"end":p[a]+=g*(r&&c?-1:1);break}return p}const ete=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:f}=EA(c,n,l),g=n,p={},v=0;for(let x=0;x<o.length;x++){const{name:b,fn:_}=o[x],{x:k,y:N,data:j,reset:P}=await _({x:h,y:f,initialPlacement:n,placement:g,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:t,floating:e}});h=k??h,f=N??f,p={...p,[b]:{...p[b],...j}},P&&v<=50&&(v++,typeof P=="object"&&(P.placement&&(g=P.placement),P.rects&&(c=P.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:h,y:f}=EA(c,g,l)),x=-1)}return{x:h,y:f,placement:g,strategy:i,middlewareData:p}};async function Mg(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:g=!1,padding:p=0}=au(e,t),v=k8(p),b=o[g?f==="floating"?"reference":"floating":f],_=av(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(b)))==null||r?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:h,strategy:l})),k=f==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),j=await(s.isElement==null?void 0:s.isElement(N))?await(s.getScale==null?void 0:s.getScale(N))||{x:1,y:1}:{x:1,y:1},P=av(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:k,offsetParent:N,strategy:l}):k);return{top:(_.top-P.top+v.top)/j.y,bottom:(P.bottom-_.bottom+v.bottom)/j.y,left:(_.left-P.left+v.left)/j.x,right:(P.right-_.right+v.right)/j.x}}const tte=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:h=0}=au(t,e)||{};if(c==null)return{};const f=k8(h),g={x:r,y:n},p=hC(i),v=uC(p),x=await a.getDimensions(c),b=p==="y",_=b?"top":"left",k=b?"bottom":"right",N=b?"clientHeight":"clientWidth",j=s.reference[v]+s.reference[p]-g[p]-s.floating[v],P=g[p]-s.reference[p],F=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let D=F?F[N]:0;(!D||!await(a.isElement==null?void 0:a.isElement(F)))&&(D=o.floating[N]||s.floating[v]);const U=j/2-P/2,z=D/2-x[v]/2-1,K=oh(f[_],z),B=oh(f[k],z),q=K,W=D-x[v]-B,$=D/2-x[v]/2+U,Q=k5(q,$,W),ee=!l.arrow&&Up(i)!=null&&$!==Q&&s.reference[v]/2-($<q?K:B)-x[v]/2<0,se=ee?$<q?$-q:$-W:0;return{[p]:g[p]+se,data:{[p]:Q,centerOffset:$-Q-se,...ee&&{alignmentOffset:se}},reset:ee}}}),rte=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...b}=au(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const _=ou(i),k=Hl(o),N=ou(o)===o,j=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=g||(N||!x?[sv(o)]:Yee(o)),F=v!=="none";!g&&F&&P.push(...Zee(o,x,v,j));const D=[o,...P],U=await Mg(e,b),z=[];let K=((n=s.flip)==null?void 0:n.overflows)||[];if(h&&z.push(U[_]),f){const $=Gee(i,a,j);z.push(U[$[0]],U[$[1]])}if(K=[...K,{placement:i,overflows:z}],!z.every($=>$<=0)){var B,q;const $=(((B=s.flip)==null?void 0:B.index)||0)+1,Q=D[$];if(Q&&(!(f==="alignment"?k!==Hl(Q):!1)||K.every(V=>Hl(V.placement)===k?V.overflows[0]>0:!0)))return{data:{index:$,overflows:K},reset:{placement:Q}};let ee=(q=K.filter(se=>se.overflows[0]<=0).sort((se,V)=>se.overflows[1]-V.overflows[1])[0])==null?void 0:q.placement;if(!ee)switch(p){case"bestFit":{var W;const se=(W=K.filter(V=>{if(F){const re=Hl(V.placement);return re===k||re==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(re=>re>0).reduce((re,pe)=>re+pe,0)]).sort((V,re)=>V[1]-re[1])[0])==null?void 0:W[0];se&&(ee=se);break}case"initialPlacement":ee=o;break}if(i!==ee)return{reset:{placement:ee}}}return{}}}};function jA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function LA(t){return qee.some(e=>t[e]>=0)}const nte=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=au(t,e);switch(n){case"referenceHidden":{const s=await Mg(e,{...i,elementContext:"reference"}),a=jA(s,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:LA(a)}}}case"escaped":{const s=await Mg(e,{...i,altBoundary:!0}),a=jA(s,r.floating);return{data:{escapedOffsets:a,escaped:LA(a)}}}default:return{}}}}},N8=new Set(["left","top"]);async function ite(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=ou(r),o=Up(r),l=Hl(r)==="y",c=N8.has(a)?-1:1,h=s&&l?-1:1,f=au(e,t);let{mainAxis:g,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof v=="number"&&(p=o==="end"?v*-1:v),l?{x:p*h,y:g*c}:{x:g*c,y:p*h}}const ste=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await ite(e,t);return a===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},ate=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:b=>{let{x:_,y:k}=b;return{x:_,y:k}}},...l}=au(t,e),c={x:r,y:n},h=await Mg(e,l),f=Hl(ou(i)),g=cC(f);let p=c[g],v=c[f];if(s){const b=g==="y"?"top":"left",_=g==="y"?"bottom":"right",k=p+h[b],N=p-h[_];p=k5(k,p,N)}if(a){const b=f==="y"?"top":"left",_=f==="y"?"bottom":"right",k=v+h[b],N=v-h[_];v=k5(k,v,N)}const x=o.fn({...e,[g]:p,[f]:v});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[g]:s,[f]:a}}}}}},ote=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=au(t,e),h={x:r,y:n},f=Hl(i),g=cC(f);let p=h[g],v=h[f];const x=au(o,e),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const N=g==="y"?"height":"width",j=s.reference[g]-s.floating[N]+b.mainAxis,P=s.reference[g]+s.reference[N]-b.mainAxis;p<j?p=j:p>P&&(p=P)}if(c){var _,k;const N=g==="y"?"width":"height",j=N8.has(ou(i)),P=s.reference[f]-s.floating[N]+(j&&((_=a.offset)==null?void 0:_[f])||0)+(j?0:b.crossAxis),F=s.reference[f]+s.reference[N]+(j?0:((k=a.offset)==null?void 0:k[f])||0)-(j?b.crossAxis:0);v<P?v=P:v>F&&(v=F)}return{[g]:p,[f]:v}}}},lte=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=au(t,e),h=await Mg(e,c),f=ou(i),g=Up(i),p=Hl(i)==="y",{width:v,height:x}=s.floating;let b,_;f==="top"||f==="bottom"?(b=f,_=g===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(_=f,b=g==="end"?"top":"bottom");const k=x-h.top-h.bottom,N=v-h.left-h.right,j=oh(x-h[b],k),P=oh(v-h[_],N),F=!e.middlewareData.shift;let D=j,U=P;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(U=N),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(D=k),F&&!g){const K=Va(h.left,0),B=Va(h.right,0),q=Va(h.top,0),W=Va(h.bottom,0);p?U=v-2*(K!==0||B!==0?K+B:Va(h.left,h.right)):D=x-2*(q!==0||W!==0?q+W:Va(h.top,h.bottom))}await l({...e,availableWidth:U,availableHeight:D});const z=await a.getDimensions(o.floating);return v!==z.width||x!==z.height?{reset:{rects:!0}}:{}}}};function wx(){return typeof window<"u"}function qp(t){return T8(t)?(t.nodeName||"").toLowerCase():"#document"}function Xa(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ac(t){var e;return(e=(T8(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function T8(t){return wx()?t instanceof Node||t instanceof Xa(t).Node:!1}function fl(t){return wx()?t instanceof Element||t instanceof Xa(t).Element:!1}function ec(t){return wx()?t instanceof HTMLElement||t instanceof Xa(t).HTMLElement:!1}function PA(t){return!wx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Xa(t).ShadowRoot}const cte=new Set(["inline","contents"]);function f0(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=pl(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!cte.has(i)}const ute=new Set(["table","td","th"]);function hte(t){return ute.has(qp(t))}const dte=[":popover-open",":modal"];function _x(t){return dte.some(e=>{try{return t.matches(e)}catch{return!1}})}const fte=["transform","translate","scale","rotate","perspective"],pte=["transform","translate","scale","rotate","perspective","filter"],mte=["paint","layout","strict","content"];function dC(t){const e=fC(),r=fl(t)?pl(t):t;return fte.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||pte.some(n=>(r.willChange||"").includes(n))||mte.some(n=>(r.contain||"").includes(n))}function gte(t){let e=lh(t);for(;ec(e)&&!Sp(e);){if(dC(e))return e;if(_x(e))return null;e=lh(e)}return null}function fC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const yte=new Set(["html","body","#document"]);function Sp(t){return yte.has(qp(t))}function pl(t){return Xa(t).getComputedStyle(t)}function Sx(t){return fl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function lh(t){if(qp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||PA(t)&&t.host||ac(t);return PA(e)?e.host:e}function A8(t){const e=lh(t);return Sp(e)?t.ownerDocument?t.ownerDocument.body:t.body:ec(e)&&f0(e)?e:A8(e)}function Og(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=A8(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),a=Xa(i);if(s){const o=T5(a);return e.concat(a,a.visualViewport||[],f0(i)?i:[],o&&r?Og(o):[])}return e.concat(i,Og(i,[],r))}function T5(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function E8(t){const e=pl(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=ec(t),s=i?t.offsetWidth:r,a=i?t.offsetHeight:n,o=iv(r)!==s||iv(n)!==a;return o&&(r=s,n=a),{width:r,height:n,$:o}}function pC(t){return fl(t)?t:t.contextElement}function tp(t){const e=pC(t);if(!ec(e))return Jl(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=E8(e);let a=(s?iv(r.width):r.width)/n,o=(s?iv(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const vte=Jl(0);function j8(t){const e=Xa(t);return!fC()||!e.visualViewport?vte:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function xte(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Xa(t)?!1:e}function Ed(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=pC(t);let a=Jl(1);e&&(n?fl(n)&&(a=tp(n)):a=tp(t));const o=xte(s,r,n)?j8(s):Jl(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,h=i.width/a.x,f=i.height/a.y;if(s){const g=Xa(s),p=n&&fl(n)?Xa(n):n;let v=g,x=T5(v);for(;x&&n&&p!==v;){const b=tp(x),_=x.getBoundingClientRect(),k=pl(x),N=_.left+(x.clientLeft+parseFloat(k.paddingLeft))*b.x,j=_.top+(x.clientTop+parseFloat(k.paddingTop))*b.y;l*=b.x,c*=b.y,h*=b.x,f*=b.y,l+=N,c+=j,v=Xa(x),x=T5(v)}}return av({width:h,height:f,x:l,y:c})}function Cx(t,e){const r=Sx(t).scrollLeft;return e?e.left+r:Ed(ac(t)).left+r}function L8(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-Cx(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function bte(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",a=ac(n),o=e?_x(e.floating):!1;if(n===a||o&&s)return r;let l={scrollLeft:0,scrollTop:0},c=Jl(1);const h=Jl(0),f=ec(n);if((f||!f&&!s)&&((qp(n)!=="body"||f0(a))&&(l=Sx(n)),ec(n))){const p=Ed(n);c=tp(n),h.x=p.x+n.clientLeft,h.y=p.y+n.clientTop}const g=a&&!f&&!s?L8(a,l):Jl(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+h.x+g.x,y:r.y*c.y-l.scrollTop*c.y+h.y+g.y}}function wte(t){return Array.from(t.getClientRects())}function _te(t){const e=ac(t),r=Sx(t),n=t.ownerDocument.body,i=Va(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Va(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+Cx(t);const o=-r.scrollTop;return pl(n).direction==="rtl"&&(a+=Va(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:o}}const RA=25;function Ste(t,e){const r=Xa(t),n=ac(t),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const h=fC();(!h||h&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const c=Cx(n);if(c<=0){const h=n.ownerDocument,f=h.body,g=getComputedStyle(f),p=h.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,v=Math.abs(n.clientWidth-f.clientWidth-p);v<=RA&&(s-=v)}else c<=RA&&(s+=c);return{width:s,height:a,x:o,y:l}}const Cte=new Set(["absolute","fixed"]);function kte(t,e){const r=Ed(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=ec(t)?tp(t):Jl(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,c=n*s.y;return{width:a,height:o,x:l,y:c}}function MA(t,e,r){let n;if(e==="viewport")n=Ste(t,r);else if(e==="document")n=_te(ac(t));else if(fl(e))n=kte(e,r);else{const i=j8(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return av(n)}function P8(t,e){const r=lh(t);return r===e||!fl(r)||Sp(r)?!1:pl(r).position==="fixed"||P8(r,e)}function Nte(t,e){const r=e.get(t);if(r)return r;let n=Og(t,[],!1).filter(o=>fl(o)&&qp(o)!=="body"),i=null;const s=pl(t).position==="fixed";let a=s?lh(t):t;for(;fl(a)&&!Sp(a);){const o=pl(a),l=dC(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&Cte.has(i.position)||f0(a)&&!l&&P8(t,a))?n=n.filter(h=>h!==a):i=o,a=lh(a)}return e.set(t,n),n}function Tte(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const a=[...r==="clippingAncestors"?_x(e)?[]:Nte(e,this._c):[].concat(r),n],o=a[0],l=a.reduce((c,h)=>{const f=MA(e,h,i);return c.top=Va(f.top,c.top),c.right=oh(f.right,c.right),c.bottom=oh(f.bottom,c.bottom),c.left=Va(f.left,c.left),c},MA(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Ate(t){const{width:e,height:r}=E8(t);return{width:e,height:r}}function Ete(t,e,r){const n=ec(e),i=ac(e),s=r==="fixed",a=Ed(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=Jl(0);function c(){l.x=Cx(i)}if(n||!n&&!s)if((qp(e)!=="body"||f0(i))&&(o=Sx(e)),n){const p=Ed(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();s&&!n&&i&&c();const h=i&&!n&&!s?L8(i,o):Jl(0),f=a.left+o.scrollLeft-l.x-h.x,g=a.top+o.scrollTop-l.y-h.y;return{x:f,y:g,width:a.width,height:a.height}}function Eb(t){return pl(t).position==="static"}function OA(t,e){if(!ec(t)||pl(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ac(t)===r&&(r=r.ownerDocument.body),r}function R8(t,e){const r=Xa(t);if(_x(t))return r;if(!ec(t)){let i=lh(t);for(;i&&!Sp(i);){if(fl(i)&&!Eb(i))return i;i=lh(i)}return r}let n=OA(t,e);for(;n&&hte(n)&&Eb(n);)n=OA(n,e);return n&&Sp(n)&&Eb(n)&&!dC(n)?r:n||gte(t)||r}const jte=async function(t){const e=this.getOffsetParent||R8,r=this.getDimensions,n=await r(t.floating);return{reference:Ete(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Lte(t){return pl(t).direction==="rtl"}const Pte={convertOffsetParentRelativeRectToViewportRelativeRect:bte,getDocumentElement:ac,getClippingRect:Tte,getOffsetParent:R8,getElementRects:jte,getClientRects:wte,getDimensions:Ate,getScale:tp,isElement:fl,isRTL:Lte};function M8(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Rte(t,e){let r=null,n;const i=ac(t);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:h,top:f,width:g,height:p}=c;if(o||e(),!g||!p)return;const v=jy(f),x=jy(i.clientWidth-(h+g)),b=jy(i.clientHeight-(f+p)),_=jy(h),N={rootMargin:-v+"px "+-x+"px "+-b+"px "+-_+"px",threshold:Va(0,oh(1,l))||1};let j=!0;function P(F){const D=F[0].intersectionRatio;if(D!==l){if(!j)return a();D?a(!1,D):n=setTimeout(()=>{a(!1,1e-7)},1e3)}D===1&&!M8(c,t.getBoundingClientRect())&&a(),j=!1}try{r=new IntersectionObserver(P,{...N,root:i.ownerDocument})}catch{r=new IntersectionObserver(P,N)}r.observe(t)}return a(!0),s}function Mte(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=pC(t),h=i||s?[...c?Og(c):[],...Og(e)]:[];h.forEach(_=>{i&&_.addEventListener("scroll",r,{passive:!0}),s&&_.addEventListener("resize",r)});const f=c&&o?Rte(c,r):null;let g=-1,p=null;a&&(p=new ResizeObserver(_=>{let[k]=_;k&&k.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var N;(N=p)==null||N.observe(e)})),r()}),c&&!l&&p.observe(c),p.observe(e));let v,x=l?Ed(t):null;l&&b();function b(){const _=Ed(t);x&&!M8(x,_)&&r(),x=_,v=requestAnimationFrame(b)}return r(),()=>{var _;h.forEach(k=>{i&&k.removeEventListener("scroll",r),s&&k.removeEventListener("resize",r)}),f?.(),(_=p)==null||_.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const Ote=ste,Ite=ate,Dte=rte,Bte=lte,Fte=nte,IA=tte,$te=ote,zte=(t,e,r)=>{const n=new Map,i={platform:Pte,...r},s={...i.platform,_c:n};return ete(t,e,{...i,platform:s})};var Ute=typeof document<"u",qte=function(){},y1=Ute?E.useLayoutEffect:qte;function ov(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!ov(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!ov(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function O8(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function DA(t,e){const r=O8(t);return Math.round(e*r)/r}function jb(t){const e=E.useRef(t);return y1(()=>{e.current=t}),e}function Wte(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[h,f]=E.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,p]=E.useState(n);ov(g,n)||p(n);const[v,x]=E.useState(null),[b,_]=E.useState(null),k=E.useCallback(V=>{V!==F.current&&(F.current=V,x(V))},[]),N=E.useCallback(V=>{V!==D.current&&(D.current=V,_(V))},[]),j=s||v,P=a||b,F=E.useRef(null),D=E.useRef(null),U=E.useRef(h),z=l!=null,K=jb(l),B=jb(i),q=jb(c),W=E.useCallback(()=>{if(!F.current||!D.current)return;const V={placement:e,strategy:r,middleware:g};B.current&&(V.platform=B.current),zte(F.current,D.current,V).then(re=>{const pe={...re,isPositioned:q.current!==!1};$.current&&!ov(U.current,pe)&&(U.current=pe,X_.flushSync(()=>{f(pe)}))})},[g,e,r,B,q]);y1(()=>{c===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[c]);const $=E.useRef(!1);y1(()=>($.current=!0,()=>{$.current=!1}),[]),y1(()=>{if(j&&(F.current=j),P&&(D.current=P),j&&P){if(K.current)return K.current(j,P,W);W()}},[j,P,W,K,z]);const Q=E.useMemo(()=>({reference:F,floating:D,setReference:k,setFloating:N}),[k,N]),ee=E.useMemo(()=>({reference:j,floating:P}),[j,P]),se=E.useMemo(()=>{const V={position:r,left:0,top:0};if(!ee.floating)return V;const re=DA(ee.floating,h.x),pe=DA(ee.floating,h.y);return o?{...V,transform:"translate("+re+"px, "+pe+"px)",...O8(ee.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:re,top:pe}},[r,o,ee.floating,h.x,h.y]);return E.useMemo(()=>({...h,update:W,refs:Q,elements:ee,floatingStyles:se}),[h,W,Q,ee,se])}const Vte=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?IA({element:n.current,padding:i}).fn(r):{}:n?IA({element:n,padding:i}).fn(r):{}}}},Hte=(t,e)=>({...Ote(t),options:[t,e]}),Gte=(t,e)=>({...Ite(t),options:[t,e]}),Yte=(t,e)=>({...$te(t),options:[t,e]}),Kte=(t,e)=>({...Dte(t),options:[t,e]}),Xte=(t,e)=>({...Bte(t),options:[t,e]}),Jte=(t,e)=>({...Fte(t),options:[t,e]}),Zte=(t,e)=>({...Vte(t),options:[t,e]});var Qte="Arrow",I8=E.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return m.jsx(Fr.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});I8.displayName=Qte;var ere=I8;function D8(t){const[e,r]=E.useState(void 0);return ih(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=t.offsetWidth,o=t.offsetHeight;r({width:a,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var mC="Popper",[B8,F8]=ic(mC),[tre,$8]=B8(mC),z8=t=>{const{__scopePopper:e,children:r}=t,[n,i]=E.useState(null);return m.jsx(tre,{scope:e,anchor:n,onAnchorChange:i,children:r})};z8.displayName=mC;var U8="PopperAnchor",q8=E.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=$8(U8,r),a=E.useRef(null),o=Un(e,a);return E.useEffect(()=>{s.onAnchorChange(n?.current||a.current)}),n?null:m.jsx(Fr.div,{...i,ref:o})});q8.displayName=U8;var gC="PopperContent",[rre,nre]=B8(gC),W8=E.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:p="optimized",onPlaced:v,...x}=t,b=$8(gC,r),[_,k]=E.useState(null),N=Un(e,de=>k(de)),[j,P]=E.useState(null),F=D8(j),D=F?.width??0,U=F?.height??0,z=n+(s!=="center"?"-"+s:""),K=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},B=Array.isArray(c)?c:[c],q=B.length>0,W={padding:K,boundary:B.filter(sre),altBoundary:q},{refs:$,floatingStyles:Q,placement:ee,isPositioned:se,middlewareData:V}=Wte({strategy:"fixed",placement:z,whileElementsMounted:(...de)=>Mte(...de,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[Hte({mainAxis:i+U,alignmentAxis:a}),l&&Gte({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Yte():void 0,...W}),l&&Kte({...W}),Xte({...W,apply:({elements:de,rects:be,availableWidth:Se,availableHeight:ke})=>{const{width:De,height:Ye}=be.reference,We=de.floating.style;We.setProperty("--radix-popper-available-width",`${Se}px`),We.setProperty("--radix-popper-available-height",`${ke}px`),We.setProperty("--radix-popper-anchor-width",`${De}px`),We.setProperty("--radix-popper-anchor-height",`${Ye}px`)}}),j&&Zte({element:j,padding:o}),are({arrowWidth:D,arrowHeight:U}),g&&Jte({strategy:"referenceHidden",...W})]}),[re,pe]=G8(ee),X=Zi(v);ih(()=>{se&&X?.()},[se,X]);const O=V.arrow?.x,Y=V.arrow?.y,ne=V.arrow?.centerOffset!==0,[oe,ue]=E.useState();return ih(()=>{_&&ue(window.getComputedStyle(_).zIndex)},[_]),m.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:se?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[V.transformOrigin?.x,V.transformOrigin?.y].join(" "),...V.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(rre,{scope:r,placedSide:re,onArrowChange:P,arrowX:O,arrowY:Y,shouldHideArrow:ne,children:m.jsx(Fr.div,{"data-side":re,"data-align":pe,...x,ref:N,style:{...x.style,animation:se?void 0:"none"}})})})});W8.displayName=gC;var V8="PopperArrow",ire={top:"bottom",right:"left",bottom:"top",left:"right"},H8=E.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=nre(V8,n),a=ire[s.placedSide];return m.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:m.jsx(ere,{...i,ref:r,style:{...i.style,display:"block"}})})});H8.displayName=V8;function sre(t){return t!==null}var are=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,h]=G8(r),f={start:"0%",center:"50%",end:"100%"}[h],g=(i.arrow?.x??0)+o/2,p=(i.arrow?.y??0)+l/2;let v="",x="";return c==="bottom"?(v=a?f:`${g}px`,x=`${-l}px`):c==="top"?(v=a?f:`${g}px`,x=`${n.floating.height+l}px`):c==="right"?(v=`${-l}px`,x=a?f:`${p}px`):c==="left"&&(v=`${n.floating.width+l}px`,x=a?f:`${p}px`),{data:{x:v,y:x}}}});function G8(t){const[e,r="center"]=t.split("-");return[e,r]}var ore=z8,lre=q8,cre=W8,ure=H8,hre="Portal",yC=E.forwardRef((t,e)=>{const{container:r,...n}=t,[i,s]=E.useState(!1);ih(()=>s(!0),[]);const a=r||i&&globalThis?.document?.body;return a?f6.createPortal(m.jsx(Fr.div,{...n,ref:e}),a):null});yC.displayName=hre;var dre=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ef=new WeakMap,Ly=new WeakMap,Py={},Lb=0,Y8=function(t){return t&&(t.host||Y8(t.parentNode))},fre=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Y8(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},pre=function(t,e,r,n){var i=fre(e,Array.isArray(t)?t:[t]);Py[r]||(Py[r]=new WeakMap);var s=Py[r],a=[],o=new Set,l=new Set(i),c=function(f){!f||o.has(f)||(o.add(f),c(f.parentNode))};i.forEach(c);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(g){if(o.has(g))h(g);else try{var p=g.getAttribute(n),v=p!==null&&p!=="false",x=(Ef.get(g)||0)+1,b=(s.get(g)||0)+1;Ef.set(g,x),s.set(g,b),a.push(g),x===1&&v&&Ly.set(g,!0),b===1&&g.setAttribute(r,"true"),v||g.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",g,_)}})};return h(e),o.clear(),Lb++,function(){a.forEach(function(f){var g=Ef.get(f)-1,p=s.get(f)-1;Ef.set(f,g),s.set(f,p),g||(Ly.has(f)||f.removeAttribute(n),Ly.delete(f)),p||f.removeAttribute(r)}),Lb--,Lb||(Ef=new WeakMap,Ef=new WeakMap,Ly=new WeakMap,Py={})}},K8=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=dre(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),pre(n,i,r,"aria-hidden")):function(){return null}},v1="right-scroll-bar-position",x1="width-before-scroll-bar",mre="with-scroll-bars-hidden",gre="--removed-body-scroll-bar-size";function Pb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function yre(t,e){var r=E.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var vre=typeof window<"u"?E.useLayoutEffect:E.useEffect,BA=new WeakMap;function xre(t,e){var r=yre(null,function(n){return t.forEach(function(i){return Pb(i,n)})});return vre(function(){var n=BA.get(r);if(n){var i=new Set(n),s=new Set(t),a=r.current;i.forEach(function(o){s.has(o)||Pb(o,null)}),s.forEach(function(o){i.has(o)||Pb(o,a)})}BA.set(r,t)},[t]),r}function bre(t){return t}function wre(t,e){e===void 0&&(e=bre);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var a=e(s,n);return r.push(a),function(){r=r.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(n=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(o){return s(o)},filter:function(){return r}}},assignMedium:function(s){n=!0;var a=[];if(r.length){var o=r;r=[],o.forEach(s),a=r}var l=function(){var h=a;a=[],h.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(h){a.push(h),c()},filter:function(h){return a=a.filter(h),r}}}};return i}function _re(t){t===void 0&&(t={});var e=wre(null);return e.options=So({async:!0,ssr:!1},t),e}var X8=function(t){var e=t.sideCar,r=ph(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return E.createElement(n,So({},r))};X8.isSideCarExport=!0;function Sre(t,e){return t.useMedium(e),X8}var J8=_re(),Rb=function(){},kx=E.forwardRef(function(t,e){var r=E.useRef(null),n=E.useState({onScrollCapture:Rb,onWheelCapture:Rb,onTouchMoveCapture:Rb}),i=n[0],s=n[1],a=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,h=t.enabled,f=t.shards,g=t.sideCar,p=t.noRelative,v=t.noIsolation,x=t.inert,b=t.allowPinchZoom,_=t.as,k=_===void 0?"div":_,N=t.gapMode,j=ph(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=g,F=xre([r,e]),D=So(So({},j),i);return E.createElement(E.Fragment,null,h&&E.createElement(P,{sideCar:J8,removeScrollBar:c,shards:f,noRelative:p,noIsolation:v,inert:x,setCallbacks:s,allowPinchZoom:!!b,lockRef:r,gapMode:N}),a?E.cloneElement(E.Children.only(o),So(So({},D),{ref:F})):E.createElement(k,So({},D,{className:l,ref:F}),o))});kx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kx.classNames={fullWidth:x1,zeroRight:v1};var Cre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function kre(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Cre();return e&&t.setAttribute("nonce",e),t}function Nre(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Tre(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Are=function(){var t=0,e=null;return{add:function(r){t==0&&(e=kre())&&(Nre(e,r),Tre(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Ere=function(){var t=Are();return function(e,r){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Z8=function(){var t=Ere(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},jre={left:0,top:0,right:0,gap:0},Mb=function(t){return parseInt(t||"",10)||0},Lre=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Mb(r),Mb(n),Mb(i)]},Pre=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return jre;var e=Lre(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Rre=Z8(),rp="data-scroll-locked",Mre=function(t,e,r,n){var i=t.left,s=t.top,a=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(mre,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(rp,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(v1,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(x1,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(v1," .").concat(v1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(x1," .").concat(x1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(rp,`] {
    `).concat(gre,": ").concat(o,`px;
  }
`)},FA=function(){var t=parseInt(document.body.getAttribute(rp)||"0",10);return isFinite(t)?t:0},Ore=function(){E.useEffect(function(){return document.body.setAttribute(rp,(FA()+1).toString()),function(){var t=FA()-1;t<=0?document.body.removeAttribute(rp):document.body.setAttribute(rp,t.toString())}},[])},Ire=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;Ore();var s=E.useMemo(function(){return Pre(i)},[i]);return E.createElement(Rre,{styles:Mre(s,!e,i,r?"":"!important")})},A5=!1;if(typeof window<"u")try{var Ry=Object.defineProperty({},"passive",{get:function(){return A5=!0,!0}});window.addEventListener("test",Ry,Ry),window.removeEventListener("test",Ry,Ry)}catch{A5=!1}var jf=A5?{passive:!1}:!1,Dre=function(t){return t.tagName==="TEXTAREA"},Q8=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Dre(t)&&r[e]==="visible")},Bre=function(t){return Q8(t,"overflowY")},Fre=function(t){return Q8(t,"overflowX")},$A=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=eM(t,n);if(i){var s=tM(t,n),a=s[1],o=s[2];if(a>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},$re=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},zre=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},eM=function(t,e){return t==="v"?Bre(e):Fre(e)},tM=function(t,e){return t==="v"?$re(e):zre(e)},Ure=function(t,e){return t==="h"&&e==="rtl"?-1:1},qre=function(t,e,r,n,i){var s=Ure(t,window.getComputedStyle(e).direction),a=s*n,o=r.target,l=e.contains(o),c=!1,h=a>0,f=0,g=0;do{if(!o)break;var p=tM(t,o),v=p[0],x=p[1],b=p[2],_=x-b-s*v;(v||_)&&eM(t,o)&&(f+=_,g+=v);var k=o.parentNode;o=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(h&&Math.abs(f)<1||!h&&Math.abs(g)<1)&&(c=!0),c},My=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},zA=function(t){return[t.deltaX,t.deltaY]},UA=function(t){return t&&"current"in t?t.current:t},Wre=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Vre=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Hre=0,Lf=[];function Gre(t){var e=E.useRef([]),r=E.useRef([0,0]),n=E.useRef(),i=E.useState(Hre++)[0],s=E.useState(Z8)[0],a=E.useRef(t);E.useEffect(function(){a.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=Z_([t.lockRef.current],(t.shards||[]).map(UA),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=E.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var _=My(x),k=r.current,N="deltaX"in x?x.deltaX:k[0]-_[0],j="deltaY"in x?x.deltaY:k[1]-_[1],P,F=x.target,D=Math.abs(N)>Math.abs(j)?"h":"v";if("touches"in x&&D==="h"&&F.type==="range")return!1;var U=$A(D,F);if(!U)return!0;if(U?P=D:(P=D==="v"?"h":"v",U=$A(D,F)),!U)return!1;if(!n.current&&"changedTouches"in x&&(N||j)&&(n.current=P),!P)return!0;var z=n.current||P;return qre(z,b,x,z==="h"?N:j)},[]),l=E.useCallback(function(x){var b=x;if(!(!Lf.length||Lf[Lf.length-1]!==s)){var _="deltaY"in b?zA(b):My(b),k=e.current.filter(function(P){return P.name===b.type&&(P.target===b.target||b.target===P.shadowParent)&&Wre(P.delta,_)})[0];if(k&&k.should){b.cancelable&&b.preventDefault();return}if(!k){var N=(a.current.shards||[]).map(UA).filter(Boolean).filter(function(P){return P.contains(b.target)}),j=N.length>0?o(b,N[0]):!a.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),c=E.useCallback(function(x,b,_,k){var N={name:x,delta:b,target:_,should:k,shadowParent:Yre(_)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(j){return j!==N})},1)},[]),h=E.useCallback(function(x){r.current=My(x),n.current=void 0},[]),f=E.useCallback(function(x){c(x.type,zA(x),x.target,o(x,t.lockRef.current))},[]),g=E.useCallback(function(x){c(x.type,My(x),x.target,o(x,t.lockRef.current))},[]);E.useEffect(function(){return Lf.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",l,jf),document.addEventListener("touchmove",l,jf),document.addEventListener("touchstart",h,jf),function(){Lf=Lf.filter(function(x){return x!==s}),document.removeEventListener("wheel",l,jf),document.removeEventListener("touchmove",l,jf),document.removeEventListener("touchstart",h,jf)}},[]);var p=t.removeScrollBar,v=t.inert;return E.createElement(E.Fragment,null,v?E.createElement(s,{styles:Vre(i)}):null,p?E.createElement(Ire,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Yre(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Kre=Sre(J8,Gre);var vC=E.forwardRef(function(t,e){return E.createElement(kx,So({},t,{ref:e,sideCar:Kre}))});vC.classNames=kx.classNames;var E5=["Enter"," "],Xre=["ArrowDown","PageUp","Home"],rM=["ArrowUp","PageDown","End"],Jre=[...Xre,...rM],Zre={ltr:[...E5,"ArrowRight"],rtl:[...E5,"ArrowLeft"]},Qre={ltr:["ArrowLeft"],rtl:["ArrowRight"]},p0="Menu",[Ig,ene,tne]=CP(p0),[zd,nM]=ic(p0,[tne,F8,gx]),Nx=F8(),iM=gx(),[rne,Ud]=zd(p0),[nne,m0]=zd(p0),sM=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:a=!0}=t,o=Nx(e),[l,c]=E.useState(null),h=E.useRef(!1),f=Zi(s),g=ox(i);return E.useEffect(()=>{const p=()=>{h.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>h.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),m.jsx(ore,{...o,children:m.jsx(rne,{scope:e,open:r,onOpenChange:f,content:l,onContentChange:c,children:m.jsx(nne,{scope:e,onClose:E.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:g,modal:a,children:n})})})};sM.displayName=p0;var ine="MenuAnchor",xC=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Nx(r);return m.jsx(lre,{...i,...n,ref:e})});xC.displayName=ine;var bC="MenuPortal",[sne,aM]=zd(bC,{forceMount:void 0}),oM=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=Ud(bC,e);return m.jsx(sne,{scope:e,forceMount:r,children:m.jsx(Qa,{present:r||s.open,children:m.jsx(yC,{asChild:!0,container:i,children:n})})})};oM.displayName=bC;var No="MenuContent",[ane,wC]=zd(No),lM=E.forwardRef((t,e)=>{const r=aM(No,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=Ud(No,t.__scopeMenu),a=m0(No,t.__scopeMenu);return m.jsx(Ig.Provider,{scope:t.__scopeMenu,children:m.jsx(Qa,{present:n||s.open,children:m.jsx(Ig.Slot,{scope:t.__scopeMenu,children:a.modal?m.jsx(one,{...i,ref:e}):m.jsx(lne,{...i,ref:e})})})})}),one=E.forwardRef((t,e)=>{const r=Ud(No,t.__scopeMenu),n=E.useRef(null),i=Un(e,n);return E.useEffect(()=>{const s=n.current;if(s)return K8(s)},[]),m.jsx(_C,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:rr(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),lne=E.forwardRef((t,e)=>{const r=Ud(No,t.__scopeMenu);return m.jsx(_C,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),_C=E.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:g,onDismiss:p,disableOutsideScroll:v,...x}=t,b=Ud(No,r),_=m0(No,r),k=Nx(r),N=iM(r),j=ene(r),[P,F]=E.useState(null),D=E.useRef(null),U=Un(e,D,b.onContentChange),z=E.useRef(0),K=E.useRef(""),B=E.useRef(0),q=E.useRef(null),W=E.useRef("right"),$=E.useRef(0),Q=v?vC:E.Fragment,ee=v?{as:nu,allowPinchZoom:!0}:void 0,se=re=>{const pe=K.current+re,X=j().filter(de=>!de.disabled),O=document.activeElement,Y=X.find(de=>de.ref.current===O)?.textValue,ne=X.map(de=>de.textValue),oe=bne(ne,pe,Y),ue=X.find(de=>de.textValue===oe)?.ref.current;(function de(be){K.current=be,window.clearTimeout(z.current),be!==""&&(z.current=window.setTimeout(()=>de(""),1e3))})(pe),ue&&setTimeout(()=>ue.focus())};E.useEffect(()=>()=>window.clearTimeout(z.current),[]),S8();const V=E.useCallback(re=>W.current===q.current?.side&&_ne(re,q.current?.area),[]);return m.jsx(ane,{scope:r,searchRef:K,onItemEnter:E.useCallback(re=>{V(re)&&re.preventDefault()},[V]),onItemLeave:E.useCallback(re=>{V(re)||(D.current?.focus(),F(null))},[V]),onTriggerLeave:E.useCallback(re=>{V(re)&&re.preventDefault()},[V]),pointerGraceTimerRef:B,onPointerGraceIntentChange:E.useCallback(re=>{q.current=re},[]),children:m.jsx(Q,{...ee,children:m.jsx(lC,{asChild:!0,trapped:i,onMountAutoFocus:rr(s,re=>{re.preventDefault(),D.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:m.jsx(oC,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:g,onDismiss:p,children:m.jsx(jP,{asChild:!0,...N,dir:_.dir,orientation:"vertical",loop:n,currentTabStopId:P,onCurrentTabStopIdChange:F,onEntryFocus:rr(l,re=>{_.isUsingKeyboardRef.current||re.preventDefault()}),preventScrollOnEntryFocus:!0,children:m.jsx(cre,{role:"menu","aria-orientation":"vertical","data-state":CM(b.open),"data-radix-menu-content":"",dir:_.dir,...k,...x,ref:U,style:{outline:"none",...x.style},onKeyDown:rr(x.onKeyDown,re=>{const X=re.target.closest("[data-radix-menu-content]")===re.currentTarget,O=re.ctrlKey||re.altKey||re.metaKey,Y=re.key.length===1;X&&(re.key==="Tab"&&re.preventDefault(),!O&&Y&&se(re.key));const ne=D.current;if(re.target!==ne||!Jre.includes(re.key))return;re.preventDefault();const ue=j().filter(de=>!de.disabled).map(de=>de.ref.current);rM.includes(re.key)&&ue.reverse(),vne(ue)}),onBlur:rr(t.onBlur,re=>{re.currentTarget.contains(re.target)||(window.clearTimeout(z.current),K.current="")}),onPointerMove:rr(t.onPointerMove,Dg(re=>{const pe=re.target,X=$.current!==re.clientX;if(re.currentTarget.contains(pe)&&X){const O=re.clientX>$.current?"right":"left";W.current=O,$.current=re.clientX}}))})})})})})})});lM.displayName=No;var cne="MenuGroup",SC=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return m.jsx(Fr.div,{role:"group",...n,ref:e})});SC.displayName=cne;var une="MenuLabel",cM=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return m.jsx(Fr.div,{...n,ref:e})});cM.displayName=une;var lv="MenuItem",qA="menu.itemSelect",Tx=E.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=E.useRef(null),a=m0(lv,t.__scopeMenu),o=wC(lv,t.__scopeMenu),l=Un(e,s),c=E.useRef(!1),h=()=>{const f=s.current;if(!r&&f){const g=new CustomEvent(qA,{bubbles:!0,cancelable:!0});f.addEventListener(qA,p=>n?.(p),{once:!0}),PL(f,g),g.defaultPrevented?c.current=!1:a.onClose()}};return m.jsx(uM,{...i,ref:l,disabled:r,onClick:rr(t.onClick,h),onPointerDown:f=>{t.onPointerDown?.(f),c.current=!0},onPointerUp:rr(t.onPointerUp,f=>{c.current||f.currentTarget?.click()}),onKeyDown:rr(t.onKeyDown,f=>{const g=o.searchRef.current!=="";r||g&&f.key===" "||E5.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Tx.displayName=lv;var uM=E.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,a=wC(lv,r),o=iM(r),l=E.useRef(null),c=Un(e,l),[h,f]=E.useState(!1),[g,p]=E.useState("");return E.useEffect(()=>{const v=l.current;v&&p((v.textContent??"").trim())},[s.children]),m.jsx(Ig.ItemSlot,{scope:r,disabled:n,textValue:i??g,children:m.jsx(LP,{asChild:!0,...o,focusable:!n,children:m.jsx(Fr.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:c,onPointerMove:rr(t.onPointerMove,Dg(v=>{n?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:rr(t.onPointerLeave,Dg(v=>a.onItemLeave(v))),onFocus:rr(t.onFocus,()=>f(!0)),onBlur:rr(t.onBlur,()=>f(!1))})})})}),hne="MenuCheckboxItem",hM=E.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return m.jsx(gM,{scope:t.__scopeMenu,checked:r,children:m.jsx(Tx,{role:"menuitemcheckbox","aria-checked":cv(r)?"mixed":r,...i,ref:e,"data-state":kC(r),onSelect:rr(i.onSelect,()=>n?.(cv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});hM.displayName=hne;var dM="MenuRadioGroup",[dne,fne]=zd(dM,{value:void 0,onValueChange:()=>{}}),fM=E.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=Zi(n);return m.jsx(dne,{scope:t.__scopeMenu,value:r,onValueChange:s,children:m.jsx(SC,{...i,ref:e})})});fM.displayName=dM;var pM="MenuRadioItem",mM=E.forwardRef((t,e)=>{const{value:r,...n}=t,i=fne(pM,t.__scopeMenu),s=r===i.value;return m.jsx(gM,{scope:t.__scopeMenu,checked:s,children:m.jsx(Tx,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":kC(s),onSelect:rr(n.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});mM.displayName=pM;var CC="MenuItemIndicator",[gM,pne]=zd(CC,{checked:!1}),yM=E.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=pne(CC,r);return m.jsx(Qa,{present:n||cv(s.checked)||s.checked===!0,children:m.jsx(Fr.span,{...i,ref:e,"data-state":kC(s.checked)})})});yM.displayName=CC;var mne="MenuSeparator",vM=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return m.jsx(Fr.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});vM.displayName=mne;var gne="MenuArrow",xM=E.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Nx(r);return m.jsx(ure,{...i,...n,ref:e})});xM.displayName=gne;var yne="MenuSub",[$we,bM]=zd(yne),Km="MenuSubTrigger",wM=E.forwardRef((t,e)=>{const r=Ud(Km,t.__scopeMenu),n=m0(Km,t.__scopeMenu),i=bM(Km,t.__scopeMenu),s=wC(Km,t.__scopeMenu),a=E.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},h=E.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return E.useEffect(()=>h,[h]),E.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),l(null)}},[o,l]),m.jsx(xC,{asChild:!0,...c,children:m.jsx(uM,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":CM(r.open),...t,ref:ax(e,i.onTriggerChange),onClick:f=>{t.onClick?.(f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:rr(t.onPointerMove,Dg(f=>{s.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:rr(t.onPointerLeave,Dg(f=>{h();const g=r.content?.getBoundingClientRect();if(g){const p=r.content?.dataset.side,v=p==="right",x=v?-5:5,b=g[v?"left":"right"],_=g[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:b,y:g.top},{x:_,y:g.top},{x:_,y:g.bottom},{x:b,y:g.bottom}],side:p}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:rr(t.onKeyDown,f=>{const g=s.searchRef.current!=="";t.disabled||g&&f.key===" "||Zre[n.dir].includes(f.key)&&(r.onOpenChange(!0),r.content?.focus(),f.preventDefault())})})})});wM.displayName=Km;var _M="MenuSubContent",SM=E.forwardRef((t,e)=>{const r=aM(No,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=Ud(No,t.__scopeMenu),a=m0(No,t.__scopeMenu),o=bM(_M,t.__scopeMenu),l=E.useRef(null),c=Un(e,l);return m.jsx(Ig.Provider,{scope:t.__scopeMenu,children:m.jsx(Qa,{present:n||s.open,children:m.jsx(Ig.Slot,{scope:t.__scopeMenu,children:m.jsx(_C,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{a.isUsingKeyboardRef.current&&l.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:rr(t.onFocusOutside,h=>{h.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:rr(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:rr(t.onKeyDown,h=>{const f=h.currentTarget.contains(h.target),g=Qre[a.dir].includes(h.key);f&&g&&(s.onOpenChange(!1),o.trigger?.focus(),h.preventDefault())})})})})})});SM.displayName=_M;function CM(t){return t?"open":"closed"}function cv(t){return t==="indeterminate"}function kC(t){return cv(t)?"indeterminate":t?"checked":"unchecked"}function vne(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function xne(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function bne(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let a=xne(t,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==r));const l=a.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function wne(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s].x,l=e[s].y,c=e[a].x,h=e[a].y;l>n!=h>n&&r<(c-o)*(n-l)/(h-l)+o&&(i=!i)}return i}function _ne(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return wne(r,e)}function Dg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Sne=sM,Cne=xC,kne=oM,Nne=lM,Tne=SC,Ane=cM,Ene=Tx,jne=hM,Lne=fM,Pne=mM,Rne=yM,Mne=vM,One=xM,Ine=wM,Dne=SM,NC="DropdownMenu",[Bne]=ic(NC,[nM]),ea=nM(),[Fne,kM]=Bne(NC),NM=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,l=ea(e),c=E.useRef(null),[h=!1,f]=l0({prop:i,defaultProp:s,onChange:a});return m.jsx(Fne,{scope:e,triggerId:bd(),triggerRef:c,contentId:bd(),open:h,onOpenChange:f,onOpenToggle:E.useCallback(()=>f(g=>!g),[f]),modal:o,children:m.jsx(Sne,{...l,open:h,onOpenChange:f,dir:n,modal:o,children:r})})};NM.displayName=NC;var TM="DropdownMenuTrigger",AM=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=kM(TM,r),a=ea(r);return m.jsx(Cne,{asChild:!0,...a,children:m.jsx(Fr.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:ax(e,s.triggerRef),onPointerDown:rr(t.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:rr(t.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});AM.displayName=TM;var $ne="DropdownMenuPortal",EM=t=>{const{__scopeDropdownMenu:e,...r}=t,n=ea(e);return m.jsx(kne,{...n,...r})};EM.displayName=$ne;var jM="DropdownMenuContent",LM=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=kM(jM,r),s=ea(r),a=E.useRef(!1);return m.jsx(Nne,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:rr(t.onCloseAutoFocus,o=>{a.current||i.triggerRef.current?.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:rr(t.onInteractOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,h=l.button===2||c;(!i.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});LM.displayName=jM;var zne="DropdownMenuGroup",Une=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ea(r);return m.jsx(Tne,{...i,...n,ref:e})});Une.displayName=zne;var qne="DropdownMenuLabel",Wne=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ea(r);return m.jsx(Ane,{...i,...n,ref:e})});Wne.displayName=qne;var Vne="DropdownMenuItem",PM=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ea(r);return m.jsx(Ene,{...i,...n,ref:e})});PM.displayName=Vne;var Hne="DropdownMenuCheckboxItem",Gne=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ea(r);return m.jsx(jne,{...i,...n,ref:e})});Gne.displayName=Hne;var Yne="DropdownMenuRadioGroup",Kne=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ea(r);return m.jsx(Lne,{...i,...n,ref:e})});Kne.displayName=Yne;var Xne="DropdownMenuRadioItem",Jne=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ea(r);return m.jsx(Pne,{...i,...n,ref:e})});Jne.displayName=Xne;var Zne="DropdownMenuItemIndicator",Qne=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ea(r);return m.jsx(Rne,{...i,...n,ref:e})});Qne.displayName=Zne;var eie="DropdownMenuSeparator",tie=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ea(r);return m.jsx(Mne,{...i,...n,ref:e})});tie.displayName=eie;var rie="DropdownMenuArrow",nie=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ea(r);return m.jsx(One,{...i,...n,ref:e})});nie.displayName=rie;var iie="DropdownMenuSubTrigger",sie=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ea(r);return m.jsx(Ine,{...i,...n,ref:e})});sie.displayName=iie;var aie="DropdownMenuSubContent",oie=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ea(r);return m.jsx(Dne,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});oie.displayName=aie;var lie=NM,cie=AM,uie=EM,hie=LM,die=PM;function fie({...t}){return m.jsx(lie,{"data-slot":"dropdown-menu",...t})}function pie({...t}){return m.jsx(cie,{"data-slot":"dropdown-menu-trigger",...t})}function mie({className:t,sideOffset:e=4,...r}){return m.jsx(uie,{children:m.jsx(hie,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Pr("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function Oy({className:t,inset:e,variant:r="default",...n}){return m.jsx(die,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":r,className:Pr("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function gie(){const[t,e]=E.useState([]),[r,n]=E.useState(!1),[i,s]=E.useState(null),[a,o]=E.useState(""),[l,c]=E.useState(""),[h,f]=E.useState(""),[g,p]=E.useState(""),[v,x]=E.useState([]),[b,_]=E.useState([]),[k,N]=E.useState(""),[j,P]=E.useState(!1);E.useEffect(()=>{e([{id:1,name:"Equipo de Desarrollo",description:"Grupo para coordinar tareas de desarrollo",members:5,tasks:12,created_at:"2024-01-15T10:30:00Z",lastActivity:"2024-10-18T14:30:00Z"},{id:2,name:"Proyecto Marketing",description:"Campaas y estrategias de marketing",members:3,tasks:8,created_at:"2024-02-20T09:15:00Z",lastActivity:"2024-10-17T16:45:00Z"},{id:3,name:"Estudio y Aprendizaje",description:"Grupo para compartir recursos de estudio",members:7,tasks:15,created_at:"2024-03-10T11:00:00Z",lastActivity:"2024-10-18T12:20:00Z"}]),x([{id:1,name:"Mara Garca",email:"maria@universidad.edu",course:"Matemticas III"},{id:2,name:"Juan Prez",email:"juan@universidad.edu",course:"Matemticas III"},{id:3,name:"Ana Lpez",email:"ana@universidad.edu",course:"Matemticas III"},{id:4,name:"Carlos Rodrguez",email:"carlos@universidad.edu",course:"Fsica II"},{id:5,name:"Laura Martnez",email:"laura@universidad.edu",course:"Fsica II"},{id:6,name:"Pedro Snchez",email:"pedro@universidad.edu",course:"Literatura Espaola"}])},[]);const F=W=>{b.find($=>$.id===W.id)||_([...b,W]),N(""),P(!1)},D=W=>{_(b.filter($=>$.id!==W))},U=()=>{if(!l.trim()){alert("Por favor ingresa un nombre para el grupo");return}if(!g){alert("Por favor selecciona un curso");return}console.log("[v0] Creating group:",{name:l,description:h,course:g,members:b.map(W=>W.id)}),alert(`Grupo "${l}" creado con ${b.length} miembros`),n(!1),c(""),f(""),p(""),_([]),N("")},z=W=>{alert(`Unirse al grupo ${W} prximamente`)},K=t.filter(W=>W.name.toLowerCase().includes(a.toLowerCase())||W.description.toLowerCase().includes(a.toLowerCase())),q=(g?v.filter(W=>W.course===g):[]).filter(W=>W.name.toLowerCase().includes(k.toLowerCase())&&!b.find($=>$.id===W.id));return m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsx("div",{className:"max-w-7xl mx-auto",children:m.jsx("div",{className:"bg-card rounded-xl shadow-sm p-6 border border-border",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:m.jsx(Ff,{className:"w-6 h-6 text-primary"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Mis Grupos"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Colabora con tu equipo"})]})]}),m.jsxs("button",{onClick:()=>n(!0),className:"bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors flex items-center gap-2 font-medium",children:[m.jsx(Xs,{className:"w-5 h-5"}),"Nuevo Grupo"]})]})})}),m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsx("div",{className:"mb-6",children:m.jsxs("div",{className:"relative",children:[m.jsx(dS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),m.jsx("input",{type:"text",placeholder:"Buscar grupos...",value:a,onChange:W=>o(W.target.value),className:"w-full pl-10 pr-4 py-3 bg-card border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-foreground placeholder:text-muted-foreground"})]})}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:K.map(W=>m.jsx("div",{className:"bg-card rounded-xl shadow-sm hover:shadow-md transition-shadow cursor-pointer border border-border",onClick:()=>s(W),children:m.jsxs("div",{className:"p-6",children:[m.jsx("div",{className:"flex items-start justify-between mb-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:m.jsx(Ff,{className:"w-6 h-6 text-primary"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-foreground",children:W.name}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:[W.members," miembros"]})]})]})}),m.jsx("p",{className:"text-muted-foreground text-sm mb-4 line-clamp-2",children:W.description}),m.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4 pb-4 border-b border-border",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(Td,{className:"w-4 h-4"}),m.jsxs("span",{children:[W.tasks," tareas"]})]}),m.jsxs("span",{className:"text-xs",children:["Activo ",new Date(W.lastActivity).toLocaleDateString("es-ES")]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:$=>{$.stopPropagation(),z(W.id)},className:"flex-1 bg-primary text-primary-foreground px-4 py-2 rounded-lg text-sm font-medium hover:bg-primary/90 transition-colors",children:"Unirse"}),m.jsx("button",{onClick:$=>{$.stopPropagation(),s(W)},className:"px-4 py-2 border border-border text-foreground rounded-lg text-sm font-medium hover:bg-muted transition-colors",children:"Ver"})]})]})},W.id))}),K.length===0&&m.jsxs("div",{className:"text-center py-16 bg-card rounded-xl shadow-sm border border-border",children:[m.jsx(Ff,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),m.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No hay grupos"}),m.jsx("p",{className:"text-muted-foreground mb-6",children:a?"No se encontraron grupos con ese criterio":"Crea tu primer grupo para comenzar a colaborar"}),!a&&m.jsxs("button",{onClick:()=>n(!0),className:"bg-primary text-primary-foreground px-6 py-2 rounded-lg hover:bg-primary/90 transition-colors inline-flex items-center gap-2 font-medium",children:[m.jsx(Xs,{className:"w-5 h-5"}),"Crear Grupo"]})]}),r&&m.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:m.jsx("div",{className:"bg-card rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-border",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Crear Nuevo Grupo"}),m.jsx("button",{onClick:()=>n(!1),className:"text-muted-foreground hover:text-foreground transition-colors",children:m.jsx(Yl,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"space-y-5",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Nombre del Grupo"}),m.jsx("input",{type:"text",value:l,onChange:W=>c(W.target.value),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent bg-background text-foreground placeholder:text-muted-foreground",placeholder:"Ingresa el nombre del grupo"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Descripcin"}),m.jsx("textarea",{rows:3,value:h,onChange:W=>f(W.target.value),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none bg-background text-foreground placeholder:text-muted-foreground",placeholder:"Describe el propsito del grupo"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Curso"}),m.jsxs(fie,{children:[m.jsx(pie,{asChild:!0,children:m.jsxs(et,{variant:"outline",className:"w-full justify-between bg-background hover:bg-muted border-border text-foreground",children:[m.jsx("span",{className:"text-sm",children:g||"Selecciona un curso"}),m.jsx(uL,{size:16,className:"ml-2 text-muted-foreground"})]})}),m.jsxs(mie,{align:"start",className:"w-full min-w-[400px]",children:[m.jsx(Oy,{onClick:()=>{p(""),_([])},className:g?"":"bg-primary/10 text-primary",children:"Selecciona un curso"}),m.jsx(Oy,{onClick:()=>{p("Matemticas III"),_([])},className:g==="Matemticas III"?"bg-primary/10 text-primary":"",children:"Matemticas III"}),m.jsx(Oy,{onClick:()=>{p("Fsica II"),_([])},className:g==="Fsica II"?"bg-primary/10 text-primary":"",children:"Fsica II"}),m.jsx(Oy,{onClick:()=>{p("Literatura Espaola"),_([])},className:g==="Literatura Espaola"?"bg-primary/10 text-primary":"",children:"Literatura Espaola"})]})]})]}),g&&m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Aadir Integrantes (",b.length," seleccionados)"]}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",value:k,onChange:W=>{N(W.target.value),P(!0)},onFocus:()=>P(!0),placeholder:"Escribe el nombre del estudiante...",className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent bg-background text-foreground placeholder:text-muted-foreground"}),j&&k&&q.length>0&&m.jsx("div",{className:"absolute z-10 w-full mt-1 bg-card border border-border rounded-lg shadow-lg max-h-48 overflow-y-auto",children:q.map(W=>m.jsxs("div",{onClick:()=>F(W),className:"px-4 py-2 hover:bg-primary/10 cursor-pointer transition-colors border-b border-border last:border-b-0",children:[m.jsx("div",{className:"text-sm font-medium text-foreground",children:W.name}),m.jsx("div",{className:"text-xs text-muted-foreground",children:W.email})]},W.id))})]}),b.length>0&&m.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:b.map(W=>m.jsxs("div",{className:"flex items-center gap-2 bg-primary/10 text-primary px-3 py-1 rounded-full text-sm",children:[m.jsx("span",{children:W.name}),m.jsx("button",{onClick:()=>D(W.id),className:"hover:bg-primary/20 rounded-full p-0.5 transition-colors",children:m.jsx(Yl,{className:"w-3 h-3"})})]},W.id))}),k&&q.length===0&&m.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"No se encontraron estudiantes"})]})]}),m.jsxs("div",{className:"flex gap-3 mt-6",children:[m.jsx("button",{onClick:()=>{n(!1),c(""),f(""),p(""),_([]),N("")},className:"flex-1 px-4 py-2 text-sm font-medium text-foreground bg-muted border border-border rounded-lg hover:bg-muted/80 transition-colors",children:"Cancelar"}),m.jsx("button",{onClick:U,className:"flex-1 px-4 py-2 text-sm font-medium text-primary-foreground bg-primary rounded-lg hover:bg-primary/90 transition-colors",children:"Crear Grupo"})]})]})})}),i&&m.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:m.jsx("div",{className:"bg-card rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto border border-border",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:m.jsx(Ff,{className:"w-6 h-6 text-primary"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold text-foreground",children:i.name}),m.jsx("p",{className:"text-muted-foreground text-sm",children:i.description})]})]}),m.jsx("button",{onClick:()=>s(null),className:"text-muted-foreground hover:text-foreground transition-colors",children:m.jsx(Yl,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[m.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg",children:[m.jsx("div",{className:"text-2xl font-bold text-primary",children:i.members}),m.jsx("div",{className:"text-sm text-primary font-medium",children:"Miembros"})]}),m.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[m.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.tasks}),m.jsx("div",{className:"text-sm text-blue-700 font-medium",children:"Tareas"})]}),m.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[m.jsx("div",{className:"text-lg font-bold text-purple-600",children:new Date(i.created_at).toLocaleDateString("es-ES")}),m.jsx("div",{className:"text-sm text-purple-700 font-medium",children:"Creado"})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-bold text-foreground mb-4",children:"Funcionalidades del Grupo"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-100",children:[m.jsx(RV,{className:"w-6 h-6 text-blue-600 mb-2"}),m.jsx("h5",{className:"font-semibold text-foreground mb-1",children:"Chat del Grupo"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Comunicacin en tiempo real con los miembros"})]}),m.jsxs("div",{className:"p-4 bg-primary/10 rounded-lg border border-primary/20",children:[m.jsx(Td,{className:"w-6 h-6 text-primary mb-2"}),m.jsx("h5",{className:"font-semibold text-foreground mb-1",children:"Tareas Compartidas"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Asigna y sigue tareas del equipo"})]}),m.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-100",children:[m.jsx(Ta,{className:"w-6 h-6 text-purple-600 mb-2"}),m.jsx("h5",{className:"font-semibold text-foreground mb-1",children:"Calendario Compartido"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Coordina eventos y reuniones"})]}),m.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-100",children:[m.jsx(Ff,{className:"w-6 h-6 text-orange-600 mb-2"}),m.jsx("h5",{className:"font-semibold text-foreground mb-1",children:"Gestin de Miembros"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Invita y administra miembros del grupo"})]})]})]}),m.jsxs("div",{className:"mt-6 flex gap-3",children:[m.jsx("button",{onClick:()=>z(i.id),className:"flex-1 bg-primary text-primary-foreground px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors font-medium",children:"Unirse al Grupo"}),m.jsx("button",{onClick:()=>s(null),className:"px-6 py-3 border border-border text-foreground rounded-lg hover:bg-muted transition-colors font-medium",children:"Cerrar"})]})]})})})]})]})}function yie(t){const e=E.useRef({value:t,previous:t});return E.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var TC="Switch",[vie]=ic(TC),[xie,bie]=vie(TC),RM=E.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:c,form:h,...f}=t,[g,p]=E.useState(null),v=Un(e,N=>p(N)),x=E.useRef(!1),b=g?h||!!g.closest("form"):!0,[_=!1,k]=l0({prop:i,defaultProp:s,onChange:c});return m.jsxs(xie,{scope:r,checked:_,disabled:o,children:[m.jsx(Fr.button,{type:"button",role:"switch","aria-checked":_,"aria-required":a,"data-state":IM(_),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:v,onClick:rr(t.onClick,N=>{k(j=>!j),b&&(x.current=N.isPropagationStopped(),x.current||N.stopPropagation())})}),b&&m.jsx(wie,{control:g,bubbles:!x.current,name:n,value:l,checked:_,required:a,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});RM.displayName=TC;var MM="SwitchThumb",OM=E.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=bie(MM,r);return m.jsx(Fr.span,{"data-state":IM(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});OM.displayName=MM;var wie=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,s=E.useRef(null),a=yie(r),o=D8(e);return E.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(a!==r&&f){const g=new Event("click",{bubbles:n});f.call(l,r),l.dispatchEvent(g)}},[a,r,n]),m.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function IM(t){return t?"checked":"unchecked"}var _ie=RM,Sie=OM;function WA({className:t,...e}){return m.jsx(_ie,{"data-slot":"switch",className:Pr("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:m.jsx(Sie,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}var AC="Dialog",[DM]=ic(AC),[Cie,vl]=DM(AC),BM=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,o=E.useRef(null),l=E.useRef(null),[c=!1,h]=l0({prop:n,defaultProp:i,onChange:s});return m.jsx(Cie,{scope:e,triggerRef:o,contentRef:l,contentId:bd(),titleId:bd(),descriptionId:bd(),open:c,onOpenChange:h,onOpenToggle:E.useCallback(()=>h(f=>!f),[h]),modal:a,children:r})};BM.displayName=AC;var FM="DialogTrigger",$M=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=vl(FM,r),s=Un(e,i.triggerRef);return m.jsx(Fr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":LC(i.open),...n,ref:s,onClick:rr(t.onClick,i.onOpenToggle)})});$M.displayName=FM;var EC="DialogPortal",[kie,zM]=DM(EC,{forceMount:void 0}),UM=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=vl(EC,e);return m.jsx(kie,{scope:e,forceMount:r,children:E.Children.map(n,a=>m.jsx(Qa,{present:r||s.open,children:m.jsx(yC,{asChild:!0,container:i,children:a})}))})};UM.displayName=EC;var uv="DialogOverlay",qM=E.forwardRef((t,e)=>{const r=zM(uv,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=vl(uv,t.__scopeDialog);return s.modal?m.jsx(Qa,{present:n||s.open,children:m.jsx(Nie,{...i,ref:e})}):null});qM.displayName=uv;var Nie=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=vl(uv,r);return m.jsx(vC,{as:nu,allowPinchZoom:!0,shards:[i.contentRef],children:m.jsx(Fr.div,{"data-state":LC(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),jd="DialogContent",WM=E.forwardRef((t,e)=>{const r=zM(jd,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=vl(jd,t.__scopeDialog);return m.jsx(Qa,{present:n||s.open,children:s.modal?m.jsx(Tie,{...i,ref:e}):m.jsx(Aie,{...i,ref:e})})});WM.displayName=jd;var Tie=E.forwardRef((t,e)=>{const r=vl(jd,t.__scopeDialog),n=E.useRef(null),i=Un(e,r.contentRef,n);return E.useEffect(()=>{const s=n.current;if(s)return K8(s)},[]),m.jsx(VM,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rr(t.onCloseAutoFocus,s=>{s.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:rr(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:rr(t.onFocusOutside,s=>s.preventDefault())})}),Aie=E.forwardRef((t,e)=>{const r=vl(jd,t.__scopeDialog),n=E.useRef(!1),i=E.useRef(!1);return m.jsx(VM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;r.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),VM=E.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,o=vl(jd,r),l=E.useRef(null),c=Un(e,l);return S8(),m.jsxs(m.Fragment,{children:[m.jsx(lC,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:m.jsx(oC,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":LC(o.open),...a,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(Eie,{titleId:o.titleId}),m.jsx(Lie,{contentRef:l,descriptionId:o.descriptionId})]})]})}),jC="DialogTitle",HM=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=vl(jC,r);return m.jsx(Fr.h2,{id:i.titleId,...n,ref:e})});HM.displayName=jC;var GM="DialogDescription",YM=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=vl(GM,r);return m.jsx(Fr.p,{id:i.descriptionId,...n,ref:e})});YM.displayName=GM;var KM="DialogClose",XM=E.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=vl(KM,r);return m.jsx(Fr.button,{type:"button",...n,ref:e,onClick:rr(t.onClick,()=>i.onOpenChange(!1))})});XM.displayName=KM;function LC(t){return t?"open":"closed"}var JM="DialogTitleWarning",[zwe,ZM]=PH(JM,{contentName:jd,titleName:jC,docsSlug:"dialog"}),Eie=({titleId:t})=>{const e=ZM(JM),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},jie="DialogDescriptionWarning",Lie=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ZM(jie).contentName}}.`;return E.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},Pie=BM,Rie=$M,Mie=UM,QM=qM,eO=WM,tO=HM,rO=YM,Oie=XM;const g0=Pie,Iie=Rie,Die=Mie,nO=E.forwardRef(({className:t,...e},r)=>m.jsx(QM,{ref:r,className:Pr("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));nO.displayName=QM.displayName;const Wp=E.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(Die,{children:[m.jsx(nO,{}),m.jsxs(eO,{ref:n,className:Pr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,m.jsxs(Oie,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(Yl,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wp.displayName=eO.displayName;const Vp=({className:t,...e})=>m.jsx("div",{className:Pr("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Vp.displayName="DialogHeader";const y0=({className:t,...e})=>m.jsx("div",{className:Pr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});y0.displayName="DialogFooter";const Hp=E.forwardRef(({className:t,...e},r)=>m.jsx(tO,{ref:r,className:Pr("text-lg font-semibold leading-none tracking-tight",t),...e}));Hp.displayName=tO.displayName;const Gp=E.forwardRef(({className:t,...e},r)=>m.jsx(rO,{ref:r,className:Pr("text-sm text-muted-foreground",t),...e}));Gp.displayName=rO.displayName;function Bie(){const t=["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],e=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],r=new Date;return`${t[r.getDay()]}, ${r.getDate()} de ${e[r.getMonth()]} de ${r.getFullYear()}`}function Iy({icon:t,label:e,active:r=!1,onClick:n}){const{darkMode:i}=n0();return m.jsxs("button",{onClick:n,className:`w-full flex items-center justify-between px-4 py-3 rounded-xl transition-colors ${r?"bg-green-50 text-green-600":i?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50"}`,type:"button",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("span",{className:r?"text-green-600":i?"text-gray-400":"text-gray-500",children:t}),m.jsx("span",{className:"font-medium text-sm",children:e})]}),m.jsx(Nd,{size:16,className:"text-gray-400"})]})}function Fie(){const{darkMode:t,toggleTheme:e,compactView:r,setCompactView:n,fontSize:i,changeFontSize:s}=n0(),{user:a}=nc(),[o,l]=E.useState("perfil"),[c,h]=E.useState(null),[f,g]=E.useState(!0),[p,v]=E.useState(!1),[x,b]=E.useState(""),[_,k]=E.useState(!1),[N,j]=E.useState(!1),[P,F]=E.useState(!1),[D,U]=E.useState(1),[z,K]=E.useState(10),[B,q]=E.useState(!1),[W,$]=E.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[Q,ee]=E.useState({firstName:"",lastName:"",email:"",career:"",bio:""});E.useEffect(()=>{Y()},[]),E.useEffect(()=>{let ue;return B&&z>0?ue=setInterval(()=>{K(de=>de-1)},1e3):z===0&&q(!1),()=>clearInterval(ue)},[B,z]);const se=async()=>{v(!0);try{const{data:ue,error:de}=await Ya.auth.getSession();if(de||!ue?.session?.access_token){console.error("No valid session found:",de),Dr.error("Sesin expirada. Por favor, inicia sesin nuevamente.");return}const be=ue.session.access_token,Se=`${Q.firstName} ${Q.lastName}`.trim(),ke={name:Se,carrer:Q.career,bio:Q.bio};console.log("Updating profile:",ke);const De=ue.session.user.id,Ye=await fetch(`/api/users/${De}`,{method:"PUT",headers:{Authorization:`Bearer ${be}`,"Content-Type":"application/json"},body:JSON.stringify(ke)});if(Ye.ok){const We=await Ye.json();console.log("Profile updated successfully:",We),h(nt=>({...nt,firstName:Q.firstName,lastName:Q.lastName,name:Se,carrer:Q.career,bio:Q.bio})),Dr.success("Perfil actualizado exitosamente")}else{const We=await Ye.json();console.error("Failed to update profile:",Ye.status,We),Dr.error(`Error al actualizar perfil: ${We.message||"Error desconocido"}`)}}catch(ue){console.error("Error updating profile:",ue),Dr.error("Error al actualizar el perfil")}finally{v(!1)}},V=async()=>{if(!W.currentPassword||!W.newPassword||!W.confirmPassword){Dr.error("Todos los campos de contrasea son obligatorios");return}if(W.newPassword!==W.confirmPassword){Dr.error("Las contraseas nuevas no coinciden");return}if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/.test(W.newPassword)){Dr.error("La contrasea debe tener al menos 8 caracteres, una mayscula, una minscula y un nmero");return}k(!0);try{const{error:de}=await Ya.auth.updateUser({password:W.newPassword});if(de){console.error("Error changing password:",de),Dr.error(`Error al cambiar contrasea: ${de.message}`);return}$({currentPassword:"",newPassword:"",confirmPassword:""}),Dr.success("Contrasea cambiada exitosamente")}catch(de){console.error("Error changing password:",de),Dr.error("Error al cambiar contrasea")}finally{k(!1)}},re=()=>{F(!0),U(1)},pe=()=>{D===1?(U(2),K(10),q(!0)):D===2&&z===0&&X()},X=async()=>{j(!0),q(!1);try{const{data:ue,error:de}=await Ya.auth.getSession();if(de||!ue?.session?.access_token){console.error("No valid session found:",de),Dr.error("Sesin expirada. Por favor, inicia sesin nuevamente."),F(!1);return}const be=ue.session.access_token,Se=await fetch("/api/users/account",{method:"DELETE",headers:{Authorization:`Bearer ${be}`,"Content-Type":"application/json"}});if(Se.ok){const ke=await Se.json();console.log("Account deleted successfully:",ke),Dr.success("Cuenta eliminada exitosamente. Redirigiendo..."),await Ya.auth.signOut(),setTimeout(()=>{window.location.href="/"},2e3)}else{const ke=await Se.json();console.error("Failed to delete account:",Se.status,ke),Dr.error(`Error al eliminar cuenta: ${ke.message||"Error desconocido"}`),F(!1)}}catch(ue){console.error("Error deleting account:",ue),Dr.error("Error de conexin al eliminar cuenta"),F(!1)}finally{j(!1)}},O=()=>{F(!1),U(1),K(10),q(!1)},Y=async()=>{b(""),g(!0);try{console.log("Fetching user profile from settings...");const{data:ue,error:de}=await Ya.auth.getSession();if(de||!ue?.session?.access_token){console.error("No valid session found:",de),b("Sesin no vlida. Por favor, inicia sesin nuevamente."),g(!1);return}const be=ue.session.access_token;console.log("Using token:",be.substring(0,20)+"...");const Se=await fetch("/api/users/profile",{method:"GET",headers:{Authorization:`Bearer ${be}`,"Content-Type":"application/json"}});if(console.log("Response status:",Se.status),Se.ok){const ke=await Se.json();if(console.log("Raw response:",ke),ke.success&&ke.data){const De=ke.data;console.log("User object:",De);const Ye=De.name?De.name.split(" "):["",""],We=Ye[0]||"",nt=Ye.slice(1).join(" ")||"",le={...De,firstName:We,lastName:nt,fullName:De.name,createdAt:De.createdAt||De.created_at};console.log("Setting user data:",le),h(le),ee({firstName:We,lastName:nt,email:De.email||"",career:De.carrer||"",bio:De.bio||""})}else console.error("No success or no data in response:",ke),b("No se pudieron cargar los datos del perfil")}else{const ke=await Se.text();console.error("Failed to fetch user profile:",Se.status,ke),b(`Error al cargar perfil: ${Se.status}`)}}catch(ue){console.error("Error fetching user profile:",ue),b("Error de conexin al cargar perfil")}finally{g(!1)}},[ne,oe]=E.useState(!1);return m.jsx("div",{className:`${t?"bg-gray-900":"bg-[#F6F7FB]"}`,children:m.jsxs("div",{className:`max-w-7xl mx-auto ${r?"p-4":"p-8"} ${r?"pb-24":"pb-8"}`,children:[m.jsx("header",{className:`sticky top-0 ${t?"bg-gray-800":"bg-white"} rounded-xl shadow-sm ${r?"p-4":"p-6"} mb-6 z-10 animate-in slide-in-from-top duration-300`,children:m.jsx("div",{className:"flex justify-between items-center",children:m.jsxs("div",{children:[m.jsx("h1",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:" Configuracin"}),m.jsx("p",{className:`${t?"text-gray-400":"text-gray-600"} mt-1`,children:Bie()})]})})}),m.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-3 ${r?"gap-4":"gap-6"}`,children:[m.jsx("div",{className:"lg:col-span-1 animate-in slide-in-from-left duration-500",children:m.jsx(Or,{className:`${r?"p-3":"p-4"} ${t?"bg-gray-800 border-gray-700":"bg-white"} rounded-xl shadow-sm`,children:m.jsxs("nav",{className:r?"space-y-1":"space-y-2",children:[m.jsx(Iy,{icon:m.jsx(ud,{size:18}),label:"Perfil",active:o==="perfil",onClick:()=>l("perfil")}),m.jsx(Iy,{icon:m.jsx(EV,{size:18}),label:"Seguridad",active:o==="seguridad",onClick:()=>l("seguridad")}),m.jsx(Iy,{icon:m.jsx(OV,{size:18}),label:"Apariencia",active:o==="apariencia",onClick:()=>l("apariencia")}),m.jsx(Iy,{icon:m.jsx(FV,{size:18}),label:"Privacidad",active:o==="privacidad",onClick:()=>l("privacidad")})]})})}),m.jsxs("div",{className:`lg:col-span-2 ${r?"space-y-4":"space-y-6"} animate-in fade-in slide-in-from-right duration-500`,children:[o==="perfil"&&m.jsxs(Or,{className:`${r?"p-4":"p-6"} ${t?"bg-gray-800 border-gray-700":"bg-white"} rounded-xl shadow-sm`,children:[m.jsx("h2",{className:`text-xl font-semibold ${t?"text-white":"text-gray-900"} ${r?"mb-4":"mb-6"}`,children:"Informacin Personal"}),f?m.jsx("div",{className:"text-center py-8",children:m.jsx("div",{className:"text-xl",children:"Cargando informacin del perfil..."})}):x?m.jsxs("div",{className:"text-center py-8",children:[m.jsxs("div",{className:"text-red-600 text-lg mb-4",children:["Error: ",x]}),m.jsx(et,{onClick:Y,variant:"outline",children:"Reintentar"})]}):m.jsxs("div",{className:r?"space-y-3":"space-y-4",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("div",{className:`${r?"w-16 h-16":"w-20 h-20"} rounded-full overflow-hidden bg-green-600 flex items-center justify-center`,children:m.jsx("span",{className:`text-white ${r?"text-xl":"text-2xl"} font-semibold`,children:"MG"})}),m.jsx("div",{children:m.jsx(et,{variant:"outline",size:"sm",children:"Cambiar Foto"})})]}),m.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 ${r?"gap-3":"gap-4"}`,children:[m.jsxs("div",{children:[m.jsx(fn,{htmlFor:"nombre",className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:"Nombre"}),m.jsx("input",{id:"nombre",type:"text",value:Q.firstName,onChange:ue=>ee(de=>({...de,firstName:ue.target.value})),placeholder:"Tu nombre",className:`mt-1 w-full px-3 ${r?"py-1.5":"py-2"} border ${t?"bg-gray-700 border-gray-600 text-white":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600`})]}),m.jsxs("div",{children:[m.jsx(fn,{htmlFor:"apellido",className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:"Apellido"}),m.jsx("input",{id:"apellido",type:"text",value:Q.lastName,onChange:ue=>ee(de=>({...de,lastName:ue.target.value})),placeholder:"Tu apellido",className:`mt-1 w-full px-3 ${r?"py-1.5":"py-2"} border ${t?"bg-gray-700 border-gray-600 text-white":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600`})]})]}),m.jsxs("div",{children:[m.jsx(fn,{htmlFor:"email",className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:"Email"}),m.jsx("input",{id:"email",type:"email",value:Q.email,disabled:!0,className:`mt-1 w-full px-3 ${r?"py-1.5":"py-2"} border ${t?"bg-gray-700 border-gray-600 text-white":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600 opacity-60 cursor-not-allowed`})]}),m.jsxs("div",{children:[m.jsx(fn,{htmlFor:"carrera",className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:"Carrera"}),m.jsx("input",{id:"carrera",type:"text",value:Q.career,onChange:ue=>ee(de=>({...de,career:ue.target.value})),placeholder:"Ej: Ingeniera de Sistemas",className:`mt-1 w-full px-3 ${r?"py-1.5":"py-2"} border ${t?"bg-gray-700 border-gray-600 text-white":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600`})]}),m.jsxs("div",{children:[m.jsx(fn,{htmlFor:"bio",className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:"Biografa"}),m.jsx("textarea",{id:"bio",rows:3,value:Q.bio,onChange:ue=>ee(de=>({...de,bio:ue.target.value})),placeholder:"Cuntanos un poco sobre ti...",className:`mt-1 w-full px-3 ${r?"py-1.5":"py-2"} border ${t?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600`})]}),m.jsx("div",{className:r?"mt-4":"mt-6",children:m.jsx(et,{onClick:se,disabled:p,className:"bg-green-600 hover:bg-green-700 disabled:opacity-50",children:p?"Guardando...":"Guardar Cambios"})}),c?.createdAt&&m.jsxs("div",{className:`mt-6 text-center ${r?"py-3":"py-4"}`,children:[m.jsxs("div",{className:`inline-flex items-center gap-3 px-6 py-3 rounded-full border-2 ${t?"bg-gradient-to-r from-green-900/20 to-blue-900/20 border-green-600/30":"bg-gradient-to-r from-green-50 to-blue-50 border-green-200"} backdrop-blur-sm`,children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`w-2 h-2 rounded-full ${t?"bg-green-400":"bg-green-500"} animate-pulse`}),m.jsx("span",{className:`text-sm font-medium ${t?"text-green-300":"text-green-700"}`,children:"Miembro desde"})]}),m.jsx("div",{className:`px-3 py-1 rounded-lg ${t?"bg-gray-800/50":"bg-white/70"} border border-green-200/50`,children:m.jsx("span",{className:`font-bold ${t?"text-white":"text-gray-800"}`,children:new Date(c.createdAt).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})})}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:`text-sm font-medium ${t?"text-blue-300":"text-blue-700"}`,children:""}),m.jsx("div",{className:`w-2 h-2 rounded-full ${t?"bg-blue-400":"bg-blue-500"} animate-pulse`})]})]}),m.jsx("p",{className:`text-xs mt-2 ${t?"text-gray-400":"text-gray-500"}`,children:"Gracias por ser parte de Captus!"})]})]})]}),o==="seguridad"&&m.jsxs(Or,{className:`${r?"p-4":"p-6"} ${t?"bg-gray-800 border-gray-700":"bg-white"} rounded-xl shadow-sm`,children:[m.jsx("h2",{className:`text-xl font-semibold ${t?"text-white":"text-gray-900"} ${r?"mb-4":"mb-6"}`,children:"Cambiar Contrasea"}),m.jsxs("div",{className:r?"space-y-3":"space-y-4",children:[m.jsxs("div",{children:[m.jsx(fn,{htmlFor:"current-password",className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:"Contrasea Actual"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{id:"current-password",type:ne?"text":"password",value:W.currentPassword,onChange:ue=>$(de=>({...de,currentPassword:ue.target.value})),placeholder:"Ingresa tu contrasea actual",className:`mt-1 w-full px-3 ${r?"py-1.5":"py-2"} pr-10 border ${t?"bg-gray-700 border-gray-600 text-white":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600`}),m.jsx("button",{type:"button",onClick:()=>oe(!ne),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:ne?m.jsx(fL,{size:18}):m.jsx(pL,{size:18})})]})]}),m.jsxs("div",{children:[m.jsx(fn,{htmlFor:"new-password",className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:"Nueva Contrasea"}),m.jsx("input",{id:"new-password",type:"password",value:W.newPassword,onChange:ue=>$(de=>({...de,newPassword:ue.target.value})),placeholder:"Ingresa tu nueva contrasea",className:`mt-1 w-full px-3 ${r?"py-1.5":"py-2"} border ${t?"bg-gray-700 border-gray-600 text-white":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600`})]}),m.jsxs("div",{children:[m.jsx(fn,{htmlFor:"confirm-password",className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:"Confirmar Nueva Contrasea"}),m.jsx("input",{id:"confirm-password",type:"password",value:W.confirmPassword,onChange:ue=>$(de=>({...de,confirmPassword:ue.target.value})),placeholder:"Confirma tu nueva contrasea",className:`mt-1 w-full px-3 ${r?"py-1.5":"py-2"} border ${t?"bg-gray-700 border-gray-600 text-white":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600`})]}),m.jsx("div",{className:`p-3 ${t?"bg-blue-900/20 border-blue-600/30":"bg-blue-50 border-blue-200"} border rounded-lg`,children:m.jsxs("p",{className:`text-sm ${t?"text-blue-300":"text-blue-700"}`,children:[m.jsx("strong",{children:"Requisitos de contrasea:"})," Mnimo 8 caracteres, una mayscula, una minscula y un nmero."]})})]}),m.jsx("div",{className:r?"mt-4":"mt-6",children:m.jsx(et,{onClick:V,disabled:_,className:"bg-green-600 hover:bg-green-700 disabled:opacity-50",children:_?"Cambiando...":"Actualizar Contrasea"})})]}),o==="apariencia"&&m.jsxs(Or,{className:`${r?"p-4":"p-6"} ${t?"bg-gray-800 border-gray-700":"bg-white"} rounded-xl shadow-sm`,children:[m.jsx("h2",{className:`text-xl font-semibold ${t?"text-white":"text-gray-900"} ${r?"mb-4":"mb-6"}`,children:"Personalizacin de la Interfaz"}),m.jsxs("div",{className:r?"space-y-3":"space-y-4",children:[m.jsxs("div",{className:`flex items-center justify-between ${r?"py-2":"py-3"} border-b ${t?"border-gray-700":"border-gray-100"}`,children:[m.jsxs("div",{children:[m.jsx("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"Modo oscuro"}),m.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"Activa el tema oscuro en toda la aplicacin"})]}),m.jsx(WA,{checked:t,onCheckedChange:e})]}),m.jsxs("div",{className:`flex items-center justify-between ${r?"py-2":"py-3"} border-b ${t?"border-gray-700":"border-gray-100"}`,children:[m.jsxs("div",{children:[m.jsx("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"Vista compacta"}),m.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"Reduce el espaciado entre elementos"})]}),m.jsx(WA,{checked:r,onCheckedChange:n})]}),m.jsxs("div",{className:r?"py-2":"py-3",children:[m.jsx(fn,{className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"} mb-3 block`,children:"Tamao de fuente"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(et,{variant:i==="small"?"default":"outline",size:"sm",onClick:()=>s("small"),className:i==="small"?"bg-green-600 hover:bg-green-700":"",children:"Pequea"}),m.jsx(et,{variant:i==="medium"?"default":"outline",size:"sm",onClick:()=>s("medium"),className:i==="medium"?"bg-green-600 hover:bg-green-700":"",children:"Media"}),m.jsx(et,{variant:i==="large"?"default":"outline",size:"sm",onClick:()=>s("large"),className:i==="large"?"bg-green-600 hover:bg-green-700":"",children:"Grande"})]})]})]})]}),o==="privacidad"&&m.jsxs(Or,{className:`${r?"p-4":"p-6"} ${t?"bg-gray-800 border-gray-700":"bg-white"} rounded-xl shadow-sm`,children:[m.jsx("h2",{className:`text-xl font-semibold ${t?"text-white":"text-gray-900"} ${r?"mb-4":"mb-6"}`,children:"Gestin de Datos"}),m.jsx("div",{className:r?"space-y-2":"space-y-3",children:m.jsx(et,{variant:"outline",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",onClick:re,disabled:N,children:N?"Eliminando cuenta...":"Eliminar mi cuenta"})}),m.jsx("div",{className:`${r?"mt-3":"mt-4"} p-3 ${t?"bg-red-900/20 border-red-600/30":"bg-red-50 border-red-200"} border rounded-lg`,children:m.jsxs("p",{className:`text-sm ${t?"text-red-300":"text-red-700"}`,children:[" ",m.jsx("strong",{children:"Advertencia importante:"})," La eliminacin de tu cuenta es ",m.jsx("strong",{children:"permanente"})," e ",m.jsx("strong",{children:"irreversible"}),". Perders acceso a todas tus tareas, estadsticas, rachas y datos almacenados. Esta accin no se puede deshacer."]})})]}),m.jsx(g0,{open:P,onOpenChange:F,children:m.jsxs(Wp,{className:`${t?"bg-gray-800 border-gray-700":"bg-white"} max-w-md`,children:[m.jsxs(Vp,{children:[m.jsx(Hp,{className:`text-xl font-bold ${t?"text-red-400":"text-red-600"}`,children:" Eliminar Cuenta"}),m.jsx(Gp,{className:`${t?"text-gray-300":"text-gray-600"}`,children:D===1?m.jsxs("div",{className:"space-y-3",children:[m.jsx("p",{children:"Ests seguro de que quieres eliminar tu cuenta?"}),m.jsxs("div",{className:`p-3 rounded-lg ${t?"bg-red-900/30":"bg-red-50"}`,children:[m.jsxs("p",{className:`text-sm font-medium ${t?"text-red-300":"text-red-700"} mb-2`,children:["Esta accin es ",m.jsx("strong",{children:"IRREVERSIBLE"})," y eliminar:"]}),m.jsxs("ul",{className:`text-sm ${t?"text-gray-300":"text-gray-600"} space-y-1`,children:[m.jsx("li",{children:" Todas tus tareas y subtareas"}),m.jsx("li",{children:" Tus estadsticas y rachas de productividad"}),m.jsx("li",{children:" Tus logros y medallas desbloqueadas"}),m.jsx("li",{children:" Toda tu informacin personal"})]})]})]}):m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:`p-4 rounded-lg border-2 ${t?"bg-red-900/30 border-red-600":"bg-red-50 border-red-300"}`,children:[m.jsx("h3",{className:`font-bold text-lg ${t?"text-red-400":"text-red-600"} mb-2`,children:" LTIMA ADVERTENCIA "}),m.jsx("p",{className:`${t?"text-red-300":"text-red-700"} font-medium`,children:"Esta es tu ltima oportunidad para cancelar."}),m.jsxs("p",{className:`${t?"text-gray-300":"text-gray-600"} mt-2`,children:["Realmente quieres ",m.jsx("strong",{children:"ELIMINAR DEFINITIVAMENTE"})," tu cuenta de Captus?"]}),m.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"} mt-2`,children:"No podrs recuperar ningn dato despus de esto."})]}),B&&m.jsxs("div",{className:`text-center p-3 rounded-lg ${t?"bg-gray-700":"bg-gray-100"}`,children:[m.jsxs("p",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:["El botn se habilitar en: ",m.jsxs("span",{className:"font-bold text-red-500",children:[z,"s"]})]}),m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:m.jsx("div",{className:"bg-red-500 h-2 rounded-full transition-all duration-1000",style:{width:`${z/10*100}%`}})})]})]})})]}),m.jsxs(y0,{className:"flex gap-2",children:[m.jsx(et,{variant:"outline",onClick:O,disabled:N,className:t?"border-gray-600 text-gray-300 hover:bg-gray-700":"",children:"Cancelar"}),m.jsx(et,{onClick:pe,disabled:D===2&&z>0,className:"bg-red-600 hover:bg-red-700 text-white",children:N?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Eliminando..."]}):D===1?"Continuar":z>0?`Eliminar en ${z}s`:" Eliminar Definitivamente"})]})]})})]})]})]})})}const VA=[{name:"Blue",value:"blue",class:"bg-blue-600"},{name:"Green",value:"green",class:"bg-green-600"},{name:"Purple",value:"purple",class:"bg-purple-600"},{name:"Orange",value:"orange",class:"bg-orange-600"},{name:"Red",value:"red",class:"bg-red-600"},{name:"Yellow",value:"yellow",class:"bg-yellow-600"}];function $ie({trigger:t,onUpdate:e}){const{user:r}=nc(),[n,i]=E.useState(!1),[s,a]=E.useState([]),[o,l]=E.useState(!1),[c,h]=E.useState({name:"",grade:"",progress:"",color:"blue"}),[f,g]=E.useState(!1),[p,v]=E.useState(null),x=r?.user_metadata?.role==="teacher"||r?.app_metadata?.role==="teacher";E.useEffect(()=>{n&&b()},[n]);const b=async()=>{try{l(!0);const k=await ji.get("/subjects");a(k.data?.data||[])}catch(k){console.error("Error fetching subjects:",k)}finally{l(!1)}},_=async k=>{if(k.preventDefault(),!!c.name)try{g(!0),v(null);const N={name:c.name,grade:parseFloat(c.grade)||0,progress:parseInt(c.progress)||0,color:c.color};await ji.post("/subjects",N),h({name:"",grade:"",progress:"",color:"blue"}),await b(),e&&e()}catch(N){console.error("Error creating subject:",N),v(N.response?.data?.error||"Error al crear materia. Verifica tus permisos.")}finally{g(!1)}};return m.jsxs(g0,{open:n,onOpenChange:i,children:[m.jsx(Iie,{asChild:!0,children:t||m.jsxs(et,{variant:"outline",size:"sm",children:[m.jsx(Ca,{className:"mr-2 h-4 w-4"}),"Materias"]})}),m.jsxs(Wp,{className:"sm:max-w-[600px] max-h-[85vh] flex flex-col",children:[m.jsxs(Vp,{children:[m.jsx(Hp,{children:"Gestin Acadmica"}),m.jsx(Gp,{children:x?"Administra las materias y calificaciones del curso.":"Visualiza tus materias y progreso acadmico."})]}),m.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col gap-6 py-4",children:[x&&m.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-4 border",children:[m.jsxs("h3",{className:"font-medium text-sm flex items-center gap-2",children:[m.jsx(Xs,{className:"h-4 w-4"})," Nueva Materia"]}),m.jsxs("form",{onSubmit:_,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(fn,{htmlFor:"name",children:"Nombre"}),m.jsx(hi,{id:"name",placeholder:"Ej: Matemticas",value:c.name,onChange:k=>h({...c,name:k.target.value}),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(fn,{htmlFor:"grade",children:"Promedio"}),m.jsx(hi,{id:"grade",type:"number",step:"0.1",min:"0",max:"10",placeholder:"0.0",value:c.grade,onChange:k=>h({...c,grade:k.target.value})})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(fn,{children:"Color"}),m.jsx("div",{className:"flex gap-2",children:VA.map(k=>m.jsx("button",{type:"button",onClick:()=>h({...c,color:k.value}),className:`w-6 h-6 rounded-full transition-all ${k.class} ${c.color===k.value?"ring-2 ring-offset-2 ring-black":"opacity-70 hover:opacity-100"}`,title:k.name},k.value))})]}),p&&m.jsx("p",{className:"text-xs text-destructive font-medium",children:p}),m.jsx("div",{className:"flex justify-end",children:m.jsx(et,{type:"submit",size:"sm",disabled:f,children:f?m.jsx(mL,{className:"h-4 w-4 animate-spin"}):"Crear Materia"})})]})]}),m.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[m.jsxs("h3",{className:"font-medium text-sm mb-3",children:["Materias Activas (",s.length,")"]}),m.jsx(YL,{className:"flex-1 pr-4",children:o?m.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Cargando..."}):s.length===0?m.jsx("div",{className:"text-center py-8 text-muted-foreground border-dashed border-2 rounded-lg",children:"No hay materias registradas."}):m.jsx("div",{className:"space-y-3",children:s.map(k=>m.jsx("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg border shadow-sm",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-3 h-10 rounded-full ${VA.find(N=>N.value===k.color)?.class||"bg-gray-500"}`}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium leading-none",children:k.name}),m.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Promedio: ",m.jsx("span",{className:"font-bold text-foreground",children:k.grade})]})]})]})},k.id))})})]})]})]})]})}function zie(){const t=["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],e=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],r=new Date;return`${t[r.getDay()]}, ${r.getDate()} de ${e[r.getMonth()]} de ${r.getFullYear()}`}function Dy({icon:t,label:e,value:r,bgColor:n}){return m.jsx(Or,{className:"p-6 border border-gray-200 rounded-xl hover:shadow-md transition-shadow",children:m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("div",{className:`${n} p-4 rounded-xl`,children:t}),m.jsxs("div",{children:[m.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r}),m.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e})]})]})})}function Uie({subject:t}){const e=r=>({blue:"bg-blue-600",purple:"bg-purple-600",green:"bg-green-600",orange:"bg-orange-600",red:"bg-red-600",yellow:"bg-yellow-600"})[r]||"bg-gray-600";return m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-gray-900",children:t.name}),m.jsx("p",{className:"text-sm text-gray-500",children:t.progress?`${t.progress}% completado`:""})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-lg font-bold text-gray-900",children:t.grade}),m.jsx("p",{className:"text-sm text-gray-500",children:"Promedio"})]})]}),m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:m.jsx("div",{className:`h-3 rounded-full transition-all ${e(t.color)}`,style:{width:`${t.progress||0}%`}})})]})}function qie(){const[t,e]=E.useState({averageGrade:0,completedTasks:0,totalTasks:0,studyHours:0,racha:0,subjects:[]}),[r,n]=E.useState(!0),i=async()=>{try{const l=await ji.get("/statistics"),c=l.data?.data||l.data;c&&e({averageGrade:c.averageGrade||0,completedTasks:c.completedTasks||0,totalTasks:c.totalTasks||0,studyHours:c.studyHours||0,racha:c.racha||c.streak||0,subjects:c.subjects||[]})}catch(l){console.error("Error fetching stats:",l)}finally{n(!1)}};E.useEffect(()=>{i()},[]);const s=t.totalTasks>0?Math.round(t.completedTasks/t.totalTasks*100):0,a=2*Math.PI*88,o=`${s/100*a} ${a}`;return r?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F6F7FB]",children:"Cargando estadsticas..."}):m.jsxs("div",{className:"min-h-screen bg-[#F6F7FB]",children:[m.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[m.jsx("header",{className:"sticky top-0 bg-white rounded-xl shadow-sm p-6 mb-6 z-10",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" Mis Estadsticas"}),m.jsx("p",{className:"text-gray-600 mt-1",children:zie()})]}),m.jsx($ie,{onUpdate:i,trigger:m.jsxs(et,{variant:"outline",className:"gap-2",children:[m.jsx(fS,{className:"h-4 w-4"}),"Gestionar Materias"]})})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[m.jsx(Dy,{icon:m.jsx(zV,{className:"text-green-600",size:28}),label:"Promedio General",value:t.averageGrade.toFixed(2),bgColor:"bg-green-50"}),m.jsx(Dy,{icon:m.jsx(Td,{className:"text-blue-600",size:28}),label:"Tareas Completadas",value:`${t.completedTasks}/${t.totalTasks}`,bgColor:"bg-blue-50"}),m.jsx(Dy,{icon:m.jsx(_L,{className:"text-orange-600",size:28}),label:"Horas de Estudio",value:`${t.studyHours}h`,bgColor:"bg-orange-50"}),m.jsx(Dy,{icon:m.jsx(yV,{className:"text-purple-600",size:28}),label:"Racha Actual",value:`${t.racha} das`,bgColor:"bg-purple-50"})]}),t.subjects&&t.subjects.length>0?m.jsxs(Or,{className:"p-6 bg-white rounded-xl shadow-sm mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Progreso por Materia"}),m.jsx("div",{className:"space-y-6",children:t.subjects.map(l=>m.jsx(Uie,{subject:l},l.id||l.name))})]}):m.jsxs(Or,{className:"p-6 bg-white rounded-xl shadow-sm mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Materias"}),m.jsx("p",{className:"text-gray-500",children:"No hay materias registradas an. Agrega algunas para ver tu progreso acadmico!"})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs(Or,{className:"p-6 bg-white rounded-xl shadow-sm",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Completacin de Tareas"}),m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsxs("div",{className:"relative w-48 h-48",children:[m.jsxs("svg",{className:"transform -rotate-90 w-48 h-48",children:[m.jsx("circle",{cx:"96",cy:"96",r:"88",stroke:"#E5E7EB",strokeWidth:"16",fill:"none",className:"opacity-30"}),m.jsx("circle",{cx:"96",cy:"96",r:"88",stroke:"#10b981",strokeWidth:"16",fill:"none",strokeDasharray:o,className:"transition-all duration-1000"})]}),m.jsxs("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:[m.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:[s,"%"]}),m.jsx("span",{className:"text-sm text-gray-500",children:"Completado"})]})]})})]}),m.jsxs(Or,{className:"p-6 bg-white rounded-xl shadow-sm",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Rendimiento Mensual"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(Ob,{month:"Septiembre",color:"bg-blue-600",value:75,label:"7.5"}),m.jsx(Ob,{month:"Octubre",color:"bg-green-600",value:85,label:"8.5"}),m.jsx(Ob,{month:"Noviembre",color:"bg-green-600",value:90,label:"9.0"})]})]})]})]}),m.jsx(Ql,{to:"/chatbot",title:"Hablar con Captus",children:m.jsx(et,{className:"fixed bottom-6 right-6 h-14 w-14 rounded-full bg-green-600 hover:bg-green-700 shadow-lg hover:shadow-xl transition-all",size:"icon",children:m.jsx(yL,{size:24})})})]})}function Ob({month:t,color:e,value:r,label:n}){return m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-gray-600",children:t}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:m.jsx("div",{className:`${e} h-2 rounded-full`,style:{width:`${r}%`}})}),m.jsx("span",{className:"text-sm font-medium text-gray-900",children:n})]})]})}const Wie=[{id:"1",name:"Clculo Diferencial",professor:"Dr. Juan Prez",progress:75,lastUpdate:"2 das",color:"#3b82f6"},{id:"2",name:"Programacin Avanzada",professor:"Ing. Mara Garca",progress:60,lastUpdate:"1 da",color:"#10b981"},{id:"3",name:"Base de Datos",professor:"Dr. Carlos Lpez",progress:90,lastUpdate:"3 das",color:"#8b5cf6"}];function Vie(){const t=Qs();return m.jsx("div",{className:"p-6 space-y-6",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:m.jsx(Ca,{className:"w-5 h-5 text-green-600"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mis Cursos"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Gestiona tus cursos inscritos"})]})]})}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Wie.map(e=>m.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow cursor-pointer hover:scale-[1.02] duration-200",onClick:()=>t(`/courses/${e.id}`),children:[m.jsx("div",{className:"w-full h-32 rounded-lg mb-4",style:{backgroundColor:e.color}}),m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.name}),m.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e.professor}),m.jsxs("div",{className:"space-y-2 mb-4",children:[m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600",children:"Progreso"}),m.jsxs("span",{className:"font-semibold text-gray-900",children:[e.progress,"%"]})]}),m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:m.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all",style:{width:`${e.progress}%`}})})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[m.jsx(dL,{className:"w-4 h-4"}),m.jsxs("span",{children:["Hace ",e.lastUpdate]})]}),m.jsxs(et,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:r=>{r.stopPropagation(),t(`/courses/${e.id}`)},children:["Ver curso",m.jsx(Nd,{className:"w-4 h-4 ml-1"})]})]})]},e.id))})]})})}function Hie({className:t,...e}){return m.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:m.jsx("table",{"data-slot":"table",className:Pr("w-full caption-bottom text-sm",t),...e})})}function Gie({className:t,...e}){return m.jsx("thead",{"data-slot":"table-header",className:Pr("[&_tr]:border-b",t),...e})}function Yie({className:t,...e}){return m.jsx("tbody",{"data-slot":"table-body",className:Pr("[&_tr:last-child]:border-0",t),...e})}function HA({className:t,...e}){return m.jsx("tr",{"data-slot":"table-row",className:Pr("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function Ib({className:t,...e}){return m.jsx("th",{"data-slot":"table-head",className:Pr("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function Db({className:t,...e}){return m.jsx("td",{"data-slot":"table-cell",className:Pr("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}const iO=E.forwardRef(({...t},e)=>m.jsx("nav",{ref:e,"aria-label":"breadcrumb",...t}));iO.displayName="Breadcrumb";const sO=E.forwardRef(({className:t,...e},r)=>m.jsx("ol",{ref:r,className:Pr("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...e}));sO.displayName="BreadcrumbList";const b1=E.forwardRef(({className:t,...e},r)=>m.jsx("li",{ref:r,className:Pr("inline-flex items-center gap-1.5",t),...e}));b1.displayName="BreadcrumbItem";const j5=E.forwardRef(({asChild:t,className:e,...r},n)=>{const i=t?nu:"a";return m.jsx(i,{ref:n,className:Pr("transition-colors hover:text-foreground",e),...r})});j5.displayName="BreadcrumbLink";const aO=E.forwardRef(({className:t,...e},r)=>m.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:Pr("font-normal text-foreground",t),...e}));aO.displayName="BreadcrumbPage";const L5=({children:t,className:e,...r})=>m.jsx("li",{role:"presentation","aria-hidden":"true",className:Pr("[&>svg]:size-3.5",e),...r,children:t??m.jsx(Nd,{})});L5.displayName="BreadcrumbSeparator";function Kie(){const t=Qs(),[e,r]=E.useState("overview"),n={name:"Clculo Diferencial",professor:"Dr. Juan Prez",color:"#3b82f6"},i=[{id:1,title:"Introduccin al Clculo",type:"Video",viewed:!0,duration:"15 min"},{id:2,title:"Lmites - Teora",type:"PDF",viewed:!0,pages:12},{id:3,title:"Ejercicios de Lmites",type:"Apunte",viewed:!1,pages:5},{id:4,title:"Quiz: Lmites Bsicos",type:"Quiz",viewed:!1,questions:10},{id:5,title:"Continuidad de Funciones",type:"Video",viewed:!1,duration:"20 min"}],s=[{id:1,name:"Taller 1: Lmites",dueDate:"2025-01-20",status:"entregada",grade:95},{id:2,name:"Taller 2: Continuidad",dueDate:"2025-01-25",status:"entregada",grade:88},{id:3,name:"Taller 3: Derivadas",dueDate:"2025-02-01",status:"pendiente",grade:null},{id:4,name:"Parcial 1",dueDate:"2025-01-15",status:"atrasada",grade:null}],a=[{id:1,title:"Cambio de horario para el parcial",date:"2025-01-18",type:"Urgente",content:"El parcial se realizar el viernes a las 2 PM"},{id:2,title:"Nuevo material disponible",date:"2025-01-17",type:"General",content:"Se ha publicado el material de derivadas"},{id:3,title:"Recordatorio: Taller 3",date:"2025-01-16",type:"Recordatorio",content:"El taller 3 vence este viernes"}],o=[{id:1,name:"Ana Garca",status:"activo",progress:85},{id:2,name:"Carlos Mendoza",status:"activo",progress:92},{id:3,name:"Laura Prez",status:"activo",progress:78},{id:4,name:"Miguel Torres",status:"retirado",progress:45},{id:5,name:"Sofia Ramirez",status:"activo",progress:95}],l=f=>{switch(f){case"Video":return m.jsx(_V,{className:"w-4 h-4 text-blue-600"});case"PDF":return m.jsx(Y1,{className:"w-4 h-4 text-red-600"});case"Apunte":return m.jsx(xV,{className:"w-4 h-4 text-green-600"});case"Quiz":return m.jsx(wV,{className:"w-4 h-4 text-purple-600"});default:return m.jsx(Y1,{className:"w-4 h-4 text-gray-600"})}},c=f=>{switch(f){case"entregada":return m.jsx(va,{className:"bg-green-100 text-green-700 hover:bg-green-100",children:"Entregada"});case"pendiente":return m.jsx(va,{className:"bg-yellow-100 text-yellow-700 hover:bg-yellow-100",children:"Pendiente"});case"atrasada":return m.jsx(va,{className:"bg-red-100 text-red-700 hover:bg-red-100",children:"Atrasada"});default:return null}},h=f=>{switch(f){case"Urgente":return m.jsx(va,{className:"bg-red-100 text-red-700 hover:bg-red-100",children:"Urgente"});case"Recordatorio":return m.jsx(va,{className:"bg-yellow-100 text-yellow-700 hover:bg-yellow-100",children:"Recordatorio"});case"General":return m.jsx(va,{className:"bg-blue-100 text-blue-700 hover:bg-blue-100",children:"General"});default:return null}};return m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsx(iO,{children:m.jsxs(sO,{children:[m.jsx(b1,{children:m.jsx(j5,{asChild:!0,children:m.jsx(Ql,{to:"/home",children:"Inicio"})})}),m.jsx(L5,{}),m.jsx(b1,{children:m.jsx(j5,{asChild:!0,children:m.jsx(Ql,{to:"/courses",children:"Cursos"})})}),m.jsx(L5,{}),m.jsx(b1,{children:m.jsx(aO,{children:n.name})})]})}),m.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[m.jsxs(et,{variant:"ghost",size:"sm",onClick:()=>t("/courses"),className:"mb-4",children:[m.jsx(cL,{className:"w-4 h-4 mr-2"}),"Volver a cursos"]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-16 h-16 rounded-lg",style:{backgroundColor:n.color}}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.name}),m.jsx("p",{className:"text-sm text-gray-600",children:n.professor})]})]})]}),m.jsxs(e5,{value:e,onValueChange:r,children:[m.jsxs(t5,{className:"bg-white border mb-6",children:[m.jsx(il,{value:"overview",children:"Overview"}),m.jsx(il,{value:"content",children:"Contenido"}),m.jsx(il,{value:"assignments",children:"Tareas"}),m.jsx(il,{value:"announcements",children:"Anuncios"}),m.jsx(il,{value:"students",children:"Estudiantes"})]}),m.jsx(sl,{value:"overview",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[m.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Prximas Clases"}),m.jsx("div",{className:"space-y-3",children:m.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[m.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Lmites y Continuidad"}),m.jsx("p",{className:"text-xs text-gray-600",children:"Lunes 10:00 AM"})]})})]}),m.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[m.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"ltimas Publicaciones"}),m.jsx("div",{className:"space-y-3",children:m.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[m.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Material de Derivadas"}),m.jsx("p",{className:"text-xs text-gray-600",children:"Hace 2 das"})]})})]}),m.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[m.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Tareas Pendientes"}),m.jsx("div",{className:"space-y-3",children:m.jsxs("div",{className:"p-3 bg-red-50 rounded-lg",children:[m.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Taller 3"}),m.jsx("p",{className:"text-xs text-gray-600",children:"Vence en 2 das"})]})})]})]})}),m.jsx(sl,{value:"content",children:m.jsxs(Or,{className:"p-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Material del Curso"}),m.jsx("div",{className:"space-y-2",children:i.map(f=>m.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>console.log("[v0] Open content",f.id),children:[m.jsxs("div",{className:"flex items-center gap-3",children:[l(f.type),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:f.title}),m.jsxs("p",{className:"text-xs text-gray-600",children:[f.type,"  ",f.type==="Video"?f.duration:`${f.pages} pginas`]})]})]}),f.viewed?m.jsxs(va,{className:"bg-green-100 text-green-700 hover:bg-green-100",children:[m.jsx(vV,{className:"w-3 h-3 mr-1"}),"Visto"]}):m.jsx(va,{variant:"outline",children:"No visto"})]},f.id))})]})}),m.jsx(sl,{value:"assignments",children:m.jsxs(Or,{className:"p-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Tareas del Curso"}),m.jsx("div",{className:"space-y-3",children:s.map(f=>m.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"font-medium text-gray-900",children:f.name}),m.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m.jsx(Ta,{className:"w-3 h-3 text-gray-500"}),m.jsxs("p",{className:"text-xs text-gray-600",children:["Entrega: ",f.dueDate]}),f.grade&&m.jsxs("span",{className:"text-xs text-gray-600 ml-2",children:[" Nota: ",f.grade,"/100"]})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[c(f.status),m.jsx(et,{size:"sm",variant:"outline",onClick:()=>console.log("[v0] Ver tarea",f.id),children:"Ver detalles"})]})]},f.id))})]})}),m.jsx(sl,{value:"announcements",children:m.jsxs(Or,{className:"p-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Anuncios del Curso"}),m.jsx("div",{className:"space-y-4",children:a.map(f=>m.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-0 last:pb-0",children:[m.jsxs("div",{className:"flex items-start justify-between mb-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Vw,{className:"w-4 h-4 text-gray-600"}),m.jsx("h3",{className:"font-semibold text-gray-900",children:f.title})]}),h(f.type)]}),m.jsx("p",{className:"text-sm text-gray-700 mb-2",children:f.content}),m.jsx("p",{className:"text-xs text-gray-500",children:f.date})]},f.id))})]})}),m.jsx(sl,{value:"students",children:m.jsxs(Or,{className:"p-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Estudiantes Inscritos"}),m.jsxs(Hie,{children:[m.jsx(Gie,{children:m.jsxs(HA,{children:[m.jsx(Ib,{children:"Nombre"}),m.jsx(Ib,{children:"Estado"}),m.jsx(Ib,{children:"Progreso"})]})}),m.jsx(Yie,{children:o.map(f=>m.jsxs(HA,{children:[m.jsx(Db,{className:"font-medium",children:f.name}),m.jsx(Db,{children:f.status==="activo"?m.jsx(va,{className:"bg-green-100 text-green-700 hover:bg-green-100",children:"Activo"}):m.jsx(va,{className:"bg-gray-100 text-gray-700 hover:bg-gray-100",children:"Retirado"})}),m.jsx(Db,{children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(SP,{value:f.progress,className:"w-24"}),m.jsxs("span",{className:"text-sm text-gray-600",children:[f.progress,"%"]})]})})]},f.id))})]})]})})]})]})}function oO(){const[t,e]=E.useState([]),[r,n]=E.useState(!1),[i,s]=E.useState(null),{user:a}=nc(),o=()=>({headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),l=E.useCallback(async()=>{if(a){n(!0);try{const g=await jn.get("http://localhost:4000/api/diagrams",o());g.data.success?e(g.data.data):s(g.data.message)}catch(g){s(g.response?.data?.message||g.message)}finally{n(!1)}}},[a]),c=async g=>{n(!0);try{const p=await jn.post("http://localhost:4000/api/diagrams",g,o());return p.data.success?(e(v=>[p.data.data,...v]),{success:!0}):{success:!1,error:p.data.message}}catch(p){return{success:!1,error:p.response?.data?.message||p.message}}finally{n(!1)}},h=async(g,p)=>{n(!0);try{const v=await jn.put(`http://localhost:4000/api/diagrams/${g}`,p,o());return v.data.success?(e(x=>x.map(b=>b.id===g?v.data.data:b)),{success:!0}):{success:!1,error:v.data.message}}catch(v){return{success:!1,error:v.response?.data?.message||v.message}}finally{n(!1)}},f=async g=>{n(!0);try{const p=await jn.delete(`http://localhost:4000/api/diagrams/${g}`,o());return p.data.success?(e(v=>v.filter(x=>x.id!==g)),{success:!0}):{success:!1,error:p.data.message}}catch(p){return{success:!1,error:p.response?.data?.message||p.message}}finally{n(!1)}};return E.useEffect(()=>{l()},[l]),{diagrams:t,loading:r,error:i,refreshDiagrams:l,createDiagram:c,updateDiagram:h,deleteDiagram:f}}const Xie="modulepreload",Jie=function(t){return"/"+t},GA={},Vr=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let l=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");i=l(r.map(c=>{if(c=Jie(c),c in GA)return;GA[c]=!0;const h=c.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":Xie,h||(g.as="script"),g.crossOrigin="",g.href=c,o&&g.setAttribute("nonce",o),document.head.appendChild(g),h)return new Promise((p,v)=>{g.addEventListener("load",p),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};var YA={name:"mermaid",version:"11.12.1",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},w1={exports:{}},Zie=w1.exports,KA;function Qie(){return KA||(KA=1,(function(t,e){(function(r,n){t.exports=n()})(Zie,(function(){var r=1e3,n=6e4,i=36e5,s="millisecond",a="second",o="minute",l="hour",c="day",h="week",f="month",g="quarter",p="year",v="date",x="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($){var Q=["th","st","nd","rd"],ee=$%100;return"["+$+(Q[(ee-20)%10]||Q[ee]||Q[0])+"]"}},N=function($,Q,ee){var se=String($);return!se||se.length>=Q?$:""+Array(Q+1-se.length).join(ee)+$},j={s:N,z:function($){var Q=-$.utcOffset(),ee=Math.abs(Q),se=Math.floor(ee/60),V=ee%60;return(Q<=0?"+":"-")+N(se,2,"0")+":"+N(V,2,"0")},m:function $(Q,ee){if(Q.date()<ee.date())return-$(ee,Q);var se=12*(ee.year()-Q.year())+(ee.month()-Q.month()),V=Q.clone().add(se,f),re=ee-V<0,pe=Q.clone().add(se+(re?-1:1),f);return+(-(se+(ee-V)/(re?V-pe:pe-V))||0)},a:function($){return $<0?Math.ceil($)||0:Math.floor($)},p:function($){return{M:f,y:p,w:h,d:c,D:v,h:l,m:o,s:a,ms:s,Q:g}[$]||String($||"").toLowerCase().replace(/s$/,"")},u:function($){return $===void 0}},P="en",F={};F[P]=k;var D="$isDayjsObject",U=function($){return $ instanceof q||!(!$||!$[D])},z=function $(Q,ee,se){var V;if(!Q)return P;if(typeof Q=="string"){var re=Q.toLowerCase();F[re]&&(V=re),ee&&(F[re]=ee,V=re);var pe=Q.split("-");if(!V&&pe.length>1)return $(pe[0])}else{var X=Q.name;F[X]=Q,V=X}return!se&&V&&(P=V),V||!se&&P},K=function($,Q){if(U($))return $.clone();var ee=typeof Q=="object"?Q:{};return ee.date=$,ee.args=arguments,new q(ee)},B=j;B.l=z,B.i=U,B.w=function($,Q){return K($,{locale:Q.$L,utc:Q.$u,x:Q.$x,$offset:Q.$offset})};var q=(function(){function $(ee){this.$L=z(ee.locale,null,!0),this.parse(ee),this.$x=this.$x||ee.x||{},this[D]=!0}var Q=$.prototype;return Q.parse=function(ee){this.$d=(function(se){var V=se.date,re=se.utc;if(V===null)return new Date(NaN);if(B.u(V))return new Date;if(V instanceof Date)return new Date(V);if(typeof V=="string"&&!/Z$/i.test(V)){var pe=V.match(b);if(pe){var X=pe[2]-1||0,O=(pe[7]||"0").substring(0,3);return re?new Date(Date.UTC(pe[1],X,pe[3]||1,pe[4]||0,pe[5]||0,pe[6]||0,O)):new Date(pe[1],X,pe[3]||1,pe[4]||0,pe[5]||0,pe[6]||0,O)}}return new Date(V)})(ee),this.init()},Q.init=function(){var ee=this.$d;this.$y=ee.getFullYear(),this.$M=ee.getMonth(),this.$D=ee.getDate(),this.$W=ee.getDay(),this.$H=ee.getHours(),this.$m=ee.getMinutes(),this.$s=ee.getSeconds(),this.$ms=ee.getMilliseconds()},Q.$utils=function(){return B},Q.isValid=function(){return this.$d.toString()!==x},Q.isSame=function(ee,se){var V=K(ee);return this.startOf(se)<=V&&V<=this.endOf(se)},Q.isAfter=function(ee,se){return K(ee)<this.startOf(se)},Q.isBefore=function(ee,se){return this.endOf(se)<K(ee)},Q.$g=function(ee,se,V){return B.u(ee)?this[se]:this.set(V,ee)},Q.unix=function(){return Math.floor(this.valueOf()/1e3)},Q.valueOf=function(){return this.$d.getTime()},Q.startOf=function(ee,se){var V=this,re=!!B.u(se)||se,pe=B.p(ee),X=function(Se,ke){var De=B.w(V.$u?Date.UTC(V.$y,ke,Se):new Date(V.$y,ke,Se),V);return re?De:De.endOf(c)},O=function(Se,ke){return B.w(V.toDate()[Se].apply(V.toDate("s"),(re?[0,0,0,0]:[23,59,59,999]).slice(ke)),V)},Y=this.$W,ne=this.$M,oe=this.$D,ue="set"+(this.$u?"UTC":"");switch(pe){case p:return re?X(1,0):X(31,11);case f:return re?X(1,ne):X(0,ne+1);case h:var de=this.$locale().weekStart||0,be=(Y<de?Y+7:Y)-de;return X(re?oe-be:oe+(6-be),ne);case c:case v:return O(ue+"Hours",0);case l:return O(ue+"Minutes",1);case o:return O(ue+"Seconds",2);case a:return O(ue+"Milliseconds",3);default:return this.clone()}},Q.endOf=function(ee){return this.startOf(ee,!1)},Q.$set=function(ee,se){var V,re=B.p(ee),pe="set"+(this.$u?"UTC":""),X=(V={},V[c]=pe+"Date",V[v]=pe+"Date",V[f]=pe+"Month",V[p]=pe+"FullYear",V[l]=pe+"Hours",V[o]=pe+"Minutes",V[a]=pe+"Seconds",V[s]=pe+"Milliseconds",V)[re],O=re===c?this.$D+(se-this.$W):se;if(re===f||re===p){var Y=this.clone().set(v,1);Y.$d[X](O),Y.init(),this.$d=Y.set(v,Math.min(this.$D,Y.daysInMonth())).$d}else X&&this.$d[X](O);return this.init(),this},Q.set=function(ee,se){return this.clone().$set(ee,se)},Q.get=function(ee){return this[B.p(ee)]()},Q.add=function(ee,se){var V,re=this;ee=Number(ee);var pe=B.p(se),X=function(ne){var oe=K(re);return B.w(oe.date(oe.date()+Math.round(ne*ee)),re)};if(pe===f)return this.set(f,this.$M+ee);if(pe===p)return this.set(p,this.$y+ee);if(pe===c)return X(1);if(pe===h)return X(7);var O=(V={},V[o]=n,V[l]=i,V[a]=r,V)[pe]||1,Y=this.$d.getTime()+ee*O;return B.w(Y,this)},Q.subtract=function(ee,se){return this.add(-1*ee,se)},Q.format=function(ee){var se=this,V=this.$locale();if(!this.isValid())return V.invalidDate||x;var re=ee||"YYYY-MM-DDTHH:mm:ssZ",pe=B.z(this),X=this.$H,O=this.$m,Y=this.$M,ne=V.weekdays,oe=V.months,ue=V.meridiem,de=function(ke,De,Ye,We){return ke&&(ke[De]||ke(se,re))||Ye[De].slice(0,We)},be=function(ke){return B.s(X%12||12,ke,"0")},Se=ue||function(ke,De,Ye){var We=ke<12?"AM":"PM";return Ye?We.toLowerCase():We};return re.replace(_,(function(ke,De){return De||(function(Ye){switch(Ye){case"YY":return String(se.$y).slice(-2);case"YYYY":return B.s(se.$y,4,"0");case"M":return Y+1;case"MM":return B.s(Y+1,2,"0");case"MMM":return de(V.monthsShort,Y,oe,3);case"MMMM":return de(oe,Y);case"D":return se.$D;case"DD":return B.s(se.$D,2,"0");case"d":return String(se.$W);case"dd":return de(V.weekdaysMin,se.$W,ne,2);case"ddd":return de(V.weekdaysShort,se.$W,ne,3);case"dddd":return ne[se.$W];case"H":return String(X);case"HH":return B.s(X,2,"0");case"h":return be(1);case"hh":return be(2);case"a":return Se(X,O,!0);case"A":return Se(X,O,!1);case"m":return String(O);case"mm":return B.s(O,2,"0");case"s":return String(se.$s);case"ss":return B.s(se.$s,2,"0");case"SSS":return B.s(se.$ms,3,"0");case"Z":return pe}return null})(ke)||pe.replace(":","")}))},Q.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Q.diff=function(ee,se,V){var re,pe=this,X=B.p(se),O=K(ee),Y=(O.utcOffset()-this.utcOffset())*n,ne=this-O,oe=function(){return B.m(pe,O)};switch(X){case p:re=oe()/12;break;case f:re=oe();break;case g:re=oe()/3;break;case h:re=(ne-Y)/6048e5;break;case c:re=(ne-Y)/864e5;break;case l:re=ne/i;break;case o:re=ne/n;break;case a:re=ne/r;break;default:re=ne}return V?re:B.a(re)},Q.daysInMonth=function(){return this.endOf(f).$D},Q.$locale=function(){return F[this.$L]},Q.locale=function(ee,se){if(!ee)return this.$L;var V=this.clone(),re=z(ee,se,!0);return re&&(V.$L=re),V},Q.clone=function(){return B.w(this.$d,this)},Q.toDate=function(){return new Date(this.valueOf())},Q.toJSON=function(){return this.isValid()?this.toISOString():null},Q.toISOString=function(){return this.$d.toISOString()},Q.toString=function(){return this.$d.toUTCString()},$})(),W=q.prototype;return K.prototype=W,[["$ms",s],["$s",a],["$m",o],["$H",l],["$W",c],["$M",f],["$y",p],["$D",v]].forEach((function($){W[$[1]]=function(Q){return this.$g(Q,$[0],$[1])}})),K.extend=function($,Q){return $.$i||($(Q,q,K),$.$i=!0),K},K.locale=z,K.isDayjs=U,K.unix=function($){return K(1e3*$)},K.en=F[P],K.Ls=F,K.p={},K}))})(w1)),w1.exports}var ese=Qie();const tse=Zv(ese);var lO=Object.defineProperty,M=(t,e)=>lO(t,"name",{value:e,configurable:!0}),rse=(t,e)=>{for(var r in e)lO(t,r,{get:e[r],enumerable:!0})},zc={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Ue={trace:M((...t)=>{},"trace"),debug:M((...t)=>{},"debug"),info:M((...t)=>{},"info"),warn:M((...t)=>{},"warn"),error:M((...t)=>{},"error"),fatal:M((...t)=>{},"fatal")},PC=M(function(t="fatal"){let e=zc.fatal;typeof t=="string"?t.toLowerCase()in zc&&(e=zc[t]):typeof t=="number"&&(e=t),Ue.trace=()=>{},Ue.debug=()=>{},Ue.info=()=>{},Ue.warn=()=>{},Ue.error=()=>{},Ue.fatal=()=>{},e<=zc.fatal&&(Ue.fatal=console.error?console.error.bind(console,bo("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",bo("FATAL"))),e<=zc.error&&(Ue.error=console.error?console.error.bind(console,bo("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",bo("ERROR"))),e<=zc.warn&&(Ue.warn=console.warn?console.warn.bind(console,bo("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",bo("WARN"))),e<=zc.info&&(Ue.info=console.info?console.info.bind(console,bo("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",bo("INFO"))),e<=zc.debug&&(Ue.debug=console.debug?console.debug.bind(console,bo("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",bo("DEBUG"))),e<=zc.trace&&(Ue.trace=console.debug?console.debug.bind(console,bo("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",bo("TRACE")))},"setLogLevel"),bo=M(t=>`%c${tse().format("ss.SSS")} : ${t} : `,"format");const _1={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t),hsl2rgb:({h:t,s:e,l:r},n)=>{if(!e)return r*2.55;t/=360,e/=100,r/=100;const i=r<.5?r*(1+e):r+e-r*e,s=2*r-i;switch(n){case"r":return _1.hue2rgb(s,i,t+1/3)*255;case"g":return _1.hue2rgb(s,i,t)*255;case"b":return _1.hue2rgb(s,i,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:r},n)=>{t/=255,e/=255,r/=255;const i=Math.max(t,e,r),s=Math.min(t,e,r),a=(i+s)/2;if(n==="l")return a*100;if(i===s)return 0;const o=i-s,l=a>.5?o/(2-i-s):o/(i+s);if(n==="s")return l*100;switch(i){case t:return((e-r)/o+(e<r?6:0))*60;case e:return((r-t)/o+2)*60;case r:return((t-e)/o+4)*60;default:return-1}}},nse={clamp:(t,e,r)=>e>r?Math.min(e,Math.max(r,t)):Math.min(r,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},ise={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},ur={channel:_1,lang:nse,unit:ise},Ju={};for(let t=0;t<=255;t++)Ju[t]=ur.unit.dec2hex(t);const Ts={ALL:0,RGB:1,HSL:2};class sse{constructor(){this.type=Ts.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=Ts.ALL}is(e){return this.type===e}}class ase{constructor(e,r){this.color=r,this.changed=!1,this.data=e,this.type=new sse}set(e,r){return this.color=r,this.changed=!1,this.data=e,this.type.type=Ts.ALL,this}_ensureHSL(){const e=this.data,{h:r,s:n,l:i}=e;r===void 0&&(e.h=ur.channel.rgb2hsl(e,"h")),n===void 0&&(e.s=ur.channel.rgb2hsl(e,"s")),i===void 0&&(e.l=ur.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r,g:n,b:i}=e;r===void 0&&(e.r=ur.channel.hsl2rgb(e,"r")),n===void 0&&(e.g=ur.channel.hsl2rgb(e,"g")),i===void 0&&(e.b=ur.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,r=e.r;return!this.type.is(Ts.HSL)&&r!==void 0?r:(this._ensureHSL(),ur.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,r=e.g;return!this.type.is(Ts.HSL)&&r!==void 0?r:(this._ensureHSL(),ur.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,r=e.b;return!this.type.is(Ts.HSL)&&r!==void 0?r:(this._ensureHSL(),ur.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,r=e.h;return!this.type.is(Ts.RGB)&&r!==void 0?r:(this._ensureRGB(),ur.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,r=e.s;return!this.type.is(Ts.RGB)&&r!==void 0?r:(this._ensureRGB(),ur.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,r=e.l;return!this.type.is(Ts.RGB)&&r!==void 0?r:(this._ensureRGB(),ur.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(Ts.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(Ts.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(Ts.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(Ts.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(Ts.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(Ts.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const Ax=new ase({r:0,g:0,b:0,a:0},"transparent"),np={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(np.re);if(!e)return;const r=e[1],n=parseInt(r,16),i=r.length,s=i%4===0,a=i>4,o=a?1:17,l=a?8:4,c=s?0:-1,h=a?255:15;return Ax.set({r:(n>>l*(c+3)&h)*o,g:(n>>l*(c+2)&h)*o,b:(n>>l*(c+1)&h)*o,a:s?(n&h)*o/255:1},t)},stringify:t=>{const{r:e,g:r,b:n,a:i}=t;return i<1?`#${Ju[Math.round(e)]}${Ju[Math.round(r)]}${Ju[Math.round(n)]}${Ju[Math.round(i*255)]}`:`#${Ju[Math.round(e)]}${Ju[Math.round(r)]}${Ju[Math.round(n)]}`}},pd={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(pd.hueRe);if(e){const[,r,n]=e;switch(n){case"grad":return ur.channel.clamp.h(parseFloat(r)*.9);case"rad":return ur.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return ur.channel.clamp.h(parseFloat(r)*360)}}return ur.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const r=t.match(pd.re);if(!r)return;const[,n,i,s,a,o]=r;return Ax.set({h:pd._hue2deg(n),s:ur.channel.clamp.s(parseFloat(i)),l:ur.channel.clamp.l(parseFloat(s)),a:a?ur.channel.clamp.a(o?parseFloat(a)/100:parseFloat(a)):1},t)},stringify:t=>{const{h:e,s:r,l:n,a:i}=t;return i<1?`hsla(${ur.lang.round(e)}, ${ur.lang.round(r)}%, ${ur.lang.round(n)}%, ${i})`:`hsl(${ur.lang.round(e)}, ${ur.lang.round(r)}%, ${ur.lang.round(n)}%)`}},mg={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=mg.colors[t];if(e)return np.parse(e)},stringify:t=>{const e=np.stringify(t);for(const r in mg.colors)if(mg.colors[r]===e)return r}},Xm={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const r=t.match(Xm.re);if(!r)return;const[,n,i,s,a,o,l,c,h]=r;return Ax.set({r:ur.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:ur.channel.clamp.g(a?parseFloat(s)*2.55:parseFloat(s)),b:ur.channel.clamp.b(l?parseFloat(o)*2.55:parseFloat(o)),a:c?ur.channel.clamp.a(h?parseFloat(c)/100:parseFloat(c)):1},t)},stringify:t=>{const{r:e,g:r,b:n,a:i}=t;return i<1?`rgba(${ur.lang.round(e)}, ${ur.lang.round(r)}, ${ur.lang.round(n)}, ${ur.lang.round(i)})`:`rgb(${ur.lang.round(e)}, ${ur.lang.round(r)}, ${ur.lang.round(n)})`}},tc={format:{keyword:mg,hex:np,rgb:Xm,rgba:Xm,hsl:pd,hsla:pd},parse:t=>{if(typeof t!="string")return t;const e=np.parse(t)||Xm.parse(t)||pd.parse(t)||mg.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(Ts.HSL)||t.data.r===void 0?pd.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?Xm.stringify(t):np.stringify(t)},cO=(t,e)=>{const r=tc.parse(t);for(const n in e)r[n]=ur.channel.clamp[n](e[n]);return tc.stringify(r)},gg=(t,e,r=0,n=1)=>{if(typeof t!="number")return cO(t,{a:e});const i=Ax.set({r:ur.channel.clamp.r(t),g:ur.channel.clamp.g(e),b:ur.channel.clamp.b(r),a:ur.channel.clamp.a(n)});return tc.stringify(i)},ose=t=>{const{r:e,g:r,b:n}=tc.parse(t),i=.2126*ur.channel.toLinear(e)+.7152*ur.channel.toLinear(r)+.0722*ur.channel.toLinear(n);return ur.lang.round(i)},lse=t=>ose(t)>=.5,v0=t=>!lse(t),uO=(t,e,r)=>{const n=tc.parse(t),i=n[e],s=ur.channel.clamp[e](i+r);return i!==s&&(n[e]=s),tc.stringify(n)},Ct=(t,e)=>uO(t,"l",e),Wt=(t,e)=>uO(t,"l",-e),Te=(t,e)=>{const r=tc.parse(t),n={};for(const i in e)e[i]&&(n[i]=r[i]+e[i]);return cO(t,n)},cse=(t,e,r=50)=>{const{r:n,g:i,b:s,a}=tc.parse(t),{r:o,g:l,b:c,a:h}=tc.parse(e),f=r/100,g=f*2-1,p=a-h,x=((g*p===-1?g:(g+p)/(1+g*p))+1)/2,b=1-x,_=n*x+o*b,k=i*x+l*b,N=s*x+c*b,j=a*f+h*(1-f);return gg(_,k,N,j)},rt=(t,e=100)=>{const r=tc.parse(t);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,cse(r,t,e)};const{entries:hO,setPrototypeOf:XA,isFrozen:use,getPrototypeOf:hse,getOwnPropertyDescriptor:dse}=Object;let{freeze:Js,seal:To,create:P5}=Object,{apply:R5,construct:M5}=typeof Reflect<"u"&&Reflect;Js||(Js=function(e){return e});To||(To=function(e){return e});R5||(R5=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];return e.apply(r,i)});M5||(M5=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return new e(...n)});const By=Zs(Array.prototype.forEach),fse=Zs(Array.prototype.lastIndexOf),JA=Zs(Array.prototype.pop),Rm=Zs(Array.prototype.push),pse=Zs(Array.prototype.splice),S1=Zs(String.prototype.toLowerCase),Bb=Zs(String.prototype.toString),Fb=Zs(String.prototype.match),Mm=Zs(String.prototype.replace),mse=Zs(String.prototype.indexOf),gse=Zs(String.prototype.trim),rl=Zs(Object.prototype.hasOwnProperty),Vs=Zs(RegExp.prototype.test),Om=yse(TypeError);function Zs(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return R5(t,e,n)}}function yse(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return M5(t,r)}}function jr(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S1;XA&&XA(t,null);let n=e.length;for(;n--;){let i=e[n];if(typeof i=="string"){const s=r(i);s!==i&&(use(e)||(e[n]=s),i=s)}t[i]=!0}return t}function vse(t){for(let e=0;e<t.length;e++)rl(t,e)||(t[e]=null);return t}function Vc(t){const e=P5(null);for(const[r,n]of hO(t))rl(t,r)&&(Array.isArray(n)?e[r]=vse(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=Vc(n):e[r]=n);return e}function Im(t,e){for(;t!==null;){const n=dse(t,e);if(n){if(n.get)return Zs(n.get);if(typeof n.value=="function")return Zs(n.value)}t=hse(t)}function r(){return null}return r}const ZA=Js(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),$b=Js(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),zb=Js(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),xse=Js(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ub=Js(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),bse=Js(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),QA=Js(["#text"]),eE=Js(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),qb=Js(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),tE=Js(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Fy=Js(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),wse=To(/\{\{[\w\W]*|[\w\W]*\}\}/gm),_se=To(/<%[\w\W]*|[\w\W]*%>/gm),Sse=To(/\$\{[\w\W]*/gm),Cse=To(/^data-[\-\w.\u00B7-\uFFFF]+$/),kse=To(/^aria-[\-\w]+$/),dO=To(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Nse=To(/^(?:\w+script|data):/i),Tse=To(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),fO=To(/^html$/i),Ase=To(/^[a-z][.\w]*(-[.\w]+)+$/i);var rE=Object.freeze({__proto__:null,ARIA_ATTR:kse,ATTR_WHITESPACE:Tse,CUSTOM_ELEMENT:Ase,DATA_ATTR:Cse,DOCTYPE_NAME:fO,ERB_EXPR:_se,IS_ALLOWED_URI:dO,IS_SCRIPT_OR_DATA:Nse,MUSTACHE_EXPR:wse,TMPLIT_EXPR:Sse});const Dm={element:1,text:3,progressingInstruction:7,comment:8,document:9},Ese=function(){return typeof window>"u"?null:window},jse=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const s="dompurify"+(n?"#"+n:"");try{return e.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},nE=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function pO(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ese();const e=gt=>pO(gt);if(e.version="3.3.0",e.removed=[],!t||!t.document||t.document.nodeType!==Dm.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,i=n.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:o,Element:l,NodeFilter:c,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:g,trustedTypes:p}=t,v=l.prototype,x=Im(v,"cloneNode"),b=Im(v,"remove"),_=Im(v,"nextSibling"),k=Im(v,"childNodes"),N=Im(v,"parentNode");if(typeof a=="function"){const gt=r.createElement("template");gt.content&&gt.content.ownerDocument&&(r=gt.content.ownerDocument)}let j,P="";const{implementation:F,createNodeIterator:D,createDocumentFragment:U,getElementsByTagName:z}=r,{importNode:K}=n;let B=nE();e.isSupported=typeof hO=="function"&&typeof N=="function"&&F&&F.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:q,ERB_EXPR:W,TMPLIT_EXPR:$,DATA_ATTR:Q,ARIA_ATTR:ee,IS_SCRIPT_OR_DATA:se,ATTR_WHITESPACE:V,CUSTOM_ELEMENT:re}=rE;let{IS_ALLOWED_URI:pe}=rE,X=null;const O=jr({},[...ZA,...$b,...zb,...Ub,...QA]);let Y=null;const ne=jr({},[...eE,...qb,...tE,...Fy]);let oe=Object.seal(P5(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ue=null,de=null;const be=Object.seal(P5(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Se=!0,ke=!0,De=!1,Ye=!0,We=!1,nt=!0,le=!1,Ze=!1,er=!1,vt=!1,ze=!1,xt=!1,tt=!0,jt=!1;const dt="user-content-";let _r=!0,or=!1,mt={},Gt=null;const hr=jr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ft=null;const zt=jr({},["audio","video","img","source","image","track"]);let ot=null;const rn=jr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),fr="http://www.w3.org/1998/Math/MathML",Vt="http://www.w3.org/2000/svg",Ht="http://www.w3.org/1999/xhtml";let xr=Ht,Tt=!1,Rr=null;const Dt=jr({},[fr,Vt,Ht],Bb);let qt=jr({},["mi","mo","mn","ms","mtext"]),kr=jr({},["annotation-xml"]);const Jt=jr({},["title","style","font","a","script"]);let lt=null;const Ar=["application/xhtml+xml","text/html"],Ut="text/html";let pt=null,mr=null;const cn=r.createElement("form"),ct=function(ye){return ye instanceof RegExp||ye instanceof Function},un=function(){let ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(mr&&mr===ye)){if((!ye||typeof ye!="object")&&(ye={}),ye=Vc(ye),lt=Ar.indexOf(ye.PARSER_MEDIA_TYPE)===-1?Ut:ye.PARSER_MEDIA_TYPE,pt=lt==="application/xhtml+xml"?Bb:S1,X=rl(ye,"ALLOWED_TAGS")?jr({},ye.ALLOWED_TAGS,pt):O,Y=rl(ye,"ALLOWED_ATTR")?jr({},ye.ALLOWED_ATTR,pt):ne,Rr=rl(ye,"ALLOWED_NAMESPACES")?jr({},ye.ALLOWED_NAMESPACES,Bb):Dt,ot=rl(ye,"ADD_URI_SAFE_ATTR")?jr(Vc(rn),ye.ADD_URI_SAFE_ATTR,pt):rn,ft=rl(ye,"ADD_DATA_URI_TAGS")?jr(Vc(zt),ye.ADD_DATA_URI_TAGS,pt):zt,Gt=rl(ye,"FORBID_CONTENTS")?jr({},ye.FORBID_CONTENTS,pt):hr,ue=rl(ye,"FORBID_TAGS")?jr({},ye.FORBID_TAGS,pt):Vc({}),de=rl(ye,"FORBID_ATTR")?jr({},ye.FORBID_ATTR,pt):Vc({}),mt=rl(ye,"USE_PROFILES")?ye.USE_PROFILES:!1,Se=ye.ALLOW_ARIA_ATTR!==!1,ke=ye.ALLOW_DATA_ATTR!==!1,De=ye.ALLOW_UNKNOWN_PROTOCOLS||!1,Ye=ye.ALLOW_SELF_CLOSE_IN_ATTR!==!1,We=ye.SAFE_FOR_TEMPLATES||!1,nt=ye.SAFE_FOR_XML!==!1,le=ye.WHOLE_DOCUMENT||!1,vt=ye.RETURN_DOM||!1,ze=ye.RETURN_DOM_FRAGMENT||!1,xt=ye.RETURN_TRUSTED_TYPE||!1,er=ye.FORCE_BODY||!1,tt=ye.SANITIZE_DOM!==!1,jt=ye.SANITIZE_NAMED_PROPS||!1,_r=ye.KEEP_CONTENT!==!1,or=ye.IN_PLACE||!1,pe=ye.ALLOWED_URI_REGEXP||dO,xr=ye.NAMESPACE||Ht,qt=ye.MATHML_TEXT_INTEGRATION_POINTS||qt,kr=ye.HTML_INTEGRATION_POINTS||kr,oe=ye.CUSTOM_ELEMENT_HANDLING||{},ye.CUSTOM_ELEMENT_HANDLING&&ct(ye.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(oe.tagNameCheck=ye.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ye.CUSTOM_ELEMENT_HANDLING&&ct(ye.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(oe.attributeNameCheck=ye.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ye.CUSTOM_ELEMENT_HANDLING&&typeof ye.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(oe.allowCustomizedBuiltInElements=ye.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),We&&(ke=!1),ze&&(vt=!0),mt&&(X=jr({},QA),Y=[],mt.html===!0&&(jr(X,ZA),jr(Y,eE)),mt.svg===!0&&(jr(X,$b),jr(Y,qb),jr(Y,Fy)),mt.svgFilters===!0&&(jr(X,zb),jr(Y,qb),jr(Y,Fy)),mt.mathMl===!0&&(jr(X,Ub),jr(Y,tE),jr(Y,Fy))),ye.ADD_TAGS&&(typeof ye.ADD_TAGS=="function"?be.tagCheck=ye.ADD_TAGS:(X===O&&(X=Vc(X)),jr(X,ye.ADD_TAGS,pt))),ye.ADD_ATTR&&(typeof ye.ADD_ATTR=="function"?be.attributeCheck=ye.ADD_ATTR:(Y===ne&&(Y=Vc(Y)),jr(Y,ye.ADD_ATTR,pt))),ye.ADD_URI_SAFE_ATTR&&jr(ot,ye.ADD_URI_SAFE_ATTR,pt),ye.FORBID_CONTENTS&&(Gt===hr&&(Gt=Vc(Gt)),jr(Gt,ye.FORBID_CONTENTS,pt)),_r&&(X["#text"]=!0),le&&jr(X,["html","head","body"]),X.table&&(jr(X,["tbody"]),delete ue.tbody),ye.TRUSTED_TYPES_POLICY){if(typeof ye.TRUSTED_TYPES_POLICY.createHTML!="function")throw Om('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ye.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Om('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');j=ye.TRUSTED_TYPES_POLICY,P=j.createHTML("")}else j===void 0&&(j=jse(p,i)),j!==null&&typeof P=="string"&&(P=j.createHTML(""));Js&&Js(ye),mr=ye}},Ln=jr({},[...$b,...zb,...xse]),$r=jr({},[...Ub,...bse]),_n=function(ye){let Ge=N(ye);(!Ge||!Ge.tagName)&&(Ge={namespaceURI:xr,tagName:"template"});const st=S1(ye.tagName),Xr=S1(Ge.tagName);return Rr[ye.namespaceURI]?ye.namespaceURI===Vt?Ge.namespaceURI===Ht?st==="svg":Ge.namespaceURI===fr?st==="svg"&&(Xr==="annotation-xml"||qt[Xr]):!!Ln[st]:ye.namespaceURI===fr?Ge.namespaceURI===Ht?st==="math":Ge.namespaceURI===Vt?st==="math"&&kr[Xr]:!!$r[st]:ye.namespaceURI===Ht?Ge.namespaceURI===Vt&&!kr[Xr]||Ge.namespaceURI===fr&&!qt[Xr]?!1:!$r[st]&&(Jt[st]||!Ln[st]):!!(lt==="application/xhtml+xml"&&Rr[ye.namespaceURI]):!1},Sr=function(ye){Rm(e.removed,{element:ye});try{N(ye).removeChild(ye)}catch{b(ye)}},Yr=function(ye,Ge){try{Rm(e.removed,{attribute:Ge.getAttributeNode(ye),from:Ge})}catch{Rm(e.removed,{attribute:null,from:Ge})}if(Ge.removeAttribute(ye),ye==="is")if(vt||ze)try{Sr(Ge)}catch{}else try{Ge.setAttribute(ye,"")}catch{}},Sn=function(ye){let Ge=null,st=null;if(er)ye="<remove></remove>"+ye;else{const pn=Fb(ye,/^[\r\n\t ]+/);st=pn&&pn[0]}lt==="application/xhtml+xml"&&xr===Ht&&(ye='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ye+"</body></html>");const Xr=j?j.createHTML(ye):ye;if(xr===Ht)try{Ge=new g().parseFromString(Xr,lt)}catch{}if(!Ge||!Ge.documentElement){Ge=F.createDocument(xr,"template",null);try{Ge.documentElement.innerHTML=Tt?P:Xr}catch{}}const gr=Ge.body||Ge.documentElement;return ye&&st&&gr.insertBefore(r.createTextNode(st),gr.childNodes[0]||null),xr===Ht?z.call(Ge,le?"html":"body")[0]:le?Ge.documentElement:gr},ta=function(ye){return D.call(ye.ownerDocument||ye,ye,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},ra=function(ye){return ye instanceof f&&(typeof ye.nodeName!="string"||typeof ye.textContent!="string"||typeof ye.removeChild!="function"||!(ye.attributes instanceof h)||typeof ye.removeAttribute!="function"||typeof ye.setAttribute!="function"||typeof ye.namespaceURI!="string"||typeof ye.insertBefore!="function"||typeof ye.hasChildNodes!="function")},us=function(ye){return typeof o=="function"&&ye instanceof o};function Qn(gt,ye,Ge){By(gt,st=>{st.call(e,ye,Ge,mr)})}const ei=function(ye){let Ge=null;if(Qn(B.beforeSanitizeElements,ye,null),ra(ye))return Sr(ye),!0;const st=pt(ye.nodeName);if(Qn(B.uponSanitizeElement,ye,{tagName:st,allowedTags:X}),nt&&ye.hasChildNodes()&&!us(ye.firstElementChild)&&Vs(/<[/\w!]/g,ye.innerHTML)&&Vs(/<[/\w!]/g,ye.textContent)||ye.nodeType===Dm.progressingInstruction||nt&&ye.nodeType===Dm.comment&&Vs(/<[/\w]/g,ye.data))return Sr(ye),!0;if(!(be.tagCheck instanceof Function&&be.tagCheck(st))&&(!X[st]||ue[st])){if(!ue[st]&&Ui(st)&&(oe.tagNameCheck instanceof RegExp&&Vs(oe.tagNameCheck,st)||oe.tagNameCheck instanceof Function&&oe.tagNameCheck(st)))return!1;if(_r&&!Gt[st]){const Xr=N(ye)||ye.parentNode,gr=k(ye)||ye.childNodes;if(gr&&Xr){const pn=gr.length;for(let qn=pn-1;qn>=0;--qn){const Cn=x(gr[qn],!0);Cn.__removalCount=(ye.__removalCount||0)+1,Xr.insertBefore(Cn,_(ye))}}}return Sr(ye),!0}return ye instanceof l&&!_n(ye)||(st==="noscript"||st==="noembed"||st==="noframes")&&Vs(/<\/no(script|embed|frames)/i,ye.innerHTML)?(Sr(ye),!0):(We&&ye.nodeType===Dm.text&&(Ge=ye.textContent,By([q,W,$],Xr=>{Ge=Mm(Ge,Xr," ")}),ye.textContent!==Ge&&(Rm(e.removed,{element:ye.cloneNode()}),ye.textContent=Ge)),Qn(B.afterSanitizeElements,ye,null),!1)},Qi=function(ye,Ge,st){if(tt&&(Ge==="id"||Ge==="name")&&(st in r||st in cn))return!1;if(!(ke&&!de[Ge]&&Vs(Q,Ge))){if(!(Se&&Vs(ee,Ge))){if(!(be.attributeCheck instanceof Function&&be.attributeCheck(Ge,ye))){if(!Y[Ge]||de[Ge]){if(!(Ui(ye)&&(oe.tagNameCheck instanceof RegExp&&Vs(oe.tagNameCheck,ye)||oe.tagNameCheck instanceof Function&&oe.tagNameCheck(ye))&&(oe.attributeNameCheck instanceof RegExp&&Vs(oe.attributeNameCheck,Ge)||oe.attributeNameCheck instanceof Function&&oe.attributeNameCheck(Ge,ye))||Ge==="is"&&oe.allowCustomizedBuiltInElements&&(oe.tagNameCheck instanceof RegExp&&Vs(oe.tagNameCheck,st)||oe.tagNameCheck instanceof Function&&oe.tagNameCheck(st))))return!1}else if(!ot[Ge]){if(!Vs(pe,Mm(st,V,""))){if(!((Ge==="src"||Ge==="xlink:href"||Ge==="href")&&ye!=="script"&&mse(st,"data:")===0&&ft[ye])){if(!(De&&!Vs(se,Mm(st,V,"")))){if(st)return!1}}}}}}}return!0},Ui=function(ye){return ye!=="annotation-xml"&&Fb(ye,re)},eo=function(ye){Qn(B.beforeSanitizeAttributes,ye,null);const{attributes:Ge}=ye;if(!Ge||ra(ye))return;const st={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Y,forceKeepAttr:void 0};let Xr=Ge.length;for(;Xr--;){const gr=Ge[Xr],{name:pn,namespaceURI:qn,value:Cn}=gr,es=pt(pn),_l=Cn;let yn=pn==="value"?_l:gse(_l);if(st.attrName=es,st.attrValue=yn,st.keepAttr=!0,st.forceKeepAttr=void 0,Qn(B.uponSanitizeAttribute,ye,st),yn=st.attrValue,jt&&(es==="id"||es==="name")&&(Yr(pn,ye),yn=dt+yn),nt&&Vs(/((--!?|])>)|<\/(style|title|textarea)/i,yn)){Yr(pn,ye);continue}if(es==="attributename"&&Fb(yn,"href")){Yr(pn,ye);continue}if(st.forceKeepAttr)continue;if(!st.keepAttr){Yr(pn,ye);continue}if(!Ye&&Vs(/\/>/i,yn)){Yr(pn,ye);continue}We&&By([q,W,$],qi=>{yn=Mm(yn,qi," ")});const to=pt(ye.nodeName);if(!Qi(to,es,yn)){Yr(pn,ye);continue}if(j&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!qn)switch(p.getAttributeType(to,es)){case"TrustedHTML":{yn=j.createHTML(yn);break}case"TrustedScriptURL":{yn=j.createScriptURL(yn);break}}if(yn!==_l)try{qn?ye.setAttributeNS(qn,pn,yn):ye.setAttribute(pn,yn),ra(ye)?Sr(ye):JA(e.removed)}catch{Yr(pn,ye)}}Qn(B.afterSanitizeAttributes,ye,null)},Os=function gt(ye){let Ge=null;const st=ta(ye);for(Qn(B.beforeSanitizeShadowDOM,ye,null);Ge=st.nextNode();)Qn(B.uponSanitizeShadowNode,Ge,null),ei(Ge),eo(Ge),Ge.content instanceof s&&gt(Ge.content);Qn(B.afterSanitizeShadowDOM,ye,null)};return e.sanitize=function(gt){let ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ge=null,st=null,Xr=null,gr=null;if(Tt=!gt,Tt&&(gt="<!-->"),typeof gt!="string"&&!us(gt))if(typeof gt.toString=="function"){if(gt=gt.toString(),typeof gt!="string")throw Om("dirty is not a string, aborting")}else throw Om("toString is not a function");if(!e.isSupported)return gt;if(Ze||un(ye),e.removed=[],typeof gt=="string"&&(or=!1),or){if(gt.nodeName){const Cn=pt(gt.nodeName);if(!X[Cn]||ue[Cn])throw Om("root node is forbidden and cannot be sanitized in-place")}}else if(gt instanceof o)Ge=Sn("<!---->"),st=Ge.ownerDocument.importNode(gt,!0),st.nodeType===Dm.element&&st.nodeName==="BODY"||st.nodeName==="HTML"?Ge=st:Ge.appendChild(st);else{if(!vt&&!We&&!le&&gt.indexOf("<")===-1)return j&&xt?j.createHTML(gt):gt;if(Ge=Sn(gt),!Ge)return vt?null:xt?P:""}Ge&&er&&Sr(Ge.firstChild);const pn=ta(or?gt:Ge);for(;Xr=pn.nextNode();)ei(Xr),eo(Xr),Xr.content instanceof s&&Os(Xr.content);if(or)return gt;if(vt){if(ze)for(gr=U.call(Ge.ownerDocument);Ge.firstChild;)gr.appendChild(Ge.firstChild);else gr=Ge;return(Y.shadowroot||Y.shadowrootmode)&&(gr=K.call(n,gr,!0)),gr}let qn=le?Ge.outerHTML:Ge.innerHTML;return le&&X["!doctype"]&&Ge.ownerDocument&&Ge.ownerDocument.doctype&&Ge.ownerDocument.doctype.name&&Vs(fO,Ge.ownerDocument.doctype.name)&&(qn="<!DOCTYPE "+Ge.ownerDocument.doctype.name+`>
`+qn),We&&By([q,W,$],Cn=>{qn=Mm(qn,Cn," ")}),j&&xt?j.createHTML(qn):qn},e.setConfig=function(){let gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};un(gt),Ze=!0},e.clearConfig=function(){mr=null,Ze=!1},e.isValidAttribute=function(gt,ye,Ge){mr||un({});const st=pt(gt),Xr=pt(ye);return Qi(st,Xr,Ge)},e.addHook=function(gt,ye){typeof ye=="function"&&Rm(B[gt],ye)},e.removeHook=function(gt,ye){if(ye!==void 0){const Ge=fse(B[gt],ye);return Ge===-1?void 0:pse(B[gt],Ge,1)[0]}return JA(B[gt])},e.removeHooks=function(gt){B[gt]=[]},e.removeAllHooks=function(){B=nE()},e}var Ld=pO();const Lse=Object.freeze(Object.defineProperty({__proto__:null,default:Ld},Symbol.toStringTag,{value:"Module"}));var mO=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,yg=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Pse=/\s*%%.*\n/gm,up,gO=(up=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},M(up,"UnknownDiagramError"),up),Pd={},RC=M(function(t,e){t=t.replace(mO,"").replace(yg,"").replace(Pse,`
`);for(const[r,{detector:n}]of Object.entries(Pd))if(n(t,e))return r;throw new gO(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),O5=M((...t)=>{for(const{id:e,detector:r,loader:n}of t)yO(e,r,n)},"registerLazyLoadedDiagrams"),yO=M((t,e,r)=>{Pd[t]&&Ue.warn(`Detector with key ${t} already exists. Overwriting.`),Pd[t]={detector:e,loader:r},Ue.debug(`Detector with key ${t} added${r?" with loader":""}`)},"addDetector"),Rse=M(t=>Pd[t].loader,"getDiagramLoader"),I5=M((t,e,{depth:r=2,clobber:n=!1}={})=>{const i={depth:r,clobber:n};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(s=>I5(t,s,i)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(s=>{t.includes(s)||t.push(s)}),t):t===void 0||r<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(s=>{typeof e[s]=="object"&&(t[s]===void 0||typeof t[s]=="object")?(t[s]===void 0&&(t[s]=Array.isArray(e[s])?[]:{}),t[s]=I5(t[s],e[s],{depth:r-1,clobber:n})):(n||typeof t[s]!="object"&&typeof e[s]!="object")&&(t[s]=e[s])}),t)},"assignWithDepth"),Fi=I5,Ex="#ffffff",jx="#f2f2f2",Gs=M((t,e)=>e?Te(t,{s:-40,l:10}):Te(t,{s:-40,l:-10}),"mkBorder"),hp,Mse=(hp=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Te(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Te(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Gs(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Gs(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Gs(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Gs(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||rt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||rt(this.tertiaryColor),this.lineColor=this.lineColor||rt(this.background),this.arrowheadColor=this.arrowheadColor||rt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Wt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Wt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||rt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Ct(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||Wt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Wt(this.mainBkg,10)):(this.rowOdd=this.rowOdd||Ct(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ct(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Te(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Te(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Te(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Te(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Te(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Te(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Te(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Te(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Te(this.primaryColor,{h:330}),this.darkMode)for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScale"+r]=Wt(this["cScale"+r],75);else for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScale"+r]=Wt(this["cScale"+r],25);for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScaleInv"+r]=this["cScaleInv"+r]||rt(this["cScale"+r]);for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this.darkMode?this["cScalePeer"+r]=this["cScalePeer"+r]||Ct(this["cScale"+r],10):this["cScalePeer"+r]=this["cScalePeer"+r]||Wt(this["cScale"+r],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let r=0;r<this.THEME_COLOR_LIMIT;r++)this["cScaleLabel"+r]=this["cScaleLabel"+r]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let r=0;r<5;r++)this["surface"+r]=this["surface"+r]||Te(this.mainBkg,{h:180,s:-15,l:e*(5+r*3)}),this["surfacePeer"+r]=this["surfacePeer"+r]||Te(this.mainBkg,{h:180,s:-15,l:e*(8+r*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Te(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Te(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Te(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Te(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Te(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Te(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Te(this.primaryColor,{l:-10}),this.pie5=this.pie5||Te(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Te(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Te(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Te(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Te(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Te(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Te(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Te(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Te(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Te(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Te(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Te(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Te(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Te(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||v0(this.quadrant1Fill)?Ct(this.quadrant1Fill):Wt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Wt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Te(this.primaryColor,{h:-30}),this.git4=this.git4||Te(this.primaryColor,{h:-60}),this.git5=this.git5||Te(this.primaryColor,{h:-90}),this.git6=this.git6||Te(this.primaryColor,{h:60}),this.git7=this.git7||Te(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ct(this.git0,25),this.git1=Ct(this.git1,25),this.git2=Ct(this.git2,25),this.git3=Ct(this.git3,25),this.git4=Ct(this.git4,25),this.git5=Ct(this.git5,25),this.git6=Ct(this.git6,25),this.git7=Ct(this.git7,25)):(this.git0=Wt(this.git0,25),this.git1=Wt(this.git1,25),this.git2=Wt(this.git2,25),this.git3=Wt(this.git3,25),this.git4=Wt(this.git4,25),this.git5=Wt(this.git5,25),this.git6=Wt(this.git6,25),this.git7=Wt(this.git7,25)),this.gitInv0=this.gitInv0||rt(this.git0),this.gitInv1=this.gitInv1||rt(this.git1),this.gitInv2=this.gitInv2||rt(this.git2),this.gitInv3=this.gitInv3||rt(this.git3),this.gitInv4=this.gitInv4||rt(this.git4),this.gitInv5=this.gitInv5||rt(this.git5),this.gitInv6=this.gitInv6||rt(this.git6),this.gitInv7=this.gitInv7||rt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ex,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||jx}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},M(hp,"Theme"),hp),Ose=M(t=>{const e=new Mse;return e.calculate(t),e},"getThemeVariables"),dp,Ise=(dp=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Ct(this.primaryColor,16),this.tertiaryColor=Te(this.primaryColor,{h:-160}),this.primaryBorderColor=rt(this.background),this.secondaryBorderColor=Gs(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Gs(this.tertiaryColor,this.darkMode),this.primaryTextColor=rt(this.primaryColor),this.secondaryTextColor=rt(this.secondaryColor),this.tertiaryTextColor=rt(this.tertiaryColor),this.lineColor=rt(this.background),this.textColor=rt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Ct(rt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=gg(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Wt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Wt(this.sectionBkgColor,10),this.taskBorderColor=gg(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=gg(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ct(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Wt(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=Ct(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Ct(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Ct(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Te(this.primaryColor,{h:64}),this.fillType3=Te(this.secondaryColor,{h:64}),this.fillType4=Te(this.primaryColor,{h:-64}),this.fillType5=Te(this.secondaryColor,{h:-64}),this.fillType6=Te(this.primaryColor,{h:128}),this.fillType7=Te(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Te(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Te(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Te(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Te(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Te(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Te(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Te(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Te(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Te(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||rt(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||Ct(this["cScale"+e],10);for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Te(this.mainBkg,{h:30,s:-30,l:-(-10+e*4)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Te(this.mainBkg,{h:30,s:-30,l:-(-7+e*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Te(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Te(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Te(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Te(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Te(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Te(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||v0(this.quadrant1Fill)?Ct(this.quadrant1Fill):Wt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Wt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ct(this.secondaryColor,20),this.git1=Ct(this.pie2||this.secondaryColor,20),this.git2=Ct(this.pie3||this.tertiaryColor,20),this.git3=Ct(this.pie4||Te(this.primaryColor,{h:-30}),20),this.git4=Ct(this.pie5||Te(this.primaryColor,{h:-60}),20),this.git5=Ct(this.pie6||Te(this.primaryColor,{h:-90}),10),this.git6=Ct(this.pie7||Te(this.primaryColor,{h:60}),10),this.git7=Ct(this.pie8||Te(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||rt(this.git0),this.gitInv1=this.gitInv1||rt(this.git1),this.gitInv2=this.gitInv2||rt(this.git2),this.gitInv3=this.gitInv3||rt(this.git3),this.gitInv4=this.gitInv4||rt(this.git4),this.gitInv5=this.gitInv5||rt(this.git5),this.gitInv6=this.gitInv6||rt(this.git6),this.gitInv7=this.gitInv7||rt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||rt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||rt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ct(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ct(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},M(dp,"Theme"),dp),Dse=M(t=>{const e=new Ise;return e.calculate(t),e},"getThemeVariables"),fp,Bse=(fp=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Te(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Te(this.primaryColor,{h:-160}),this.primaryBorderColor=Gs(this.primaryColor,this.darkMode),this.secondaryBorderColor=Gs(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Gs(this.tertiaryColor,this.darkMode),this.primaryTextColor=rt(this.primaryColor),this.secondaryTextColor=rt(this.secondaryColor),this.tertiaryTextColor=rt(this.tertiaryColor),this.lineColor=rt(this.background),this.textColor=rt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=gg(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Te(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Te(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Te(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Te(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Te(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Te(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Te(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Te(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Te(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Wt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Wt(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=Wt(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||Wt(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Te(this["cScale"+e],{h:180});for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Te(this.mainBkg,{h:30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Te(this.mainBkg,{h:30,l:-(7+e*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||rt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||rt(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Ct(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ct(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||Ct(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Te(this.primaryColor,{h:64}),this.fillType3=Te(this.secondaryColor,{h:64}),this.fillType4=Te(this.primaryColor,{h:-64}),this.fillType5=Te(this.secondaryColor,{h:-64}),this.fillType6=Te(this.primaryColor,{h:128}),this.fillType7=Te(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Te(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Te(this.primaryColor,{l:-10}),this.pie5=this.pie5||Te(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Te(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Te(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Te(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Te(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Te(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Te(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Te(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Te(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Te(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Te(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Te(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Te(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Te(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||v0(this.quadrant1Fill)?Ct(this.quadrant1Fill):Wt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Te(this.primaryColor,{h:-30}),this.git4=this.git4||Te(this.primaryColor,{h:-60}),this.git5=this.git5||Te(this.primaryColor,{h:-90}),this.git6=this.git6||Te(this.primaryColor,{h:60}),this.git7=this.git7||Te(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ct(this.git0,25),this.git1=Ct(this.git1,25),this.git2=Ct(this.git2,25),this.git3=Ct(this.git3,25),this.git4=Ct(this.git4,25),this.git5=Ct(this.git5,25),this.git6=Ct(this.git6,25),this.git7=Ct(this.git7,25)):(this.git0=Wt(this.git0,25),this.git1=Wt(this.git1,25),this.git2=Wt(this.git2,25),this.git3=Wt(this.git3,25),this.git4=Wt(this.git4,25),this.git5=Wt(this.git5,25),this.git6=Wt(this.git6,25),this.git7=Wt(this.git7,25)),this.gitInv0=this.gitInv0||Wt(rt(this.git0),25),this.gitInv1=this.gitInv1||rt(this.git1),this.gitInv2=this.gitInv2||rt(this.git2),this.gitInv3=this.gitInv3||rt(this.git3),this.gitInv4=this.gitInv4||rt(this.git4),this.gitInv5=this.gitInv5||rt(this.git5),this.gitInv6=this.gitInv6||rt(this.git6),this.gitInv7=this.gitInv7||rt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||rt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||rt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ex,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||jx}calculate(e){if(Object.keys(this).forEach(n=>{this[n]==="calculated"&&(this[n]=void 0)}),typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},M(fp,"Theme"),fp),Fse=M(t=>{const e=new Bse;return e.calculate(t),e},"getThemeVariables"),pp,$se=(pp=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Ct("#cde498",10),this.primaryBorderColor=Gs(this.primaryColor,this.darkMode),this.secondaryBorderColor=Gs(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Gs(this.tertiaryColor,this.darkMode),this.primaryTextColor=rt(this.primaryColor),this.secondaryTextColor=rt(this.secondaryColor),this.tertiaryTextColor=rt(this.primaryColor),this.lineColor=rt(this.background),this.textColor=rt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=Wt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Te(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Te(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Te(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Te(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Te(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Te(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Te(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Te(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Te(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Wt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Wt(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=Wt(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||Wt(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Te(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Te(this.mainBkg,{h:30,s:-30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Te(this.mainBkg,{h:30,s:-30,l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ct(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ct(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Te(this.primaryColor,{h:64}),this.fillType3=Te(this.secondaryColor,{h:64}),this.fillType4=Te(this.primaryColor,{h:-64}),this.fillType5=Te(this.secondaryColor,{h:-64}),this.fillType6=Te(this.primaryColor,{h:128}),this.fillType7=Te(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Te(this.primaryColor,{l:-30}),this.pie5=this.pie5||Te(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Te(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Te(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Te(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Te(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Te(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Te(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Te(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Te(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Te(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Te(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Te(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Te(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Te(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||v0(this.quadrant1Fill)?Ct(this.quadrant1Fill):Wt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Te(this.primaryColor,{h:-30}),this.git4=this.git4||Te(this.primaryColor,{h:-60}),this.git5=this.git5||Te(this.primaryColor,{h:-90}),this.git6=this.git6||Te(this.primaryColor,{h:60}),this.git7=this.git7||Te(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ct(this.git0,25),this.git1=Ct(this.git1,25),this.git2=Ct(this.git2,25),this.git3=Ct(this.git3,25),this.git4=Ct(this.git4,25),this.git5=Ct(this.git5,25),this.git6=Ct(this.git6,25),this.git7=Ct(this.git7,25)):(this.git0=Wt(this.git0,25),this.git1=Wt(this.git1,25),this.git2=Wt(this.git2,25),this.git3=Wt(this.git3,25),this.git4=Wt(this.git4,25),this.git5=Wt(this.git5,25),this.git6=Wt(this.git6,25),this.git7=Wt(this.git7,25)),this.gitInv0=this.gitInv0||rt(this.git0),this.gitInv1=this.gitInv1||rt(this.git1),this.gitInv2=this.gitInv2||rt(this.git2),this.gitInv3=this.gitInv3||rt(this.git3),this.gitInv4=this.gitInv4||rt(this.git4),this.gitInv5=this.gitInv5||rt(this.git5),this.gitInv6=this.gitInv6||rt(this.git6),this.gitInv7=this.gitInv7||rt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||rt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||rt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ex,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||jx}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},M(pp,"Theme"),pp),zse=M(t=>{const e=new $se;return e.calculate(t),e},"getThemeVariables"),mp,Use=(mp=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Ct(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Te(this.primaryColor,{h:-160}),this.primaryBorderColor=Gs(this.primaryColor,this.darkMode),this.secondaryBorderColor=Gs(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Gs(this.tertiaryColor,this.darkMode),this.primaryTextColor=rt(this.primaryColor),this.secondaryTextColor=rt(this.secondaryColor),this.tertiaryTextColor=rt(this.tertiaryColor),this.lineColor=rt(this.background),this.textColor=rt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ct(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=Ct(this.contrast,55),this.border2=this.contrast,this.actorBorder=Ct(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||rt(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||Ct(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||Wt(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Te(this.mainBkg,{l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Te(this.mainBkg,{l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Ct(this.contrast,30),this.sectionBkgColor2=Ct(this.contrast,30),this.taskBorderColor=Wt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Ct(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Wt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Te(this.primaryColor,{h:64}),this.fillType3=Te(this.secondaryColor,{h:64}),this.fillType4=Te(this.primaryColor,{h:-64}),this.fillType5=Te(this.secondaryColor,{h:-64}),this.fillType6=Te(this.primaryColor,{h:128}),this.fillType7=Te(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Te(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Te(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Te(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Te(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Te(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Te(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||v0(this.quadrant1Fill)?Ct(this.quadrant1Fill):Wt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Wt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Te(this.primaryColor,{h:-30}),this.git4=this.pie5||Te(this.primaryColor,{h:-60}),this.git5=this.pie6||Te(this.primaryColor,{h:-90}),this.git6=this.pie7||Te(this.primaryColor,{h:60}),this.git7=this.pie8||Te(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||rt(this.git0),this.gitInv1=this.gitInv1||rt(this.git1),this.gitInv2=this.gitInv2||rt(this.git2),this.gitInv3=this.gitInv3||rt(this.git3),this.gitInv4=this.gitInv4||rt(this.git4),this.gitInv5=this.gitInv5||rt(this.git5),this.gitInv6=this.gitInv6||rt(this.git6),this.gitInv7=this.gitInv7||rt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ex,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||jx}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},M(mp,"Theme"),mp),qse=M(t=>{const e=new Use;return e.calculate(t),e},"getThemeVariables"),eu={base:{getThemeVariables:Ose},dark:{getThemeVariables:Dse},default:{getThemeVariables:Fse},forest:{getThemeVariables:zse},neutral:{getThemeVariables:qse}},$l={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},vO={...$l,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:eu.default.getThemeVariables(),sequence:{...$l.sequence,messageFont:M(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:M(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:M(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...$l.gantt,tickInterval:void 0,useWidth:void 0},c4:{...$l.c4,useWidth:void 0,personFont:M(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...$l.flowchart,inheritDir:!1},external_personFont:M(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:M(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:M(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:M(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:M(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:M(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:M(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:M(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:M(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:M(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:M(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:M(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:M(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:M(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:M(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:M(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:M(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:M(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:M(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:M(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:M(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...$l.pie,useWidth:984},xyChart:{...$l.xyChart,useWidth:void 0},requirement:{...$l.requirement,useWidth:void 0},packet:{...$l.packet},radar:{...$l.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},xO=M((t,e="")=>Object.keys(t).reduce((r,n)=>Array.isArray(t[n])?r:typeof t[n]=="object"&&t[n]!==null?[...r,e+n,...xO(t[n],"")]:[...r,e+n],[]),"keyify"),Wse=new Set(xO(vO,"")),bO=vO,hv=M(t=>{if(Ue.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>hv(e));return}for(const e of Object.keys(t)){if(Ue.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!Wse.has(e)||t[e]==null){Ue.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){Ue.debug("sanitizing object",e),hv(t[e]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)e.includes(n)&&(Ue.debug("sanitizing css option",e),t[e]=Vse(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const r=t.themeVariables[e];r?.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}Ue.debug("After sanitization",t)}},"sanitizeDirective"),Vse=M(t=>{let e=0,r=0;for(const n of t){if(e<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?e++:n==="}"&&r++}return e!==r?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),Cp=Object.freeze(bO),ba=Fi({},Cp),dv,Rd=[],vg=Fi({},Cp),Lx=M((t,e)=>{let r=Fi({},t),n={};for(const i of e)SO(i),n=Fi(n,i);if(r=Fi(r,n),n.theme&&n.theme in eu){const i=Fi({},dv),s=Fi(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in eu&&(r.themeVariables=eu[r.theme].getThemeVariables(s))}return vg=r,CO(vg),vg},"updateCurrentConfig"),Hse=M(t=>(ba=Fi({},Cp),ba=Fi(ba,t),t.theme&&eu[t.theme]&&(ba.themeVariables=eu[t.theme].getThemeVariables(t.themeVariables)),Lx(ba,Rd),ba),"setSiteConfig"),Gse=M(t=>{dv=Fi({},t)},"saveConfigFromInitialize"),Yse=M(t=>(ba=Fi(ba,t),Lx(ba,Rd),ba),"updateSiteConfig"),wO=M(()=>Fi({},ba),"getSiteConfig"),_O=M(t=>(CO(t),Fi(vg,t),Ls()),"setConfig"),Ls=M(()=>Fi({},vg),"getConfig"),SO=M(t=>{t&&(["secure",...ba.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&(Ue.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&SO(t[e])}))},"sanitize"),Kse=M(t=>{hv(t),t.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),Rd.push(t),Lx(ba,Rd)},"addDirective"),fv=M((t=ba)=>{Rd=[],Lx(t,Rd)},"reset"),Xse={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},iE={},Jse=M(t=>{iE[t]||(Ue.warn(Xse[t]),iE[t]=!0)},"issueWarning"),CO=M(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&Jse("LAZY_LOAD_DEPRECATED")},"checkConfig"),Uwe=M(()=>{let t={};dv&&(t=Fi(t,dv));for(const e of Rd)t=Fi(t,e);return t},"getUserDefinedConfig"),x0=/<br\s*\/?>/gi,Zse=M(t=>t?TO(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),Qse=(()=>{let t=!1;return()=>{t||(kO(),t=!0)}})();function kO(){const t="data-temp-href-target";Ld.addHook("beforeSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),Ld.addHook("afterSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}M(kO,"setupDompurifyHooks");var NO=M(t=>(Qse(),Ld.sanitize(t)),"removeScript"),sE=M((t,e)=>{if(e.flowchart?.htmlLabels!==!1){const r=e.securityLevel;r==="antiscript"||r==="strict"?t=NO(t):r!=="loose"&&(t=TO(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=nae(t))}return t},"sanitizeMore"),Ao=M((t,e)=>t&&(e.dompurifyConfig?t=Ld.sanitize(sE(t,e),e.dompurifyConfig).toString():t=Ld.sanitize(sE(t,e),{FORBID_TAGS:["style"]}).toString(),t),"sanitizeText"),eae=M((t,e)=>typeof t=="string"?Ao(t,e):t.flat().map(r=>Ao(r,e)),"sanitizeTextOrArray"),tae=M(t=>x0.test(t),"hasBreaks"),rae=M(t=>t.split(x0),"splitBreaks"),nae=M(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),TO=M(t=>t.replace(x0,"#br#"),"breakToPlaceholder"),iae=M(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=CSS.escape(e)),e},"getUrl"),zi=M(t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),"evaluate"),sae=M(function(...t){const e=t.filter(r=>!isNaN(r));return Math.max(...e)},"getMax"),aae=M(function(...t){const e=t.filter(r=>!isNaN(r));return Math.min(...e)},"getMin"),aE=M(function(t){const e=t.split(/(,)/),r=[];for(let n=0;n<e.length;n++){let i=e[n];if(i===","&&n>0&&n+1<e.length){const s=e[n-1],a=e[n+1];oae(s,a)&&(i=s+","+a,n++,r.pop())}r.push(lae(i))}return r.join("")},"parseGenericTypes"),D5=M((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),oae=M((t,e)=>{const r=D5(t,"~"),n=D5(e,"~");return r===1&&n===1},"shouldCombineSets"),lae=M(t=>{const e=D5(t,"~");let r=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),r=!0);const n=[...t];let i=n.indexOf("~"),s=n.lastIndexOf("~");for(;i!==-1&&s!==-1&&i!==s;)n[i]="<",n[s]=">",i=n.indexOf("~"),s=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),oE=M(()=>window.MathMLElement!==void 0,"isMathMLSupported"),B5=/\$\$(.*)\$\$/g,kp=M(t=>(t.match(B5)?.length??0)>0,"hasKatex"),qwe=M(async(t,e)=>{const r=document.createElement("div");r.innerHTML=await MC(t,e),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",r);const i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i},"calculateMathMLDimensions"),cae=M(async(t,e)=>{if(!kp(t))return t;if(!(oE()||e.legacyMathML||e.forceLegacyMathML))return t.replace(B5,"MathML is unsupported in this environment.");{const{default:r}=await Vr(async()=>{const{default:i}=await import("./katex-qrhCpa0F.js");return{default:i}},[]),n=e.forceLegacyMathML||!oE()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(x0).map(i=>kp(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(B5,(i,s)=>r.renderToString(s,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),MC=M(async(t,e)=>Ao(await cae(t,e),e),"renderKatexSanitized"),Yp={getRows:Zse,sanitizeText:Ao,sanitizeTextOrArray:eae,hasBreaks:tae,splitBreaks:rae,lineBreakRegex:x0,removeScript:NO,getUrl:iae,evaluate:zi,getMax:sae,getMin:aae},uae=M(function(t,e){for(let r of e)t.attr(r[0],r[1])},"d3Attrs"),hae=M(function(t,e,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${e}px;`)):(n.set("height",t),n.set("width",e)),n},"calculateSvgSizeAttrs"),AO=M(function(t,e,r,n){const i=hae(e,r,n);uae(t,i)},"configureSvgSize"),dae=M(function(t,e,r,n){const i=e.node().getBBox(),s=i.width,a=i.height;Ue.info(`SVG bounds: ${s}x${a}`,i);let o=0,l=0;Ue.info(`Graph bounds: ${o}x${l}`,t),o=s+r*2,l=a+r*2,Ue.info(`Calculated bounds: ${o}x${l}`),AO(e,l,o,n);const c=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;e.attr("viewBox",c)},"setupGraphViewbox"),C1={},fae=M((t,e,r)=>{let n="";return t in C1&&C1[t]?n=C1[t](r):Ue.warn(`No theme found for ${t}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${e}
`},"getStyles"),pae=M((t,e)=>{e!==void 0&&(C1[t]=e)},"addStylesForDiagram"),mae=fae,EO={};rse(EO,{clear:()=>gae,getAccDescription:()=>bae,getAccTitle:()=>vae,getDiagramTitle:()=>_ae,setAccDescription:()=>xae,setAccTitle:()=>yae,setDiagramTitle:()=>wae});var OC="",IC="",DC="",BC=M(t=>Ao(t,Ls()),"sanitizeText"),gae=M(()=>{OC="",DC="",IC=""},"clear"),yae=M(t=>{OC=BC(t).replace(/^\s+/g,"")},"setAccTitle"),vae=M(()=>OC,"getAccTitle"),xae=M(t=>{DC=BC(t).replace(/\n\s+/g,`
`)},"setAccDescription"),bae=M(()=>DC,"getAccDescription"),wae=M(t=>{IC=BC(t)},"setDiagramTitle"),_ae=M(()=>IC,"getDiagramTitle"),lE=Ue,Sae=PC,en=Ls,Wwe=_O,Vwe=Cp,FC=M(t=>Ao(t,en()),"sanitizeText"),Cae=dae,kae=M(()=>EO,"getCommonDb"),pv={},mv=M((t,e,r)=>{pv[t]&&lE.warn(`Diagram with id ${t} already registered. Overwriting.`),pv[t]=e,r&&yO(t,r),pae(t,e.styles),e.injectUtils?.(lE,Sae,en,FC,Cae,kae(),()=>{})},"registerDiagram"),F5=M(t=>{if(t in pv)return pv[t];throw new Nae(t)},"getDiagram"),gp,Nae=(gp=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},M(gp,"DiagramNotFoundError"),gp),Tae={value:()=>{}};function jO(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new k1(r)}function k1(t){this._=t}function Aae(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}k1.prototype=jO.prototype={constructor:k1,on:function(t,e){var r=this._,n=Aae(t+"",r),i,s=-1,a=n.length;if(arguments.length<2){for(;++s<a;)if((i=(t=n[s]).type)&&(i=Eae(r[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(i=(t=n[s]).type)r[i]=cE(r[i],t.name,e);else if(e==null)for(i in r)r[i]=cE(r[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new k1(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,s;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],n=0,i=s.length;n<i;++n)s[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,s=n.length;i<s;++i)n[i].value.apply(e,r)}};function Eae(t,e){for(var r=0,n=t.length,i;r<n;++r)if((i=t[r]).name===e)return i.value}function cE(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=Tae,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var $5="http://www.w3.org/1999/xhtml";const uE={svg:"http://www.w3.org/2000/svg",xhtml:$5,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Px(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),uE.hasOwnProperty(e)?{space:uE[e],local:t}:t}function jae(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===$5&&e.documentElement.namespaceURI===$5?e.createElement(t):e.createElementNS(r,t)}}function Lae(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function LO(t){var e=Px(t);return(e.local?Lae:jae)(e)}function Pae(){}function $C(t){return t==null?Pae:function(){return this.querySelector(t)}}function Rae(t){typeof t!="function"&&(t=$C(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var s=e[i],a=s.length,o=n[i]=new Array(a),l,c,h=0;h<a;++h)(l=s[h])&&(c=t.call(l,l.__data__,h,s))&&("__data__"in l&&(c.__data__=l.__data__),o[h]=c);return new Za(n,this._parents)}function Mae(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Oae(){return[]}function PO(t){return t==null?Oae:function(){return this.querySelectorAll(t)}}function Iae(t){return function(){return Mae(t.apply(this,arguments))}}function Dae(t){typeof t=="function"?t=Iae(t):t=PO(t);for(var e=this._groups,r=e.length,n=[],i=[],s=0;s<r;++s)for(var a=e[s],o=a.length,l,c=0;c<o;++c)(l=a[c])&&(n.push(t.call(l,l.__data__,c,a)),i.push(l));return new Za(n,i)}function RO(t){return function(){return this.matches(t)}}function MO(t){return function(e){return e.matches(t)}}var Bae=Array.prototype.find;function Fae(t){return function(){return Bae.call(this.children,t)}}function $ae(){return this.firstElementChild}function zae(t){return this.select(t==null?$ae:Fae(typeof t=="function"?t:MO(t)))}var Uae=Array.prototype.filter;function qae(){return Array.from(this.children)}function Wae(t){return function(){return Uae.call(this.children,t)}}function Vae(t){return this.selectAll(t==null?qae:Wae(typeof t=="function"?t:MO(t)))}function Hae(t){typeof t!="function"&&(t=RO(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var s=e[i],a=s.length,o=n[i]=[],l,c=0;c<a;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&o.push(l);return new Za(n,this._parents)}function OO(t){return new Array(t.length)}function Gae(){return new Za(this._enter||this._groups.map(OO),this._parents)}function gv(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}gv.prototype={constructor:gv,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Yae(t){return function(){return t}}function Kae(t,e,r,n,i,s){for(var a=0,o,l=e.length,c=s.length;a<c;++a)(o=e[a])?(o.__data__=s[a],n[a]=o):r[a]=new gv(t,s[a]);for(;a<l;++a)(o=e[a])&&(i[a]=o)}function Xae(t,e,r,n,i,s,a){var o,l,c=new Map,h=e.length,f=s.length,g=new Array(h),p;for(o=0;o<h;++o)(l=e[o])&&(g[o]=p=a.call(l,l.__data__,o,e)+"",c.has(p)?i[o]=l:c.set(p,l));for(o=0;o<f;++o)p=a.call(t,s[o],o,s)+"",(l=c.get(p))?(n[o]=l,l.__data__=s[o],c.delete(p)):r[o]=new gv(t,s[o]);for(o=0;o<h;++o)(l=e[o])&&c.get(g[o])===l&&(i[o]=l)}function Jae(t){return t.__data__}function Zae(t,e){if(!arguments.length)return Array.from(this,Jae);var r=e?Xae:Kae,n=this._parents,i=this._groups;typeof t!="function"&&(t=Yae(t));for(var s=i.length,a=new Array(s),o=new Array(s),l=new Array(s),c=0;c<s;++c){var h=n[c],f=i[c],g=f.length,p=Qae(t.call(h,h&&h.__data__,c,n)),v=p.length,x=o[c]=new Array(v),b=a[c]=new Array(v),_=l[c]=new Array(g);r(h,f,x,b,_,p,e);for(var k=0,N=0,j,P;k<v;++k)if(j=x[k]){for(k>=N&&(N=k+1);!(P=b[N])&&++N<v;);j._next=P||null}}return a=new Za(a,n),a._enter=o,a._exit=l,a}function Qae(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function eoe(){return new Za(this._exit||this._groups.map(OO),this._parents)}function toe(t,e,r){var n=this.enter(),i=this,s=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),r==null?s.remove():r(s),n&&i?n.merge(i).order():i}function roe(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,i=r.length,s=n.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var c=r[l],h=n[l],f=c.length,g=o[l]=new Array(f),p,v=0;v<f;++v)(p=c[v]||h[v])&&(g[v]=p);for(;l<i;++l)o[l]=r[l];return new Za(o,this._parents)}function noe(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],i=n.length-1,s=n[i],a;--i>=0;)(a=n[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function ioe(t){t||(t=soe);function e(f,g){return f&&g?t(f.__data__,g.__data__):!f-!g}for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var a=r[s],o=a.length,l=i[s]=new Array(o),c,h=0;h<o;++h)(c=a[h])&&(l[h]=c);l.sort(e)}return new Za(i,this._parents).order()}function soe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function aoe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ooe(){return Array.from(this)}function loe(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,s=n.length;i<s;++i){var a=n[i];if(a)return a}return null}function coe(){let t=0;for(const e of this)++t;return t}function uoe(){return!this.node()}function hoe(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],s=0,a=i.length,o;s<a;++s)(o=i[s])&&t.call(o,o.__data__,s,i);return this}function doe(t){return function(){this.removeAttribute(t)}}function foe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function poe(t,e){return function(){this.setAttribute(t,e)}}function moe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function goe(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function yoe(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function voe(t,e){var r=Px(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?foe:doe:typeof e=="function"?r.local?yoe:goe:r.local?moe:poe)(r,e))}function IO(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function xoe(t){return function(){this.style.removeProperty(t)}}function boe(t,e,r){return function(){this.style.setProperty(t,e,r)}}function woe(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function _oe(t,e,r){return arguments.length>1?this.each((e==null?xoe:typeof e=="function"?woe:boe)(t,e,r??"")):Np(this.node(),t)}function Np(t,e){return t.style.getPropertyValue(e)||IO(t).getComputedStyle(t,null).getPropertyValue(e)}function Soe(t){return function(){delete this[t]}}function Coe(t,e){return function(){this[t]=e}}function koe(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function Noe(t,e){return arguments.length>1?this.each((e==null?Soe:typeof e=="function"?koe:Coe)(t,e)):this.node()[t]}function DO(t){return t.trim().split(/^|\s+/)}function zC(t){return t.classList||new BO(t)}function BO(t){this._node=t,this._names=DO(t.getAttribute("class")||"")}BO.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function FO(t,e){for(var r=zC(t),n=-1,i=e.length;++n<i;)r.add(e[n])}function $O(t,e){for(var r=zC(t),n=-1,i=e.length;++n<i;)r.remove(e[n])}function Toe(t){return function(){FO(this,t)}}function Aoe(t){return function(){$O(this,t)}}function Eoe(t,e){return function(){(e.apply(this,arguments)?FO:$O)(this,t)}}function joe(t,e){var r=DO(t+"");if(arguments.length<2){for(var n=zC(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof e=="function"?Eoe:e?Toe:Aoe)(r,e))}function Loe(){this.textContent=""}function Poe(t){return function(){this.textContent=t}}function Roe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Moe(t){return arguments.length?this.each(t==null?Loe:(typeof t=="function"?Roe:Poe)(t)):this.node().textContent}function Ooe(){this.innerHTML=""}function Ioe(t){return function(){this.innerHTML=t}}function Doe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Boe(t){return arguments.length?this.each(t==null?Ooe:(typeof t=="function"?Doe:Ioe)(t)):this.node().innerHTML}function Foe(){this.nextSibling&&this.parentNode.appendChild(this)}function $oe(){return this.each(Foe)}function zoe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Uoe(){return this.each(zoe)}function qoe(t){var e=typeof t=="function"?t:LO(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Woe(){return null}function Voe(t,e){var r=typeof t=="function"?t:LO(t),n=e==null?Woe:typeof e=="function"?e:$C(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Hoe(){var t=this.parentNode;t&&t.removeChild(this)}function Goe(){return this.each(Hoe)}function Yoe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Koe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Xoe(t){return this.select(t?Koe:Yoe)}function Joe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Zoe(t){return function(e){t.call(this,e,this.__data__)}}function Qoe(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function ele(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,i=e.length,s;r<i;++r)s=e[r],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++n]=s;++n?e.length=n:delete this.__on}}}function tle(t,e,r){return function(){var n=this.__on,i,s=Zoe(e);if(n){for(var a=0,o=n.length;a<o;++a)if((i=n[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=e;return}}this.addEventListener(t.type,s,r),i={type:t.type,name:t.name,value:e,listener:s,options:r},n?n.push(i):this.__on=[i]}}function rle(t,e,r){var n=Qoe(t+""),i,s=n.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,h;l<c;++l)for(i=0,h=o[l];i<s;++i)if((a=n[i]).type===h.type&&a.name===h.name)return h.value}return}for(o=e?tle:ele,i=0;i<s;++i)this.each(o(n[i],e,r));return this}function zO(t,e,r){var n=IO(t),i=n.CustomEvent;typeof i=="function"?i=new i(e,r):(i=n.document.createEvent("Event"),r?(i.initEvent(e,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function nle(t,e){return function(){return zO(this,t,e)}}function ile(t,e){return function(){return zO(this,t,e.apply(this,arguments))}}function sle(t,e){return this.each((typeof e=="function"?ile:nle)(t,e))}function*ale(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,s=n.length,a;i<s;++i)(a=n[i])&&(yield a)}var UO=[null];function Za(t,e){this._groups=t,this._parents=e}function b0(){return new Za([[document.documentElement]],UO)}function ole(){return this}Za.prototype=b0.prototype={constructor:Za,select:Rae,selectAll:Dae,selectChild:zae,selectChildren:Vae,filter:Hae,data:Zae,enter:Gae,exit:eoe,join:toe,merge:roe,selection:ole,order:noe,sort:ioe,call:aoe,nodes:ooe,node:loe,size:coe,empty:uoe,each:hoe,attr:voe,style:_oe,property:Noe,classed:joe,text:Moe,html:Boe,raise:$oe,lower:Uoe,append:qoe,insert:Voe,remove:Goe,clone:Xoe,datum:Joe,on:rle,dispatch:sle,[Symbol.iterator]:ale};function Br(t){return typeof t=="string"?new Za([[document.querySelector(t)]],[document.documentElement]):new Za([[t]],UO)}function UC(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function qO(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function w0(){}var Bg=.7,yv=1/Bg,ip="\\s*([+-]?\\d+)\\s*",Fg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lle=/^#([0-9a-f]{3,8})$/,cle=new RegExp(`^rgb\\(${ip},${ip},${ip}\\)$`),ule=new RegExp(`^rgb\\(${Zl},${Zl},${Zl}\\)$`),hle=new RegExp(`^rgba\\(${ip},${ip},${ip},${Fg}\\)$`),dle=new RegExp(`^rgba\\(${Zl},${Zl},${Zl},${Fg}\\)$`),fle=new RegExp(`^hsl\\(${Fg},${Zl},${Zl}\\)$`),ple=new RegExp(`^hsla\\(${Fg},${Zl},${Zl},${Fg}\\)$`),hE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};UC(w0,$g,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:dE,formatHex:dE,formatHex8:mle,formatHsl:gle,formatRgb:fE,toString:fE});function dE(){return this.rgb().formatHex()}function mle(){return this.rgb().formatHex8()}function gle(){return WO(this).formatHsl()}function fE(){return this.rgb().formatRgb()}function $g(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=lle.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?pE(e):r===3?new Sa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?$y(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?$y(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=cle.exec(t))?new Sa(e[1],e[2],e[3],1):(e=ule.exec(t))?new Sa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=hle.exec(t))?$y(e[1],e[2],e[3],e[4]):(e=dle.exec(t))?$y(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=fle.exec(t))?yE(e[1],e[2]/100,e[3]/100,1):(e=ple.exec(t))?yE(e[1],e[2]/100,e[3]/100,e[4]):hE.hasOwnProperty(t)?pE(hE[t]):t==="transparent"?new Sa(NaN,NaN,NaN,0):null}function pE(t){return new Sa(t>>16&255,t>>8&255,t&255,1)}function $y(t,e,r,n){return n<=0&&(t=e=r=NaN),new Sa(t,e,r,n)}function yle(t){return t instanceof w0||(t=$g(t)),t?(t=t.rgb(),new Sa(t.r,t.g,t.b,t.opacity)):new Sa}function z5(t,e,r,n){return arguments.length===1?yle(t):new Sa(t,e,r,n??1)}function Sa(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}UC(Sa,z5,qO(w0,{brighter(t){return t=t==null?yv:Math.pow(yv,t),new Sa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Bg:Math.pow(Bg,t),new Sa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Sa(Sd(this.r),Sd(this.g),Sd(this.b),vv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mE,formatHex:mE,formatHex8:vle,formatRgb:gE,toString:gE}));function mE(){return`#${md(this.r)}${md(this.g)}${md(this.b)}`}function vle(){return`#${md(this.r)}${md(this.g)}${md(this.b)}${md((isNaN(this.opacity)?1:this.opacity)*255)}`}function gE(){const t=vv(this.opacity);return`${t===1?"rgb(":"rgba("}${Sd(this.r)}, ${Sd(this.g)}, ${Sd(this.b)}${t===1?")":`, ${t})`}`}function vv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Sd(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function md(t){return t=Sd(t),(t<16?"0":"")+t.toString(16)}function yE(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ll(t,e,r,n)}function WO(t){if(t instanceof ll)return new ll(t.h,t.s,t.l,t.opacity);if(t instanceof w0||(t=$g(t)),!t)return new ll;if(t instanceof ll)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new ll(a,o,l,t.opacity)}function xle(t,e,r,n){return arguments.length===1?WO(t):new ll(t,e,r,n??1)}function ll(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}UC(ll,xle,qO(w0,{brighter(t){return t=t==null?yv:Math.pow(yv,t),new ll(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Bg:Math.pow(Bg,t),new ll(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Sa(Wb(t>=240?t-240:t+120,i,n),Wb(t,i,n),Wb(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ll(vE(this.h),zy(this.s),zy(this.l),vv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=vv(this.opacity);return`${t===1?"hsl(":"hsla("}${vE(this.h)}, ${zy(this.s)*100}%, ${zy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function vE(t){return t=(t||0)%360,t<0?t+360:t}function zy(t){return Math.max(0,Math.min(1,t||0))}function Wb(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const qC=t=>()=>t;function VO(t,e){return function(r){return t+r*e}}function ble(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Hwe(t,e){var r=e-t;return r?VO(t,r>180||r<-180?r-360*Math.round(r/360):r):qC(isNaN(t)?e:t)}function wle(t){return(t=+t)==1?HO:function(e,r){return r-e?ble(e,r,t):qC(isNaN(e)?r:e)}}function HO(t,e){var r=e-t;return r?VO(t,r):qC(isNaN(t)?e:t)}const xE=(function t(e){var r=wle(e);function n(i,s){var a=r((i=z5(i)).r,(s=z5(s)).r),o=r(i.g,s.g),l=r(i.b,s.b),c=HO(i.opacity,s.opacity);return function(h){return i.r=a(h),i.g=o(h),i.b=l(h),i.opacity=c(h),i+""}}return n.gamma=t,n})(1);function Zu(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}var U5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vb=new RegExp(U5.source,"g");function _le(t){return function(){return t}}function Sle(t){return function(e){return t(e)+""}}function Cle(t,e){var r=U5.lastIndex=Vb.lastIndex=0,n,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(n=U5.exec(t))&&(i=Vb.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:Zu(n,i)})),r=Vb.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Sle(l[0].x):_le(e):(e=l.length,function(c){for(var h=0,f;h<e;++h)o[(f=l[h]).i]=f.x(c);return o.join("")})}var bE=180/Math.PI,q5={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function GO(t,e,r,n,i,s){var a,o,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*r+e*n)&&(r-=t*l,n-=e*l),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,l/=o),t*n<e*r&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*bE,skewX:Math.atan(l)*bE,scaleX:a,scaleY:o}}var Uy;function kle(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?q5:GO(e.a,e.b,e.c,e.d,e.e,e.f)}function Nle(t){return t==null||(Uy||(Uy=document.createElementNS("http://www.w3.org/2000/svg","g")),Uy.setAttribute("transform",t),!(t=Uy.transform.baseVal.consolidate()))?q5:(t=t.matrix,GO(t.a,t.b,t.c,t.d,t.e,t.f))}function YO(t,e,r,n){function i(c){return c.length?c.pop()+" ":""}function s(c,h,f,g,p,v){if(c!==f||h!==g){var x=p.push("translate(",null,e,null,r);v.push({i:x-4,x:Zu(c,f)},{i:x-2,x:Zu(h,g)})}else(f||g)&&p.push("translate("+f+e+g+r)}function a(c,h,f,g){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),g.push({i:f.push(i(f)+"rotate(",null,n)-2,x:Zu(c,h)})):h&&f.push(i(f)+"rotate("+h+n)}function o(c,h,f,g){c!==h?g.push({i:f.push(i(f)+"skewX(",null,n)-2,x:Zu(c,h)}):h&&f.push(i(f)+"skewX("+h+n)}function l(c,h,f,g,p,v){if(c!==f||h!==g){var x=p.push(i(p)+"scale(",null,",",null,")");v.push({i:x-4,x:Zu(c,f)},{i:x-2,x:Zu(h,g)})}else(f!==1||g!==1)&&p.push(i(p)+"scale("+f+","+g+")")}return function(c,h){var f=[],g=[];return c=t(c),h=t(h),s(c.translateX,c.translateY,h.translateX,h.translateY,f,g),a(c.rotate,h.rotate,f,g),o(c.skewX,h.skewX,f,g),l(c.scaleX,c.scaleY,h.scaleX,h.scaleY,f,g),c=h=null,function(p){for(var v=-1,x=g.length,b;++v<x;)f[(b=g[v]).i]=b.x(p);return f.join("")}}}var Tle=YO(kle,"px, ","px)","deg)"),Ale=YO(Nle,", ",")",")"),Tp=0,Jm=0,Bm=0,KO=1e3,xv,Zm,bv=0,Md=0,Rx=0,zg=typeof performance=="object"&&performance.now?performance:Date,XO=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function WC(){return Md||(XO(Ele),Md=zg.now()+Rx)}function Ele(){Md=0}function wv(){this._call=this._time=this._next=null}wv.prototype=JO.prototype={constructor:wv,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?WC():+r)+(e==null?0:+e),!this._next&&Zm!==this&&(Zm?Zm._next=this:xv=this,Zm=this),this._call=t,this._time=r,W5()},stop:function(){this._call&&(this._call=null,this._time=1/0,W5())}};function JO(t,e,r){var n=new wv;return n.restart(t,e,r),n}function jle(){WC(),++Tp;for(var t=xv,e;t;)(e=Md-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Tp}function wE(){Md=(bv=zg.now())+Rx,Tp=Jm=0;try{jle()}finally{Tp=0,Ple(),Md=0}}function Lle(){var t=zg.now(),e=t-bv;e>KO&&(Rx-=e,bv=t)}function Ple(){for(var t,e=xv,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:xv=r);Zm=t,W5(n)}function W5(t){if(!Tp){Jm&&(Jm=clearTimeout(Jm));var e=t-Md;e>24?(t<1/0&&(Jm=setTimeout(wE,t-zg.now()-Rx)),Bm&&(Bm=clearInterval(Bm))):(Bm||(bv=zg.now(),Bm=setInterval(Lle,KO)),Tp=1,XO(wE))}}function _E(t,e,r){var n=new wv;return e=e==null?0:+e,n.restart(i=>{n.stop(),t(i+e)},e,r),n}var Rle=jO("start","end","cancel","interrupt"),Mle=[],ZO=0,SE=1,V5=2,N1=3,CE=4,H5=5,T1=6;function Mx(t,e,r,n,i,s){var a=t.__transition;if(!a)t.__transition={};else if(r in a)return;Ole(t,r,{name:e,index:n,group:i,on:Rle,tween:Mle,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:ZO})}function VC(t,e){var r=xl(t,e);if(r.state>ZO)throw new Error("too late; already scheduled");return r}function oc(t,e){var r=xl(t,e);if(r.state>N1)throw new Error("too late; already running");return r}function xl(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function Ole(t,e,r){var n=t.__transition,i;n[e]=r,r.timer=JO(s,0,r.time);function s(c){r.state=SE,r.timer.restart(a,r.delay,r.time),r.delay<=c&&a(c-r.delay)}function a(c){var h,f,g,p;if(r.state!==SE)return l();for(h in n)if(p=n[h],p.name===r.name){if(p.state===N1)return _E(a);p.state===CE?(p.state=T1,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete n[h]):+h<e&&(p.state=T1,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete n[h])}if(_E(function(){r.state===N1&&(r.state=CE,r.timer.restart(o,r.delay,r.time),o(c))}),r.state=V5,r.on.call("start",t,t.__data__,r.index,r.group),r.state===V5){for(r.state=N1,i=new Array(g=r.tween.length),h=0,f=-1;h<g;++h)(p=r.tween[h].value.call(t,t.__data__,r.index,r.group))&&(i[++f]=p);i.length=f+1}}function o(c){for(var h=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=H5,1),f=-1,g=i.length;++f<g;)i[f].call(t,h);r.state===H5&&(r.on.call("end",t,t.__data__,r.index,r.group),l())}function l(){r.state=T1,r.timer.stop(),delete n[e];for(var c in n)return;delete t.__transition}}function Ile(t,e){var r=t.__transition,n,i,s=!0,a;if(r){e=e==null?null:e+"";for(a in r){if((n=r[a]).name!==e){s=!1;continue}i=n.state>V5&&n.state<H5,n.state=T1,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[a]}s&&delete t.__transition}}function Dle(t){return this.each(function(){Ile(this,t)})}function Ble(t,e){var r,n;return function(){var i=oc(this,t),s=i.tween;if(s!==r){n=r=s;for(var a=0,o=n.length;a<o;++a)if(n[a].name===e){n=n.slice(),n.splice(a,1);break}}i.tween=n}}function Fle(t,e,r){var n,i;if(typeof r!="function")throw new Error;return function(){var s=oc(this,t),a=s.tween;if(a!==n){i=(n=a).slice();for(var o={name:e,value:r},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=o;break}l===c&&i.push(o)}s.tween=i}}function $le(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=xl(this.node(),r).tween,i=0,s=n.length,a;i<s;++i)if((a=n[i]).name===t)return a.value;return null}return this.each((e==null?Ble:Fle)(r,t,e))}function HC(t,e,r){var n=t._id;return t.each(function(){var i=oc(this,n);(i.value||(i.value={}))[e]=r.apply(this,arguments)}),function(i){return xl(i,n).value[e]}}function QO(t,e){var r;return(typeof e=="number"?Zu:e instanceof $g?xE:(r=$g(e))?(e=r,xE):Cle)(t,e)}function zle(t){return function(){this.removeAttribute(t)}}function Ule(t){return function(){this.removeAttributeNS(t.space,t.local)}}function qle(t,e,r){var n,i=r+"",s;return function(){var a=this.getAttribute(t);return a===i?null:a===n?s:s=e(n=a,r)}}function Wle(t,e,r){var n,i=r+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===n?s:s=e(n=a,r)}}function Vle(t,e,r){var n,i,s;return function(){var a,o=r(this),l;return o==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=o+"",a===l?null:a===n&&l===i?s:(i=l,s=e(n=a,o)))}}function Hle(t,e,r){var n,i,s;return function(){var a,o=r(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=o+"",a===l?null:a===n&&l===i?s:(i=l,s=e(n=a,o)))}}function Gle(t,e){var r=Px(t),n=r==="transform"?Ale:QO;return this.attrTween(t,typeof e=="function"?(r.local?Hle:Vle)(r,n,HC(this,"attr."+t,e)):e==null?(r.local?Ule:zle)(r):(r.local?Wle:qle)(r,n,e))}function Yle(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function Kle(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function Xle(t,e){var r,n;function i(){var s=e.apply(this,arguments);return s!==n&&(r=(n=s)&&Kle(t,s)),r}return i._value=e,i}function Jle(t,e){var r,n;function i(){var s=e.apply(this,arguments);return s!==n&&(r=(n=s)&&Yle(t,s)),r}return i._value=e,i}function Zle(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=Px(t);return this.tween(r,(n.local?Xle:Jle)(n,e))}function Qle(t,e){return function(){VC(this,t).delay=+e.apply(this,arguments)}}function ece(t,e){return e=+e,function(){VC(this,t).delay=e}}function tce(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Qle:ece)(e,t)):xl(this.node(),e).delay}function rce(t,e){return function(){oc(this,t).duration=+e.apply(this,arguments)}}function nce(t,e){return e=+e,function(){oc(this,t).duration=e}}function ice(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?rce:nce)(e,t)):xl(this.node(),e).duration}function sce(t,e){if(typeof e!="function")throw new Error;return function(){oc(this,t).ease=e}}function ace(t){var e=this._id;return arguments.length?this.each(sce(e,t)):xl(this.node(),e).ease}function oce(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;oc(this,t).ease=r}}function lce(t){if(typeof t!="function")throw new Error;return this.each(oce(this._id,t))}function cce(t){typeof t!="function"&&(t=RO(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var s=e[i],a=s.length,o=n[i]=[],l,c=0;c<a;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&o.push(l);return new lu(n,this._parents,this._name,this._id)}function uce(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,i=r.length,s=Math.min(n,i),a=new Array(n),o=0;o<s;++o)for(var l=e[o],c=r[o],h=l.length,f=a[o]=new Array(h),g,p=0;p<h;++p)(g=l[p]||c[p])&&(f[p]=g);for(;o<n;++o)a[o]=e[o];return new lu(a,this._parents,this._name,this._id)}function hce(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function dce(t,e,r){var n,i,s=hce(e)?VC:oc;return function(){var a=s(this,t),o=a.on;o!==n&&(i=(n=o).copy()).on(e,r),a.on=i}}function fce(t,e){var r=this._id;return arguments.length<2?xl(this.node(),r).on.on(t):this.each(dce(r,t,e))}function pce(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function mce(){return this.on("end.remove",pce(this._id))}function gce(t){var e=this._name,r=this._id;typeof t!="function"&&(t=$C(t));for(var n=this._groups,i=n.length,s=new Array(i),a=0;a<i;++a)for(var o=n[a],l=o.length,c=s[a]=new Array(l),h,f,g=0;g<l;++g)(h=o[g])&&(f=t.call(h,h.__data__,g,o))&&("__data__"in h&&(f.__data__=h.__data__),c[g]=f,Mx(c[g],e,r,g,c,xl(h,r)));return new lu(s,this._parents,e,r)}function yce(t){var e=this._name,r=this._id;typeof t!="function"&&(t=PO(t));for(var n=this._groups,i=n.length,s=[],a=[],o=0;o<i;++o)for(var l=n[o],c=l.length,h,f=0;f<c;++f)if(h=l[f]){for(var g=t.call(h,h.__data__,f,l),p,v=xl(h,r),x=0,b=g.length;x<b;++x)(p=g[x])&&Mx(p,e,r,x,g,v);s.push(g),a.push(h)}return new lu(s,a,e,r)}var vce=b0.prototype.constructor;function xce(){return new vce(this._groups,this._parents)}function bce(t,e){var r,n,i;return function(){var s=Np(this,t),a=(this.style.removeProperty(t),Np(this,t));return s===a?null:s===r&&a===n?i:i=e(r=s,n=a)}}function eI(t){return function(){this.style.removeProperty(t)}}function wce(t,e,r){var n,i=r+"",s;return function(){var a=Np(this,t);return a===i?null:a===n?s:s=e(n=a,r)}}function _ce(t,e,r){var n,i,s;return function(){var a=Np(this,t),o=r(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),Np(this,t))),a===l?null:a===n&&l===i?s:(i=l,s=e(n=a,o))}}function Sce(t,e){var r,n,i,s="style."+e,a="end."+s,o;return function(){var l=oc(this,t),c=l.on,h=l.value[s]==null?o||(o=eI(e)):void 0;(c!==r||i!==h)&&(n=(r=c).copy()).on(a,i=h),l.on=n}}function Cce(t,e,r){var n=(t+="")=="transform"?Tle:QO;return e==null?this.styleTween(t,bce(t,n)).on("end.style."+t,eI(t)):typeof e=="function"?this.styleTween(t,_ce(t,n,HC(this,"style."+t,e))).each(Sce(this._id,t)):this.styleTween(t,wce(t,n,e),r).on("end.style."+t,null)}function kce(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function Nce(t,e,r){var n,i;function s(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&kce(t,a,r)),n}return s._value=e,s}function Tce(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,Nce(t,e,r??""))}function Ace(t){return function(){this.textContent=t}}function Ece(t){return function(){var e=t(this);this.textContent=e??""}}function jce(t){return this.tween("text",typeof t=="function"?Ece(HC(this,"text",t)):Ace(t==null?"":t+""))}function Lce(t){return function(e){this.textContent=t.call(this,e)}}function Pce(t){var e,r;function n(){var i=t.apply(this,arguments);return i!==r&&(e=(r=i)&&Lce(i)),e}return n._value=t,n}function Rce(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Pce(t))}function Mce(){for(var t=this._name,e=this._id,r=tI(),n=this._groups,i=n.length,s=0;s<i;++s)for(var a=n[s],o=a.length,l,c=0;c<o;++c)if(l=a[c]){var h=xl(l,e);Mx(l,t,r,c,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new lu(n,this._parents,t,r)}function Oce(){var t,e,r=this,n=r._id,i=r.size();return new Promise(function(s,a){var o={value:a},l={value:function(){--i===0&&s()}};r.each(function(){var c=oc(this,n),h=c.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e}),i===0&&s()})}var Ice=0;function lu(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function tI(){return++Ice}var Uc=b0.prototype;lu.prototype={constructor:lu,select:gce,selectAll:yce,selectChild:Uc.selectChild,selectChildren:Uc.selectChildren,filter:cce,merge:uce,selection:xce,transition:Mce,call:Uc.call,nodes:Uc.nodes,node:Uc.node,size:Uc.size,empty:Uc.empty,each:Uc.each,on:fce,attr:Gle,attrTween:Zle,style:Cce,styleTween:Tce,text:jce,textTween:Rce,remove:mce,tween:$le,delay:tce,duration:ice,ease:ace,easeVarying:lce,end:Oce,[Symbol.iterator]:Uc[Symbol.iterator]};function Dce(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Bce={time:null,delay:0,duration:250,ease:Dce};function Fce(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function $ce(t){var e,r;t instanceof lu?(e=t._id,t=t._name):(e=tI(),(r=Bce).time=WC(),t=t==null?null:t+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var a=n[s],o=a.length,l,c=0;c<o;++c)(l=a[c])&&Mx(l,t,e,c,a,r||Fce(l,e));return new lu(n,this._parents,t,e)}b0.prototype.interrupt=Dle;b0.prototype.transition=$ce;const G5=Math.PI,Y5=2*G5,td=1e-6,zce=Y5-td;function rI(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Uce(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return rI;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class qce{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?rI:Uce(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=n-e,c=i-r,h=a-e,f=o-r,g=h*h+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>td)if(!(Math.abs(f*l-c*h)>td)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-a,v=i-o,x=l*l+c*c,b=p*p+v*v,_=Math.sqrt(x),k=Math.sqrt(g),N=s*Math.tan((G5-Math.acos((x+g-b)/(2*_*k)))/2),j=N/k,P=N/_;Math.abs(j-1)>td&&this._append`L${e+j*h},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*p>h*v)},${this._x1=e+P*l},${this._y1=r+P*c}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=e+o,h=r+l,f=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>td||Math.abs(this._y1-h)>td)&&this._append`L${c},${h}`,n&&(g<0&&(g=g%Y5+Y5),g>zce?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=h}`:g>td&&this._append`A${n},${n},0,${+(g>=G5)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Pf(t){return function(){return t}}const Gwe=Math.abs,Ywe=Math.atan2,Kwe=Math.cos,Xwe=Math.max,Jwe=Math.min,Zwe=Math.sin,Qwe=Math.sqrt,kE=1e-12,GC=Math.PI,NE=GC/2,e5e=2*GC;function t5e(t){return t>1?0:t<-1?GC:Math.acos(t)}function r5e(t){return t>=1?NE:t<=-1?-NE:Math.asin(t)}function Wce(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new qce(e)}function Vce(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function nI(t){this._context=t}nI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function _v(t){return new nI(t)}function Hce(t){return t[0]}function Gce(t){return t[1]}function Yce(t,e){var r=Pf(!0),n=null,i=_v,s=null,a=Wce(o);t=typeof t=="function"?t:t===void 0?Hce:Pf(t),e=typeof e=="function"?e:e===void 0?Gce:Pf(e);function o(l){var c,h=(l=Vce(l)).length,f,g=!1,p;for(n==null&&(s=i(p=a())),c=0;c<=h;++c)!(c<h&&r(f=l[c],c,l))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(f,c,l),+e(f,c,l));if(p)return s=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Pf(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Pf(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Pf(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),o):n},o}class iI{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function sI(t){return new iI(t,!0)}function aI(t){return new iI(t,!1)}function ch(){}function Sv(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Ox(t){this._context=t}Ox.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function A1(t){return new Ox(t)}function oI(t){this._context=t}oI.prototype={areaStart:ch,areaEnd:ch,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Sv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Kce(t){return new oI(t)}function lI(t){this._context=t}lI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Sv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Xce(t){return new lI(t)}function cI(t,e){this._basis=new Ox(t),this._beta=e}cI.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,r=t.length-1;if(r>0)for(var n=t[0],i=e[0],s=t[r]-n,a=e[r]-i,o=-1,l;++o<=r;)l=o/r,this._basis.point(this._beta*t[o]+(1-this._beta)*(n+l*s),this._beta*e[o]+(1-this._beta)*(i+l*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const Jce=(function t(e){function r(n){return e===1?new Ox(n):new cI(n,e)}return r.beta=function(n){return t(+n)},r})(.85);function Cv(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function YC(t,e){this._context=t,this._k=(1-e)/6}YC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Cv(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Cv(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const uI=(function t(e){function r(n){return new YC(n,e)}return r.tension=function(n){return t(+n)},r})(0);function KC(t,e){this._context=t,this._k=(1-e)/6}KC.prototype={areaStart:ch,areaEnd:ch,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Cv(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Zce=(function t(e){function r(n){return new KC(n,e)}return r.tension=function(n){return t(+n)},r})(0);function XC(t,e){this._context=t,this._k=(1-e)/6}XC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Cv(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Qce=(function t(e){function r(n){return new XC(n,e)}return r.tension=function(n){return t(+n)},r})(0);function JC(t,e,r){var n=t._x1,i=t._y1,s=t._x2,a=t._y2;if(t._l01_a>kE){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);n=(n*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>kE){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*c+t._x1*t._l23_2a-e*t._l12_2a)/h,a=(a*c+t._y1*t._l23_2a-r*t._l12_2a)/h}t._context.bezierCurveTo(n,i,s,a,t._x2,t._y2)}function hI(t,e){this._context=t,this._alpha=e}hI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:JC(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const dI=(function t(e){function r(n){return e?new hI(n,e):new YC(n,0)}return r.alpha=function(n){return t(+n)},r})(.5);function fI(t,e){this._context=t,this._alpha=e}fI.prototype={areaStart:ch,areaEnd:ch,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:JC(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const eue=(function t(e){function r(n){return e?new fI(n,e):new KC(n,0)}return r.alpha=function(n){return t(+n)},r})(.5);function pI(t,e){this._context=t,this._alpha=e}pI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:JC(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const tue=(function t(e){function r(n){return e?new pI(n,e):new XC(n,0)}return r.alpha=function(n){return t(+n)},r})(.5);function mI(t){this._context=t}mI.prototype={areaStart:ch,areaEnd:ch,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function rue(t){return new mI(t)}function TE(t){return t<0?-1:1}function AE(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(TE(s)+TE(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function EE(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Hb(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function kv(t){this._context=t}kv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hb(this,this._t0,EE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Hb(this,EE(this,r=AE(this,t,e)),r);break;default:Hb(this,this._t0,r=AE(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function gI(t){this._context=new yI(t)}(gI.prototype=Object.create(kv.prototype)).point=function(t,e){kv.prototype.point.call(this,e,t)};function yI(t){this._context=t}yI.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function vI(t){return new kv(t)}function xI(t){return new gI(t)}function bI(t){this._context=t}bI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=jE(t),i=jE(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function jE(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function wI(t){return new bI(t)}function Ix(t,e){this._context=t,this._t=e}Ix.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function _I(t){return new Ix(t,.5)}function SI(t){return new Ix(t,0)}function CI(t){return new Ix(t,1)}function Qm(t,e,r){this.k=t,this.x=e,this.y=r}Qm.prototype={constructor:Qm,scale:function(t){return t===1?this:new Qm(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Qm(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Qm.prototype;var nue=M(t=>{const{securityLevel:e}=en();let r=Br("body");if(e==="sandbox"){const s=Br(`#i${t}`).node()?.contentDocument??document;r=Br(s.body)}return r.select(`#${t}`)},"selectSvgElement");function ZC(t){return typeof t>"u"||t===null}M(ZC,"isNothing");function kI(t){return typeof t=="object"&&t!==null}M(kI,"isObject");function NI(t){return Array.isArray(t)?t:ZC(t)?[]:[t]}M(NI,"toArray");function TI(t,e){var r,n,i,s;if(e)for(s=Object.keys(e),r=0,n=s.length;r<n;r+=1)i=s[r],t[i]=e[i];return t}M(TI,"extend");function AI(t,e){var r="",n;for(n=0;n<e;n+=1)r+=t;return r}M(AI,"repeat");function EI(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}M(EI,"isNegativeZero");var iue=ZC,sue=kI,aue=NI,oue=AI,lue=EI,cue=TI,$i={isNothing:iue,isObject:sue,toArray:aue,repeat:oue,isNegativeZero:lue,extend:cue};function QC(t,e){var r="",n=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(r+='in "'+t.mark.name+'" '),r+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(r+=`

`+t.mark.snippet),n+" "+r):n}M(QC,"formatError");function Ap(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=QC(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}M(Ap,"YAMLException$1");Ap.prototype=Object.create(Error.prototype);Ap.prototype.constructor=Ap;Ap.prototype.toString=M(function(e){return this.name+": "+QC(this,e)},"toString");var wa=Ap;function E1(t,e,r,n,i){var s="",a="",o=Math.floor(i/2)-1;return n-e>o&&(s=" ... ",e=n-o+s.length),r-n>o&&(a=" ...",r=n+o-a.length),{str:s+t.slice(e,r).replace(/\t/g,"")+a,pos:n-e+s.length}}M(E1,"getLine");function j1(t,e){return $i.repeat(" ",e-t.length)+t}M(j1,"padStart");function jI(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,a=-1;s=r.exec(t.buffer);)i.push(s.index),n.push(s.index+s[0].length),t.position<=s.index&&a<0&&(a=n.length-2);a<0&&(a=n.length-1);var o="",l,c,h=Math.min(t.line+e.linesAfter,i.length).toString().length,f=e.maxLength-(e.indent+h+3);for(l=1;l<=e.linesBefore&&!(a-l<0);l++)c=E1(t.buffer,n[a-l],i[a-l],t.position-(n[a]-n[a-l]),f),o=$i.repeat(" ",e.indent)+j1((t.line-l+1).toString(),h)+" | "+c.str+`
`+o;for(c=E1(t.buffer,n[a],i[a],t.position,f),o+=$i.repeat(" ",e.indent)+j1((t.line+1).toString(),h)+" | "+c.str+`
`,o+=$i.repeat("-",e.indent+h+3+c.pos)+`^
`,l=1;l<=e.linesAfter&&!(a+l>=i.length);l++)c=E1(t.buffer,n[a+l],i[a+l],t.position-(n[a]-n[a+l]),f),o+=$i.repeat(" ",e.indent)+j1((t.line+l+1).toString(),h)+" | "+c.str+`
`;return o.replace(/\n$/,"")}M(jI,"makeSnippet");var uue=jI,hue=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],due=["scalar","sequence","mapping"];function LI(t){var e={};return t!==null&&Object.keys(t).forEach(function(r){t[r].forEach(function(n){e[String(n)]=r})}),e}M(LI,"compileStyleAliases");function PI(t,e){if(e=e||{},Object.keys(e).forEach(function(r){if(hue.indexOf(r)===-1)throw new wa('Unknown option "'+r+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(r){return r},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=LI(e.styleAliases||null),due.indexOf(this.kind)===-1)throw new wa('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}M(PI,"Type$1");var Ps=PI;function K5(t,e){var r=[];return t[e].forEach(function(n){var i=r.length;r.forEach(function(s,a){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=a)}),r[i]=n}),r}M(K5,"compileList");function RI(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,r;function n(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(M(n,"collectType"),e=0,r=arguments.length;e<r;e+=1)arguments[e].forEach(n);return t}M(RI,"compileMap");function Nv(t){return this.extend(t)}M(Nv,"Schema$1");Nv.prototype.extend=M(function(e){var r=[],n=[];if(e instanceof Ps)n.push(e);else if(Array.isArray(e))n=n.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(r=r.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit));else throw new wa("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof Ps))throw new wa("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new wa("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new wa("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof Ps))throw new wa("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Nv.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=K5(i,"implicit"),i.compiledExplicit=K5(i,"explicit"),i.compiledTypeMap=RI(i.compiledImplicit,i.compiledExplicit),i},"extend");var fue=Nv,pue=new Ps("tag:yaml.org,2002:str",{kind:"scalar",construct:M(function(t){return t!==null?t:""},"construct")}),mue=new Ps("tag:yaml.org,2002:seq",{kind:"sequence",construct:M(function(t){return t!==null?t:[]},"construct")}),gue=new Ps("tag:yaml.org,2002:map",{kind:"mapping",construct:M(function(t){return t!==null?t:{}},"construct")}),yue=new fue({explicit:[pue,mue,gue]});function MI(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}M(MI,"resolveYamlNull");function OI(){return null}M(OI,"constructYamlNull");function II(t){return t===null}M(II,"isNull");var vue=new Ps("tag:yaml.org,2002:null",{kind:"scalar",resolve:MI,construct:OI,predicate:II,represent:{canonical:M(function(){return"~"},"canonical"),lowercase:M(function(){return"null"},"lowercase"),uppercase:M(function(){return"NULL"},"uppercase"),camelcase:M(function(){return"Null"},"camelcase"),empty:M(function(){return""},"empty")},defaultStyle:"lowercase"});function DI(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}M(DI,"resolveYamlBoolean");function BI(t){return t==="true"||t==="True"||t==="TRUE"}M(BI,"constructYamlBoolean");function FI(t){return Object.prototype.toString.call(t)==="[object Boolean]"}M(FI,"isBoolean");var xue=new Ps("tag:yaml.org,2002:bool",{kind:"scalar",resolve:DI,construct:BI,predicate:FI,represent:{lowercase:M(function(t){return t?"true":"false"},"lowercase"),uppercase:M(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:M(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function $I(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}M($I,"isHexCode");function zI(t){return 48<=t&&t<=55}M(zI,"isOctCode");function UI(t){return 48<=t&&t<=57}M(UI,"isDecCode");function qI(t){if(t===null)return!1;var e=t.length,r=0,n=!1,i;if(!e)return!1;if(i=t[r],(i==="-"||i==="+")&&(i=t[++r]),i==="0"){if(r+1===e)return!0;if(i=t[++r],i==="b"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!$I(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!zI(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<e;r++)if(i=t[r],i!=="_"){if(!UI(t.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}M(qI,"resolveYamlInteger");function WI(t){var e=t,r=1,n;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),n=e[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),e=e.slice(1),n=e[0]),e==="0")return 0;if(n==="0"){if(e[1]==="b")return r*parseInt(e.slice(2),2);if(e[1]==="x")return r*parseInt(e.slice(2),16);if(e[1]==="o")return r*parseInt(e.slice(2),8)}return r*parseInt(e,10)}M(WI,"constructYamlInteger");function VI(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!$i.isNegativeZero(t)}M(VI,"isInteger");var bue=new Ps("tag:yaml.org,2002:int",{kind:"scalar",resolve:qI,construct:WI,predicate:VI,represent:{binary:M(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:M(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:M(function(t){return t.toString(10)},"decimal"),hexadecimal:M(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),wue=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function HI(t){return!(t===null||!wue.test(t)||t[t.length-1]==="_")}M(HI,"resolveYamlFloat");function GI(t){var e,r;return e=t.replace(/_/g,"").toLowerCase(),r=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:r*parseFloat(e,10)}M(GI,"constructYamlFloat");var _ue=/^[-+]?[0-9]+e/;function YI(t,e){var r;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if($i.isNegativeZero(t))return"-0.0";return r=t.toString(10),_ue.test(r)?r.replace("e",".e"):r}M(YI,"representYamlFloat");function KI(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||$i.isNegativeZero(t))}M(KI,"isFloat");var Sue=new Ps("tag:yaml.org,2002:float",{kind:"scalar",resolve:HI,construct:GI,predicate:KI,represent:YI,defaultStyle:"lowercase"}),XI=yue.extend({implicit:[vue,xue,bue,Sue]}),Cue=XI,JI=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),ZI=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function QI(t){return t===null?!1:JI.exec(t)!==null||ZI.exec(t)!==null}M(QI,"resolveYamlTimestamp");function eD(t){var e,r,n,i,s,a,o,l=0,c=null,h,f,g;if(e=JI.exec(t),e===null&&(e=ZI.exec(t)),e===null)throw new Error("Date resolve error");if(r=+e[1],n=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(r,n,i));if(s=+e[4],a=+e[5],o=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(h=+e[10],f=+(e[11]||0),c=(h*60+f)*6e4,e[9]==="-"&&(c=-c)),g=new Date(Date.UTC(r,n,i,s,a,o,l)),c&&g.setTime(g.getTime()-c),g}M(eD,"constructYamlTimestamp");function tD(t){return t.toISOString()}M(tD,"representYamlTimestamp");var kue=new Ps("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:QI,construct:eD,instanceOf:Date,represent:tD});function rD(t){return t==="<<"||t===null}M(rD,"resolveYamlMerge");var Nue=new Ps("tag:yaml.org,2002:merge",{kind:"scalar",resolve:rD}),ek=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function nD(t){if(t===null)return!1;var e,r,n=0,i=t.length,s=ek;for(r=0;r<i;r++)if(e=s.indexOf(t.charAt(r)),!(e>64)){if(e<0)return!1;n+=6}return n%8===0}M(nD,"resolveYamlBinary");function iD(t){var e,r,n=t.replace(/[\r\n=]/g,""),i=n.length,s=ek,a=0,o=[];for(e=0;e<i;e++)e%4===0&&e&&(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)),a=a<<6|s.indexOf(n.charAt(e));return r=i%4*6,r===0?(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)):r===18?(o.push(a>>10&255),o.push(a>>2&255)):r===12&&o.push(a>>4&255),new Uint8Array(o)}M(iD,"constructYamlBinary");function sD(t){var e="",r=0,n,i,s=t.length,a=ek;for(n=0;n<s;n++)n%3===0&&n&&(e+=a[r>>18&63],e+=a[r>>12&63],e+=a[r>>6&63],e+=a[r&63]),r=(r<<8)+t[n];return i=s%3,i===0?(e+=a[r>>18&63],e+=a[r>>12&63],e+=a[r>>6&63],e+=a[r&63]):i===2?(e+=a[r>>10&63],e+=a[r>>4&63],e+=a[r<<2&63],e+=a[64]):i===1&&(e+=a[r>>2&63],e+=a[r<<4&63],e+=a[64],e+=a[64]),e}M(sD,"representYamlBinary");function aD(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}M(aD,"isBinary");var Tue=new Ps("tag:yaml.org,2002:binary",{kind:"scalar",resolve:nD,construct:iD,predicate:aD,represent:sD}),Aue=Object.prototype.hasOwnProperty,Eue=Object.prototype.toString;function oD(t){if(t===null)return!0;var e=[],r,n,i,s,a,o=t;for(r=0,n=o.length;r<n;r+=1){if(i=o[r],a=!1,Eue.call(i)!=="[object Object]")return!1;for(s in i)if(Aue.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}M(oD,"resolveYamlOmap");function lD(t){return t!==null?t:[]}M(lD,"constructYamlOmap");var jue=new Ps("tag:yaml.org,2002:omap",{kind:"sequence",resolve:oD,construct:lD}),Lue=Object.prototype.toString;function cD(t){if(t===null)return!0;var e,r,n,i,s,a=t;for(s=new Array(a.length),e=0,r=a.length;e<r;e+=1){if(n=a[e],Lue.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[e]=[i[0],n[i[0]]]}return!0}M(cD,"resolveYamlPairs");function uD(t){if(t===null)return[];var e,r,n,i,s,a=t;for(s=new Array(a.length),e=0,r=a.length;e<r;e+=1)n=a[e],i=Object.keys(n),s[e]=[i[0],n[i[0]]];return s}M(uD,"constructYamlPairs");var Pue=new Ps("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:cD,construct:uD}),Rue=Object.prototype.hasOwnProperty;function hD(t){if(t===null)return!0;var e,r=t;for(e in r)if(Rue.call(r,e)&&r[e]!==null)return!1;return!0}M(hD,"resolveYamlSet");function dD(t){return t!==null?t:{}}M(dD,"constructYamlSet");var Mue=new Ps("tag:yaml.org,2002:set",{kind:"mapping",resolve:hD,construct:dD}),fD=Cue.extend({implicit:[kue,Nue],explicit:[Tue,jue,Pue,Mue]}),uh=Object.prototype.hasOwnProperty,Tv=1,pD=2,mD=3,Av=4,Gb=1,Oue=2,LE=3,Iue=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Due=/[\x85\u2028\u2029]/,Bue=/[,\[\]\{\}]/,gD=/^(?:!|!!|![a-z\-]+!)$/i,yD=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function X5(t){return Object.prototype.toString.call(t)}M(X5,"_class");function hl(t){return t===10||t===13}M(hl,"is_EOL");function rh(t){return t===9||t===32}M(rh,"is_WHITE_SPACE");function Ys(t){return t===9||t===32||t===10||t===13}M(Ys,"is_WS_OR_EOL");function gd(t){return t===44||t===91||t===93||t===123||t===125}M(gd,"is_FLOW_INDICATOR");function vD(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}M(vD,"fromHexCode");function xD(t){return t===120?2:t===117?4:t===85?8:0}M(xD,"escapedHexLen");function bD(t){return 48<=t&&t<=57?t-48:-1}M(bD,"fromDecimalCode");function J5(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}M(J5,"simpleEscapeSequence");function wD(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}M(wD,"charFromCodepoint");var _D=new Array(256),SD=new Array(256);for(Zh=0;Zh<256;Zh++)_D[Zh]=J5(Zh)?1:0,SD[Zh]=J5(Zh);var Zh;function CD(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||fD,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}M(CD,"State$1");function tk(t,e){var r={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return r.snippet=uue(r),new wa(e,r)}M(tk,"generateError");function $t(t,e){throw tk(t,e)}M($t,"throwError");function Ug(t,e){t.onWarning&&t.onWarning.call(null,tk(t,e))}M(Ug,"throwWarning");var PE={YAML:M(function(e,r,n){var i,s,a;e.version!==null&&$t(e,"duplication of %YAML directive"),n.length!==1&&$t(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&$t(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&$t(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&Ug(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:M(function(e,r,n){var i,s;n.length!==2&&$t(e,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],gD.test(i)||$t(e,"ill-formed tag handle (first argument) of the TAG directive"),uh.call(e.tagMap,i)&&$t(e,'there is a previously declared suffix for "'+i+'" tag handle'),yD.test(s)||$t(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{$t(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s},"handleTagDirective")};function tu(t,e,r,n){var i,s,a,o;if(e<r){if(o=t.input.slice(e,r),n)for(i=0,s=o.length;i<s;i+=1)a=o.charCodeAt(i),a===9||32<=a&&a<=1114111||$t(t,"expected valid JSON character");else Iue.test(o)&&$t(t,"the stream contains non-printable characters");t.result+=o}}M(tu,"captureSegment");function Z5(t,e,r,n){var i,s,a,o;for($i.isObject(r)||$t(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),a=0,o=i.length;a<o;a+=1)s=i[a],uh.call(e,s)||(e[s]=r[s],n[s]=!0)}M(Z5,"mergeMappings");function yd(t,e,r,n,i,s,a,o,l){var c,h;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,h=i.length;c<h;c+=1)Array.isArray(i[c])&&$t(t,"nested arrays are not supported inside keys"),typeof i=="object"&&X5(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&X5(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,h=s.length;c<h;c+=1)Z5(t,e,s[c],r);else Z5(t,e,s,r);else!t.json&&!uh.call(r,i)&&uh.call(e,i)&&(t.line=a||t.line,t.lineStart=o||t.lineStart,t.position=l||t.position,$t(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete r[i];return e}M(yd,"storeMappingPair");function Dx(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):$t(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}M(Dx,"readLineBreak");function Si(t,e,r){for(var n=0,i=t.input.charCodeAt(t.position);i!==0;){for(;rh(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(hl(i))for(Dx(t),i=t.input.charCodeAt(t.position),n++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return r!==-1&&n!==0&&t.lineIndent<r&&Ug(t,"deficient indentation"),n}M(Si,"skipSeparationSpace");function _0(t){var e=t.position,r;return r=t.input.charCodeAt(e),!!((r===45||r===46)&&r===t.input.charCodeAt(e+1)&&r===t.input.charCodeAt(e+2)&&(e+=3,r=t.input.charCodeAt(e),r===0||Ys(r)))}M(_0,"testDocumentSeparator");function Bx(t,e){e===1?t.result+=" ":e>1&&(t.result+=$i.repeat(`
`,e-1))}M(Bx,"writeFoldedLines");function kD(t,e,r){var n,i,s,a,o,l,c,h,f=t.kind,g=t.result,p;if(p=t.input.charCodeAt(t.position),Ys(p)||gd(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=t.input.charCodeAt(t.position+1),Ys(i)||r&&gd(i)))return!1;for(t.kind="scalar",t.result="",s=a=t.position,o=!1;p!==0;){if(p===58){if(i=t.input.charCodeAt(t.position+1),Ys(i)||r&&gd(i))break}else if(p===35){if(n=t.input.charCodeAt(t.position-1),Ys(n))break}else{if(t.position===t.lineStart&&_0(t)||r&&gd(p))break;if(hl(p))if(l=t.line,c=t.lineStart,h=t.lineIndent,Si(t,!1,-1),t.lineIndent>=e){o=!0,p=t.input.charCodeAt(t.position);continue}else{t.position=a,t.line=l,t.lineStart=c,t.lineIndent=h;break}}o&&(tu(t,s,a,!1),Bx(t,t.line-l),s=a=t.position,o=!1),rh(p)||(a=t.position+1),p=t.input.charCodeAt(++t.position)}return tu(t,s,a,!1),t.result?!0:(t.kind=f,t.result=g,!1)}M(kD,"readPlainScalar");function ND(t,e){var r,n,i;if(r=t.input.charCodeAt(t.position),r!==39)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(r=t.input.charCodeAt(t.position))!==0;)if(r===39)if(tu(t,n,t.position,!0),r=t.input.charCodeAt(++t.position),r===39)n=t.position,t.position++,i=t.position;else return!0;else hl(r)?(tu(t,n,i,!0),Bx(t,Si(t,!1,e)),n=i=t.position):t.position===t.lineStart&&_0(t)?$t(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);$t(t,"unexpected end of the stream within a single quoted scalar")}M(ND,"readSingleQuotedScalar");function TD(t,e){var r,n,i,s,a,o;if(o=t.input.charCodeAt(t.position),o!==34)return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;(o=t.input.charCodeAt(t.position))!==0;){if(o===34)return tu(t,r,t.position,!0),t.position++,!0;if(o===92){if(tu(t,r,t.position,!0),o=t.input.charCodeAt(++t.position),hl(o))Si(t,!1,e);else if(o<256&&_D[o])t.result+=SD[o],t.position++;else if((a=xD(o))>0){for(i=a,s=0;i>0;i--)o=t.input.charCodeAt(++t.position),(a=vD(o))>=0?s=(s<<4)+a:$t(t,"expected hexadecimal character");t.result+=wD(s),t.position++}else $t(t,"unknown escape sequence");r=n=t.position}else hl(o)?(tu(t,r,n,!0),Bx(t,Si(t,!1,e)),r=n=t.position):t.position===t.lineStart&&_0(t)?$t(t,"unexpected end of the document within a double quoted scalar"):(t.position++,n=t.position)}$t(t,"unexpected end of the stream within a double quoted scalar")}M(TD,"readDoubleQuotedScalar");function AD(t,e){var r=!0,n,i,s,a=t.tag,o,l=t.anchor,c,h,f,g,p,v=Object.create(null),x,b,_,k;if(k=t.input.charCodeAt(t.position),k===91)h=93,p=!1,o=[];else if(k===123)h=125,p=!0,o={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),k=t.input.charCodeAt(++t.position);k!==0;){if(Si(t,!0,e),k=t.input.charCodeAt(t.position),k===h)return t.position++,t.tag=a,t.anchor=l,t.kind=p?"mapping":"sequence",t.result=o,!0;r?k===44&&$t(t,"expected the node content, but found ','"):$t(t,"missed comma between flow collection entries"),b=x=_=null,f=g=!1,k===63&&(c=t.input.charCodeAt(t.position+1),Ys(c)&&(f=g=!0,t.position++,Si(t,!0,e))),n=t.line,i=t.lineStart,s=t.position,Od(t,e,Tv,!1,!0),b=t.tag,x=t.result,Si(t,!0,e),k=t.input.charCodeAt(t.position),(g||t.line===n)&&k===58&&(f=!0,k=t.input.charCodeAt(++t.position),Si(t,!0,e),Od(t,e,Tv,!1,!0),_=t.result),p?yd(t,o,v,b,x,_,n,i,s):f?o.push(yd(t,null,v,b,x,_,n,i,s)):o.push(x),Si(t,!0,e),k=t.input.charCodeAt(t.position),k===44?(r=!0,k=t.input.charCodeAt(++t.position)):r=!1}$t(t,"unexpected end of the stream within a flow collection")}M(AD,"readFlowCollection");function ED(t,e){var r,n,i=Gb,s=!1,a=!1,o=e,l=0,c=!1,h,f;if(f=t.input.charCodeAt(t.position),f===124)n=!1;else if(f===62)n=!0;else return!1;for(t.kind="scalar",t.result="";f!==0;)if(f=t.input.charCodeAt(++t.position),f===43||f===45)Gb===i?i=f===43?LE:Oue:$t(t,"repeat of a chomping mode identifier");else if((h=bD(f))>=0)h===0?$t(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?$t(t,"repeat of an indentation width identifier"):(o=e+h-1,a=!0);else break;if(rh(f)){do f=t.input.charCodeAt(++t.position);while(rh(f));if(f===35)do f=t.input.charCodeAt(++t.position);while(!hl(f)&&f!==0)}for(;f!==0;){for(Dx(t),t.lineIndent=0,f=t.input.charCodeAt(t.position);(!a||t.lineIndent<o)&&f===32;)t.lineIndent++,f=t.input.charCodeAt(++t.position);if(!a&&t.lineIndent>o&&(o=t.lineIndent),hl(f)){l++;continue}if(t.lineIndent<o){i===LE?t.result+=$i.repeat(`
`,s?1+l:l):i===Gb&&s&&(t.result+=`
`);break}for(n?rh(f)?(c=!0,t.result+=$i.repeat(`
`,s?1+l:l)):c?(c=!1,t.result+=$i.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=$i.repeat(`
`,l):t.result+=$i.repeat(`
`,s?1+l:l),s=!0,a=!0,l=0,r=t.position;!hl(f)&&f!==0;)f=t.input.charCodeAt(++t.position);tu(t,r,t.position,!1)}return!0}M(ED,"readBlockScalar");function Q5(t,e){var r,n=t.tag,i=t.anchor,s=[],a,o=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,$t(t,"tab characters must not be used in indentation")),!(l!==45||(a=t.input.charCodeAt(t.position+1),!Ys(a))));){if(o=!0,t.position++,Si(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(r=t.line,Od(t,e,mD,!1,!0),s.push(t.result),Si(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&l!==0)$t(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return o?(t.tag=n,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}M(Q5,"readBlockSequence");function jD(t,e,r){var n,i,s,a,o,l,c=t.tag,h=t.anchor,f={},g=Object.create(null),p=null,v=null,x=null,b=!1,_=!1,k;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=f),k=t.input.charCodeAt(t.position);k!==0;){if(!b&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,$t(t,"tab characters must not be used in indentation")),n=t.input.charCodeAt(t.position+1),s=t.line,(k===63||k===58)&&Ys(n))k===63?(b&&(yd(t,f,g,p,v,null,a,o,l),p=v=x=null),_=!0,b=!0,i=!0):b?(b=!1,i=!0):$t(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,k=n;else{if(a=t.line,o=t.lineStart,l=t.position,!Od(t,r,pD,!1,!0))break;if(t.line===s){for(k=t.input.charCodeAt(t.position);rh(k);)k=t.input.charCodeAt(++t.position);if(k===58)k=t.input.charCodeAt(++t.position),Ys(k)||$t(t,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(yd(t,f,g,p,v,null,a,o,l),p=v=x=null),_=!0,b=!1,i=!1,p=t.tag,v=t.result;else if(_)$t(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=c,t.anchor=h,!0}else if(_)$t(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=c,t.anchor=h,!0}if((t.line===s||t.lineIndent>e)&&(b&&(a=t.line,o=t.lineStart,l=t.position),Od(t,e,Av,!0,i)&&(b?v=t.result:x=t.result),b||(yd(t,f,g,p,v,x,a,o,l),p=v=x=null),Si(t,!0,-1),k=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&k!==0)$t(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return b&&yd(t,f,g,p,v,null,a,o,l),_&&(t.tag=c,t.anchor=h,t.kind="mapping",t.result=f),_}M(jD,"readBlockMapping");function LD(t){var e,r=!1,n=!1,i,s,a;if(a=t.input.charCodeAt(t.position),a!==33)return!1;if(t.tag!==null&&$t(t,"duplication of a tag property"),a=t.input.charCodeAt(++t.position),a===60?(r=!0,a=t.input.charCodeAt(++t.position)):a===33?(n=!0,i="!!",a=t.input.charCodeAt(++t.position)):i="!",e=t.position,r){do a=t.input.charCodeAt(++t.position);while(a!==0&&a!==62);t.position<t.length?(s=t.input.slice(e,t.position),a=t.input.charCodeAt(++t.position)):$t(t,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!Ys(a);)a===33&&(n?$t(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),gD.test(i)||$t(t,"named tag handle cannot contain such characters"),n=!0,e=t.position+1)),a=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),Bue.test(s)&&$t(t,"tag suffix cannot contain flow indicator characters")}s&&!yD.test(s)&&$t(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{$t(t,"tag name is malformed: "+s)}return r?t.tag=s:uh.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:$t(t,'undeclared tag handle "'+i+'"'),!0}M(LD,"readTagProperty");function PD(t){var e,r;if(r=t.input.charCodeAt(t.position),r!==38)return!1;for(t.anchor!==null&&$t(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Ys(r)&&!gd(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&$t(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}M(PD,"readAnchorProperty");function RD(t){var e,r,n;if(n=t.input.charCodeAt(t.position),n!==42)return!1;for(n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Ys(n)&&!gd(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&$t(t,"name of an alias node must contain at least one character"),r=t.input.slice(e,t.position),uh.call(t.anchorMap,r)||$t(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],Si(t,!0,-1),!0}M(RD,"readAlias");function Od(t,e,r,n,i){var s,a,o,l=1,c=!1,h=!1,f,g,p,v,x,b;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=a=o=Av===r||mD===r,n&&Si(t,!0,-1)&&(c=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;LD(t)||PD(t);)Si(t,!0,-1)?(c=!0,o=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):o=!1;if(o&&(o=c||i),(l===1||Av===r)&&(Tv===r||pD===r?x=e:x=e+1,b=t.position-t.lineStart,l===1?o&&(Q5(t,b)||jD(t,b,x))||AD(t,x)?h=!0:(a&&ED(t,x)||ND(t,x)||TD(t,x)?h=!0:RD(t)?(h=!0,(t.tag!==null||t.anchor!==null)&&$t(t,"alias node should not have any properties")):kD(t,x,Tv===r)&&(h=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(h=o&&Q5(t,b))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&$t(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),f=0,g=t.implicitTypes.length;f<g;f+=1)if(v=t.implicitTypes[f],v.resolve(t.result)){t.result=v.construct(t.result),t.tag=v.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(uh.call(t.typeMap[t.kind||"fallback"],t.tag))v=t.typeMap[t.kind||"fallback"][t.tag];else for(v=null,p=t.typeMap.multi[t.kind||"fallback"],f=0,g=p.length;f<g;f+=1)if(t.tag.slice(0,p[f].tag.length)===p[f].tag){v=p[f];break}v||$t(t,"unknown tag !<"+t.tag+">"),t.result!==null&&v.kind!==t.kind&&$t(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+v.kind+'", not "'+t.kind+'"'),v.resolve(t.result,t.tag)?(t.result=v.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):$t(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||h}M(Od,"composeNode");function MD(t){var e=t.position,r,n,i,s=!1,a;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(a=t.input.charCodeAt(t.position))!==0&&(Si(t,!0,-1),a=t.input.charCodeAt(t.position),!(t.lineIndent>0||a!==37));){for(s=!0,a=t.input.charCodeAt(++t.position),r=t.position;a!==0&&!Ys(a);)a=t.input.charCodeAt(++t.position);for(n=t.input.slice(r,t.position),i=[],n.length<1&&$t(t,"directive name must not be less than one character in length");a!==0;){for(;rh(a);)a=t.input.charCodeAt(++t.position);if(a===35){do a=t.input.charCodeAt(++t.position);while(a!==0&&!hl(a));break}if(hl(a))break;for(r=t.position;a!==0&&!Ys(a);)a=t.input.charCodeAt(++t.position);i.push(t.input.slice(r,t.position))}a!==0&&Dx(t),uh.call(PE,n)?PE[n](t,n,i):Ug(t,'unknown document directive "'+n+'"')}if(Si(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Si(t,!0,-1)):s&&$t(t,"directives end mark is expected"),Od(t,t.lineIndent-1,Av,!1,!0),Si(t,!0,-1),t.checkLineBreaks&&Due.test(t.input.slice(e,t.position))&&Ug(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&_0(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Si(t,!0,-1));return}if(t.position<t.length-1)$t(t,"end of the stream or a document separator is expected");else return}M(MD,"readDocument");function rk(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var r=new CD(t,e),n=t.indexOf("\0");for(n!==-1&&(r.position=n,$t(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)MD(r);return r.documents}M(rk,"loadDocuments");function Fue(t,e,r){e!==null&&typeof e=="object"&&typeof r>"u"&&(r=e,e=null);var n=rk(t,r);if(typeof e!="function")return n;for(var i=0,s=n.length;i<s;i+=1)e(n[i])}M(Fue,"loadAll$1");function OD(t,e){var r=rk(t,e);if(r.length!==0){if(r.length===1)return r[0];throw new wa("expected a single document in the stream, but found more")}}M(OD,"load$1");var $ue=OD,zue={load:$ue},ID=Object.prototype.toString,DD=Object.prototype.hasOwnProperty,nk=65279,Uue=9,qg=10,que=13,Wue=32,Vue=33,Hue=34,e_=35,Gue=37,Yue=38,Kue=39,Xue=42,BD=44,Jue=45,Ev=58,Zue=61,Que=62,ehe=63,the=64,FD=91,$D=93,rhe=96,zD=123,nhe=124,UD=125,Ms={};Ms[0]="\\0";Ms[7]="\\a";Ms[8]="\\b";Ms[9]="\\t";Ms[10]="\\n";Ms[11]="\\v";Ms[12]="\\f";Ms[13]="\\r";Ms[27]="\\e";Ms[34]='\\"';Ms[92]="\\\\";Ms[133]="\\N";Ms[160]="\\_";Ms[8232]="\\L";Ms[8233]="\\P";var ihe=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],she=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function qD(t,e){var r,n,i,s,a,o,l;if(e===null)return{};for(r={},n=Object.keys(e),i=0,s=n.length;i<s;i+=1)a=n[i],o=String(e[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),l=t.compiledTypeMap.fallback[a],l&&DD.call(l.styleAliases,o)&&(o=l.styleAliases[o]),r[a]=o;return r}M(qD,"compileStyleMap");function WD(t){var e,r,n;if(e=t.toString(16).toUpperCase(),t<=255)r="x",n=2;else if(t<=65535)r="u",n=4;else if(t<=4294967295)r="U",n=8;else throw new wa("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+$i.repeat("0",n-e.length)+e}M(WD,"encodeHex");var ahe=1,Wg=2;function VD(t){this.schema=t.schema||fD,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=$i.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=qD(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Wg:ahe,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}M(VD,"State");function t_(t,e){for(var r=$i.repeat(" ",e),n=0,i=-1,s="",a,o=t.length;n<o;)i=t.indexOf(`
`,n),i===-1?(a=t.slice(n),n=o):(a=t.slice(n,i+1),n=i+1),a.length&&a!==`
`&&(s+=r),s+=a;return s}M(t_,"indentString");function jv(t,e){return`
`+$i.repeat(" ",t.indent*e)}M(jv,"generateNextLine");function HD(t,e){var r,n,i;for(r=0,n=t.implicitTypes.length;r<n;r+=1)if(i=t.implicitTypes[r],i.resolve(e))return!0;return!1}M(HD,"testImplicitResolving");function Vg(t){return t===Wue||t===Uue}M(Vg,"isWhitespace");function Ep(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==nk||65536<=t&&t<=1114111}M(Ep,"isPrintable");function r_(t){return Ep(t)&&t!==nk&&t!==que&&t!==qg}M(r_,"isNsCharOrWhitespace");function n_(t,e,r){var n=r_(t),i=n&&!Vg(t);return(r?n:n&&t!==BD&&t!==FD&&t!==$D&&t!==zD&&t!==UD)&&t!==e_&&!(e===Ev&&!i)||r_(e)&&!Vg(e)&&t===e_||e===Ev&&i}M(n_,"isPlainSafe");function GD(t){return Ep(t)&&t!==nk&&!Vg(t)&&t!==Jue&&t!==ehe&&t!==Ev&&t!==BD&&t!==FD&&t!==$D&&t!==zD&&t!==UD&&t!==e_&&t!==Yue&&t!==Xue&&t!==Vue&&t!==nhe&&t!==Zue&&t!==Que&&t!==Kue&&t!==Hue&&t!==Gue&&t!==the&&t!==rhe}M(GD,"isPlainSafeFirst");function YD(t){return!Vg(t)&&t!==Ev}M(YD,"isPlainSafeLast");function Kf(t,e){var r=t.charCodeAt(e),n;return r>=55296&&r<=56319&&e+1<t.length&&(n=t.charCodeAt(e+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}M(Kf,"codePointAt");function ik(t){var e=/^\n* /;return e.test(t)}M(ik,"needIndentIndicator");var KD=1,i_=2,XD=3,JD=4,$f=5;function ZD(t,e,r,n,i,s,a,o){var l,c=0,h=null,f=!1,g=!1,p=n!==-1,v=-1,x=GD(Kf(t,0))&&YD(Kf(t,t.length-1));if(e||a)for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=Kf(t,l),!Ep(c))return $f;x=x&&n_(c,h,o),h=c}else{for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=Kf(t,l),c===qg)f=!0,p&&(g=g||l-v-1>n&&t[v+1]!==" ",v=l);else if(!Ep(c))return $f;x=x&&n_(c,h,o),h=c}g=g||p&&l-v-1>n&&t[v+1]!==" "}return!f&&!g?x&&!a&&!i(t)?KD:s===Wg?$f:i_:r>9&&ik(t)?$f:a?s===Wg?$f:i_:g?JD:XD}M(ZD,"chooseScalarStyle");function QD(t,e,r,n,i){t.dump=(function(){if(e.length===0)return t.quotingType===Wg?'""':"''";if(!t.noCompatMode&&(ihe.indexOf(e)!==-1||she.test(e)))return t.quotingType===Wg?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,r),a=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),o=n||t.flowLevel>-1&&r>=t.flowLevel;function l(c){return HD(t,c)}switch(M(l,"testAmbiguity"),ZD(e,o,t.indent,a,l,t.quotingType,t.forceQuotes&&!n,i)){case KD:return e;case i_:return"'"+e.replace(/'/g,"''")+"'";case XD:return"|"+s_(e,t.indent)+a_(t_(e,s));case JD:return">"+s_(e,t.indent)+a_(t_(eB(e,a),s));case $f:return'"'+tB(e)+'"';default:throw new wa("impossible error: invalid scalar style")}})()}M(QD,"writeScalar");function s_(t,e){var r=ik(t)?String(e):"",n=t[t.length-1]===`
`,i=n&&(t[t.length-2]===`
`||t===`
`),s=i?"+":n?"":"-";return r+s+`
`}M(s_,"blockHeader");function a_(t){return t[t.length-1]===`
`?t.slice(0,-1):t}M(a_,"dropEndingNewline");function eB(t,e){for(var r=/(\n+)([^\n]*)/g,n=(function(){var c=t.indexOf(`
`);return c=c!==-1?c:t.length,r.lastIndex=c,o_(t.slice(0,c),e)})(),i=t[0]===`
`||t[0]===" ",s,a;a=r.exec(t);){var o=a[1],l=a[2];s=l[0]===" ",n+=o+(!i&&!s&&l!==""?`
`:"")+o_(l,e),i=s}return n}M(eB,"foldString");function o_(t,e){if(t===""||t[0]===" ")return t;for(var r=/ [^ ]/g,n,i=0,s,a=0,o=0,l="";n=r.exec(t);)o=n.index,o-i>e&&(s=a>i?a:o,l+=`
`+t.slice(i,s),i=s+1),a=o;return l+=`
`,t.length-i>e&&a>i?l+=t.slice(i,a)+`
`+t.slice(a+1):l+=t.slice(i),l.slice(1)}M(o_,"foldLine");function tB(t){for(var e="",r=0,n,i=0;i<t.length;r>=65536?i+=2:i++)r=Kf(t,i),n=Ms[r],!n&&Ep(r)?(e+=t[i],r>=65536&&(e+=t[i+1])):e+=n||WD(r);return e}M(tB,"escapeString");function rB(t,e,r){var n="",i=t.tag,s,a,o;for(s=0,a=r.length;s<a;s+=1)o=r[s],t.replacer&&(o=t.replacer.call(r,String(s),o)),(rc(t,e,o,!1,!1)||typeof o>"u"&&rc(t,e,null,!1,!1))&&(n!==""&&(n+=","+(t.condenseFlow?"":" ")),n+=t.dump);t.tag=i,t.dump="["+n+"]"}M(rB,"writeFlowSequence");function l_(t,e,r,n){var i="",s=t.tag,a,o,l;for(a=0,o=r.length;a<o;a+=1)l=r[a],t.replacer&&(l=t.replacer.call(r,String(a),l)),(rc(t,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&rc(t,e+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=jv(t,e)),t.dump&&qg===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}M(l_,"writeBlockSequence");function nB(t,e,r){var n="",i=t.tag,s=Object.keys(r),a,o,l,c,h;for(a=0,o=s.length;a<o;a+=1)h="",n!==""&&(h+=", "),t.condenseFlow&&(h+='"'),l=s[a],c=r[l],t.replacer&&(c=t.replacer.call(r,l,c)),rc(t,e,l,!1,!1)&&(t.dump.length>1024&&(h+="? "),h+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),rc(t,e,c,!1,!1)&&(h+=t.dump,n+=h));t.tag=i,t.dump="{"+n+"}"}M(nB,"writeFlowMapping");function iB(t,e,r,n){var i="",s=t.tag,a=Object.keys(r),o,l,c,h,f,g;if(t.sortKeys===!0)a.sort();else if(typeof t.sortKeys=="function")a.sort(t.sortKeys);else if(t.sortKeys)throw new wa("sortKeys must be a boolean or a function");for(o=0,l=a.length;o<l;o+=1)g="",(!n||i!=="")&&(g+=jv(t,e)),c=a[o],h=r[c],t.replacer&&(h=t.replacer.call(r,c,h)),rc(t,e+1,c,!0,!0,!0)&&(f=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,f&&(t.dump&&qg===t.dump.charCodeAt(0)?g+="?":g+="? "),g+=t.dump,f&&(g+=jv(t,e)),rc(t,e+1,h,!0,f)&&(t.dump&&qg===t.dump.charCodeAt(0)?g+=":":g+=": ",g+=t.dump,i+=g));t.tag=s,t.dump=i||"{}"}M(iB,"writeBlockMapping");function c_(t,e,r){var n,i,s,a,o,l;for(i=r?t.explicitTypes:t.implicitTypes,s=0,a=i.length;s<a;s+=1)if(o=i[s],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof e=="object"&&e instanceof o.instanceOf)&&(!o.predicate||o.predicate(e))){if(r?o.multi&&o.representName?t.tag=o.representName(e):t.tag=o.tag:t.tag="?",o.represent){if(l=t.styleMap[o.tag]||o.defaultStyle,ID.call(o.represent)==="[object Function]")n=o.represent(e,l);else if(DD.call(o.represent,l))n=o.represent[l](e,l);else throw new wa("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');t.dump=n}return!0}return!1}M(c_,"detectType");function rc(t,e,r,n,i,s,a){t.tag=null,t.dump=r,c_(t,r,!1)||c_(t,r,!0);var o=ID.call(t.dump),l=n,c;n&&(n=t.flowLevel<0||t.flowLevel>e);var h=o==="[object Object]"||o==="[object Array]",f,g;if(h&&(f=t.duplicates.indexOf(r),g=f!==-1),(t.tag!==null&&t.tag!=="?"||g||t.indent!==2&&e>0)&&(i=!1),g&&t.usedDuplicates[f])t.dump="*ref_"+f;else{if(h&&g&&!t.usedDuplicates[f]&&(t.usedDuplicates[f]=!0),o==="[object Object]")n&&Object.keys(t.dump).length!==0?(iB(t,e,t.dump,i),g&&(t.dump="&ref_"+f+t.dump)):(nB(t,e,t.dump),g&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object Array]")n&&t.dump.length!==0?(t.noArrayIndent&&!a&&e>0?l_(t,e-1,t.dump,i):l_(t,e,t.dump,i),g&&(t.dump="&ref_"+f+t.dump)):(rB(t,e,t.dump),g&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object String]")t.tag!=="?"&&QD(t,t.dump,e,s,l);else{if(o==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new wa("unacceptable kind of an object to dump "+o)}t.tag!==null&&t.tag!=="?"&&(c=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",t.dump=c+" "+t.dump)}return!0}M(rc,"writeNode");function sB(t,e){var r=[],n=[],i,s;for(Lv(t,r,n),i=0,s=n.length;i<s;i+=1)e.duplicates.push(r[n[i]]);e.usedDuplicates=new Array(s)}M(sB,"getDuplicateReferences");function Lv(t,e,r){var n,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)Lv(t[i],e,r);else for(n=Object.keys(t),i=0,s=n.length;i<s;i+=1)Lv(t[n[i]],e,r)}M(Lv,"inspectNode");function ohe(t,e){e=e||{};var r=new VD(e);r.noRefs||sB(t,r);var n=t;return r.replacer&&(n=r.replacer.call({"":n},"",n)),rc(r,0,n,!0,!0)?r.dump+`
`:""}M(ohe,"dump$1");function lhe(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}M(lhe,"renamed");var che=XI,uhe=zue.load;var As={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},RE={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function eg(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=Fn(t),e=Fn(e);const[r,n]=[t.x,t.y],[i,s]=[e.x,e.y],a=i-r,o=s-n;return{angle:Math.atan(o/a),deltaX:a,deltaY:o}}M(eg,"calculateDeltaAndAngle");var Fn=M(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),hhe=M(t=>({x:M(function(e,r,n){let i=0;const s=Fn(n[0]).x<Fn(n[n.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(As,t.arrowTypeStart)){const{angle:p,deltaX:v}=eg(n[0],n[1]);i=As[t.arrowTypeStart]*Math.cos(p)*(v>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(As,t.arrowTypeEnd)){const{angle:p,deltaX:v}=eg(n[n.length-1],n[n.length-2]);i=As[t.arrowTypeEnd]*Math.cos(p)*(v>=0?1:-1)}const a=Math.abs(Fn(e).x-Fn(n[n.length-1]).x),o=Math.abs(Fn(e).y-Fn(n[n.length-1]).y),l=Math.abs(Fn(e).x-Fn(n[0]).x),c=Math.abs(Fn(e).y-Fn(n[0]).y),h=As[t.arrowTypeStart],f=As[t.arrowTypeEnd],g=1;if(a<f&&a>0&&o<f){let p=f+g-a;p*=s==="right"?-1:1,i-=p}if(l<h&&l>0&&c<h){let p=h+g-l;p*=s==="right"?-1:1,i+=p}return Fn(e).x+i},"x"),y:M(function(e,r,n){let i=0;const s=Fn(n[0]).y<Fn(n[n.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(As,t.arrowTypeStart)){const{angle:p,deltaY:v}=eg(n[0],n[1]);i=As[t.arrowTypeStart]*Math.abs(Math.sin(p))*(v>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(As,t.arrowTypeEnd)){const{angle:p,deltaY:v}=eg(n[n.length-1],n[n.length-2]);i=As[t.arrowTypeEnd]*Math.abs(Math.sin(p))*(v>=0?1:-1)}const a=Math.abs(Fn(e).y-Fn(n[n.length-1]).y),o=Math.abs(Fn(e).x-Fn(n[n.length-1]).x),l=Math.abs(Fn(e).y-Fn(n[0]).y),c=Math.abs(Fn(e).x-Fn(n[0]).x),h=As[t.arrowTypeStart],f=As[t.arrowTypeEnd],g=1;if(a<f&&a>0&&o<f){let p=f+g-a;p*=s==="up"?-1:1,i-=p}if(l<h&&l>0&&c<h){let p=h+g-l;p*=s==="up"?-1:1,i+=p}return Fn(e).y+i},"y")}),"getLineFunctionsWithOffset"),sk=M(({flowchart:t})=>{const e=t?.subGraphTitleMargin?.top??0,r=t?.subGraphTitleMargin?.bottom??0,n=e+r;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:n}},"getSubGraphTitleMargins"),dhe=M(t=>{const{handDrawnSeed:e}=en();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),Kp=M(t=>{const e=fhe([...t.cssCompiledStyles||[],...t.cssStyles||[],...t.labelStyle||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),fhe=M(t=>{const e=new Map;return t.forEach(r=>{const[n,i]=r.split(":");e.set(n.trim(),i?.trim())}),e},"styles2Map"),aB=M(t=>t==="color"||t==="font-size"||t==="font-family"||t==="font-weight"||t==="font-style"||t==="text-decoration"||t==="text-align"||t==="text-transform"||t==="line-height"||t==="letter-spacing"||t==="word-spacing"||t==="text-shadow"||t==="text-overflow"||t==="white-space"||t==="word-wrap"||t==="word-break"||t==="overflow-wrap"||t==="hyphens","isLabelStyle"),Et=M(t=>{const{stylesArray:e}=Kp(t),r=[],n=[],i=[],s=[];return e.forEach(a=>{const o=a[0];aB(o)?r.push(a.join(":")+" !important"):(n.push(a.join(":")+" !important"),o.includes("stroke")&&i.push(a.join(":")+" !important"),o==="fill"&&s.push(a.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:e,borderStyles:i,backgroundStyles:s}},"styles2String"),At=M((t,e)=>{const{themeVariables:r,handDrawnSeed:n}=en(),{nodeBorder:i,mainBkg:s}=r,{stylesMap:a}=Kp(t);return Object.assign({roughness:.7,fill:a.get("fill")||s,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:a.get("stroke")||i,seed:n,strokeWidth:a.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:phe(a.get("stroke-dasharray"))},e)},"userNodeOverrides"),phe=M(t=>{if(!t)return[0,0];const e=t.trim().split(/\s+/).map(Number);if(e.length===1){const i=isNaN(e[0])?0:e[0];return[i,i]}const r=isNaN(e[0])?0:e[0],n=isNaN(e[1])?0:e[1];return[r,n]},"getStrokeDashArray"),Fm={},Di={},ME;function mhe(){return ME||(ME=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.BLANK_URL=Di.relativeFirstCharacters=Di.whitespaceEscapeCharsRegex=Di.urlSchemeRegex=Di.ctrlCharactersRegex=Di.htmlCtrlEntityRegex=Di.htmlEntitiesRegex=Di.invalidProtocolRegex=void 0,Di.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,Di.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,Di.htmlCtrlEntityRegex=/&(newline|tab);/gi,Di.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Di.urlSchemeRegex=/^.+(:|&colon;)/gim,Di.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,Di.relativeFirstCharacters=[".","/"],Di.BLANK_URL="about:blank"),Di}var OE;function ghe(){if(OE)return Fm;OE=1,Object.defineProperty(Fm,"__esModule",{value:!0}),Fm.sanitizeUrl=void 0;var t=mhe();function e(a){return t.relativeFirstCharacters.indexOf(a[0])>-1}function r(a){var o=a.replace(t.ctrlCharactersRegex,"");return o.replace(t.htmlEntitiesRegex,function(l,c){return String.fromCharCode(c)})}function n(a){return URL.canParse(a)}function i(a){try{return decodeURIComponent(a)}catch{return a}}function s(a){if(!a)return t.BLANK_URL;var o,l=i(a.trim());do l=r(l).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim(),l=i(l),o=l.match(t.ctrlCharactersRegex)||l.match(t.htmlEntitiesRegex)||l.match(t.htmlCtrlEntityRegex)||l.match(t.whitespaceEscapeCharsRegex);while(o&&o.length>0);var c=l;if(!c)return t.BLANK_URL;if(e(c))return c;var h=c.trimStart(),f=h.match(t.urlSchemeRegex);if(!f)return c;var g=f[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(g))return t.BLANK_URL;var p=h.replace(/\\/g,"/");if(g==="mailto:"||g.includes("://"))return p;if(g==="http:"||g==="https:"){if(!n(p))return t.BLANK_URL;var v=new URL(p);return v.protocol=v.protocol.toLowerCase(),v.hostname=v.hostname.toLowerCase(),v.toString()}return p}return Fm.sanitizeUrl=s,Fm}var yhe=ghe(),oB=typeof global=="object"&&global&&global.Object===Object&&global,vhe=typeof self=="object"&&self&&self.Object===Object&&self,lc=oB||vhe||Function("return this")(),Pv=lc.Symbol,lB=Object.prototype,xhe=lB.hasOwnProperty,bhe=lB.toString,$m=Pv?Pv.toStringTag:void 0;function whe(t){var e=xhe.call(t,$m),r=t[$m];try{t[$m]=void 0;var n=!0}catch{}var i=bhe.call(t);return n&&(e?t[$m]=r:delete t[$m]),i}var _he=Object.prototype,She=_he.toString;function Che(t){return She.call(t)}var khe="[object Null]",Nhe="[object Undefined]",IE=Pv?Pv.toStringTag:void 0;function Xp(t){return t==null?t===void 0?Nhe:khe:IE&&IE in Object(t)?whe(t):Che(t)}function qd(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var The="[object AsyncFunction]",Ahe="[object Function]",Ehe="[object GeneratorFunction]",jhe="[object Proxy]";function ak(t){if(!qd(t))return!1;var e=Xp(t);return e==Ahe||e==Ehe||e==The||e==jhe}var Yb=lc["__core-js_shared__"],DE=(function(){var t=/[^.]+$/.exec(Yb&&Yb.keys&&Yb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function Lhe(t){return!!DE&&DE in t}var Phe=Function.prototype,Rhe=Phe.toString;function Wd(t){if(t!=null){try{return Rhe.call(t)}catch{}try{return t+""}catch{}}return""}var Mhe=/[\\^$.*+?()[\]{}|]/g,Ohe=/^\[object .+?Constructor\]$/,Ihe=Function.prototype,Dhe=Object.prototype,Bhe=Ihe.toString,Fhe=Dhe.hasOwnProperty,$he=RegExp("^"+Bhe.call(Fhe).replace(Mhe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zhe(t){if(!qd(t)||Lhe(t))return!1;var e=ak(t)?$he:Ohe;return e.test(Wd(t))}function Uhe(t,e){return t?.[e]}function Vd(t,e){var r=Uhe(t,e);return zhe(r)?r:void 0}var Hg=Vd(Object,"create");function qhe(){this.__data__=Hg?Hg(null):{},this.size=0}function Whe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Vhe="__lodash_hash_undefined__",Hhe=Object.prototype,Ghe=Hhe.hasOwnProperty;function Yhe(t){var e=this.__data__;if(Hg){var r=e[t];return r===Vhe?void 0:r}return Ghe.call(e,t)?e[t]:void 0}var Khe=Object.prototype,Xhe=Khe.hasOwnProperty;function Jhe(t){var e=this.__data__;return Hg?e[t]!==void 0:Xhe.call(e,t)}var Zhe="__lodash_hash_undefined__";function Qhe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Hg&&e===void 0?Zhe:e,this}function Id(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Id.prototype.clear=qhe;Id.prototype.delete=Whe;Id.prototype.get=Yhe;Id.prototype.has=Jhe;Id.prototype.set=Qhe;function ede(){this.__data__=[],this.size=0}function Fx(t,e){return t===e||t!==t&&e!==e}function $x(t,e){for(var r=t.length;r--;)if(Fx(t[r][0],e))return r;return-1}var tde=Array.prototype,rde=tde.splice;function nde(t){var e=this.__data__,r=$x(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():rde.call(e,r,1),--this.size,!0}function ide(t){var e=this.__data__,r=$x(e,t);return r<0?void 0:e[r][1]}function sde(t){return $x(this.__data__,t)>-1}function ade(t,e){var r=this.__data__,n=$x(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function hu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}hu.prototype.clear=ede;hu.prototype.delete=nde;hu.prototype.get=ide;hu.prototype.has=sde;hu.prototype.set=ade;var Gg=Vd(lc,"Map");function ode(){this.size=0,this.__data__={hash:new Id,map:new(Gg||hu),string:new Id}}function lde(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function zx(t,e){var r=t.__data__;return lde(e)?r[typeof e=="string"?"string":"hash"]:r.map}function cde(t){var e=zx(this,t).delete(t);return this.size-=e?1:0,e}function ude(t){return zx(this,t).get(t)}function hde(t){return zx(this,t).has(t)}function dde(t,e){var r=zx(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function yh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}yh.prototype.clear=ode;yh.prototype.delete=cde;yh.prototype.get=ude;yh.prototype.has=hde;yh.prototype.set=dde;var fde="Expected a function";function S0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(fde);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=t.apply(this,n);return r.cache=s.set(i,a)||s,a};return r.cache=new(S0.Cache||yh),r}S0.Cache=yh;function pde(){this.__data__=new hu,this.size=0}function mde(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function gde(t){return this.__data__.get(t)}function yde(t){return this.__data__.has(t)}var vde=200;function xde(t,e){var r=this.__data__;if(r instanceof hu){var n=r.__data__;if(!Gg||n.length<vde-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new yh(n)}return r.set(t,e),this.size=r.size,this}function Jp(t){var e=this.__data__=new hu(t);this.size=e.size}Jp.prototype.clear=pde;Jp.prototype.delete=mde;Jp.prototype.get=gde;Jp.prototype.has=yde;Jp.prototype.set=xde;var Rv=(function(){try{var t=Vd(Object,"defineProperty");return t({},"",{}),t}catch{}})();function ok(t,e,r){e=="__proto__"&&Rv?Rv(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function u_(t,e,r){(r!==void 0&&!Fx(t[e],r)||r===void 0&&!(e in t))&&ok(t,e,r)}function bde(t){return function(e,r,n){for(var i=-1,s=Object(e),a=n(e),o=a.length;o--;){var l=a[++i];if(r(s[l],l,s)===!1)break}return e}}var wde=bde(),cB=typeof exports=="object"&&exports&&!exports.nodeType&&exports,BE=cB&&typeof module=="object"&&module&&!module.nodeType&&module,_de=BE&&BE.exports===cB,FE=_de?lc.Buffer:void 0,$E=FE?FE.allocUnsafe:void 0;function Sde(t,e){if(e)return t.slice();var r=t.length,n=$E?$E(r):new t.constructor(r);return t.copy(n),n}var zE=lc.Uint8Array;function Cde(t){var e=new t.constructor(t.byteLength);return new zE(e).set(new zE(t)),e}function kde(t,e){var r=e?Cde(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Nde(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var UE=Object.create,Tde=(function(){function t(){}return function(e){if(!qd(e))return{};if(UE)return UE(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}})();function uB(t,e){return function(r){return t(e(r))}}var hB=uB(Object.getPrototypeOf,Object),Ade=Object.prototype;function Ux(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Ade;return t===r}function Ede(t){return typeof t.constructor=="function"&&!Ux(t)?Tde(hB(t)):{}}function C0(t){return t!=null&&typeof t=="object"}var jde="[object Arguments]";function qE(t){return C0(t)&&Xp(t)==jde}var dB=Object.prototype,Lde=dB.hasOwnProperty,Pde=dB.propertyIsEnumerable,Mv=qE((function(){return arguments})())?qE:function(t){return C0(t)&&Lde.call(t,"callee")&&!Pde.call(t,"callee")},Ov=Array.isArray,Rde=9007199254740991;function fB(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Rde}function qx(t){return t!=null&&fB(t.length)&&!ak(t)}function Mde(t){return C0(t)&&qx(t)}function Ode(){return!1}var pB=typeof exports=="object"&&exports&&!exports.nodeType&&exports,WE=pB&&typeof module=="object"&&module&&!module.nodeType&&module,Ide=WE&&WE.exports===pB,VE=Ide?lc.Buffer:void 0,Dde=VE?VE.isBuffer:void 0,lk=Dde||Ode,Bde="[object Object]",Fde=Function.prototype,$de=Object.prototype,mB=Fde.toString,zde=$de.hasOwnProperty,Ude=mB.call(Object);function qde(t){if(!C0(t)||Xp(t)!=Bde)return!1;var e=hB(t);if(e===null)return!0;var r=zde.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&mB.call(r)==Ude}var Wde="[object Arguments]",Vde="[object Array]",Hde="[object Boolean]",Gde="[object Date]",Yde="[object Error]",Kde="[object Function]",Xde="[object Map]",Jde="[object Number]",Zde="[object Object]",Qde="[object RegExp]",efe="[object Set]",tfe="[object String]",rfe="[object WeakMap]",nfe="[object ArrayBuffer]",ife="[object DataView]",sfe="[object Float32Array]",afe="[object Float64Array]",ofe="[object Int8Array]",lfe="[object Int16Array]",cfe="[object Int32Array]",ufe="[object Uint8Array]",hfe="[object Uint8ClampedArray]",dfe="[object Uint16Array]",ffe="[object Uint32Array]",An={};An[sfe]=An[afe]=An[ofe]=An[lfe]=An[cfe]=An[ufe]=An[hfe]=An[dfe]=An[ffe]=!0;An[Wde]=An[Vde]=An[nfe]=An[Hde]=An[ife]=An[Gde]=An[Yde]=An[Kde]=An[Xde]=An[Jde]=An[Zde]=An[Qde]=An[efe]=An[tfe]=An[rfe]=!1;function pfe(t){return C0(t)&&fB(t.length)&&!!An[Xp(t)]}function mfe(t){return function(e){return t(e)}}var gB=typeof exports=="object"&&exports&&!exports.nodeType&&exports,xg=gB&&typeof module=="object"&&module&&!module.nodeType&&module,gfe=xg&&xg.exports===gB,Kb=gfe&&oB.process,HE=(function(){try{var t=xg&&xg.require&&xg.require("util").types;return t||Kb&&Kb.binding&&Kb.binding("util")}catch{}})(),GE=HE&&HE.isTypedArray,ck=GE?mfe(GE):pfe;function h_(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var yfe=Object.prototype,vfe=yfe.hasOwnProperty;function xfe(t,e,r){var n=t[e];(!(vfe.call(t,e)&&Fx(n,r))||r===void 0&&!(e in t))&&ok(t,e,r)}function bfe(t,e,r,n){var i=!r;r||(r={});for(var s=-1,a=e.length;++s<a;){var o=e[s],l=void 0;l===void 0&&(l=t[o]),i?ok(r,o,l):xfe(r,o,l)}return r}function wfe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var _fe=9007199254740991,Sfe=/^(?:0|[1-9]\d*)$/;function yB(t,e){var r=typeof t;return e=e??_fe,!!e&&(r=="number"||r!="symbol"&&Sfe.test(t))&&t>-1&&t%1==0&&t<e}var Cfe=Object.prototype,kfe=Cfe.hasOwnProperty;function Nfe(t,e){var r=Ov(t),n=!r&&Mv(t),i=!r&&!n&&lk(t),s=!r&&!n&&!i&&ck(t),a=r||n||i||s,o=a?wfe(t.length,String):[],l=o.length;for(var c in t)(e||kfe.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||yB(c,l)))&&o.push(c);return o}function Tfe(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Afe=Object.prototype,Efe=Afe.hasOwnProperty;function jfe(t){if(!qd(t))return Tfe(t);var e=Ux(t),r=[];for(var n in t)n=="constructor"&&(e||!Efe.call(t,n))||r.push(n);return r}function vB(t){return qx(t)?Nfe(t,!0):jfe(t)}function Lfe(t){return bfe(t,vB(t))}function Pfe(t,e,r,n,i,s,a){var o=h_(t,r),l=h_(e,r),c=a.get(l);if(c){u_(t,r,c);return}var h=s?s(o,l,r+"",t,e,a):void 0,f=h===void 0;if(f){var g=Ov(l),p=!g&&lk(l),v=!g&&!p&&ck(l);h=l,g||p||v?Ov(o)?h=o:Mde(o)?h=Nde(o):p?(f=!1,h=Sde(l,!0)):v?(f=!1,h=kde(l,!0)):h=[]:qde(l)||Mv(l)?(h=o,Mv(o)?h=Lfe(o):(!qd(o)||ak(o))&&(h=Ede(l))):f=!1}f&&(a.set(l,h),i(h,l,n,s,a),a.delete(l)),u_(t,r,h)}function xB(t,e,r,n,i){t!==e&&wde(e,function(s,a){if(i||(i=new Jp),qd(s))Pfe(t,e,a,r,xB,n,i);else{var o=n?n(h_(t,a),s,a+"",t,e,i):void 0;o===void 0&&(o=s),u_(t,a,o)}},vB)}function bB(t){return t}function Rfe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var YE=Math.max;function Mfe(t,e,r){return e=YE(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=YE(n.length-e,0),a=Array(s);++i<s;)a[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(a),Rfe(t,this,o)}}function Ofe(t){return function(){return t}}var Ife=Rv?function(t,e){return Rv(t,"toString",{configurable:!0,enumerable:!1,value:Ofe(e),writable:!0})}:bB,Dfe=800,Bfe=16,Ffe=Date.now;function $fe(t){var e=0,r=0;return function(){var n=Ffe(),i=Bfe-(n-r);if(r=n,i>0){if(++e>=Dfe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var zfe=$fe(Ife);function Ufe(t,e){return zfe(Mfe(t,e,bB),t+"")}function qfe(t,e,r){if(!qd(r))return!1;var n=typeof e;return(n=="number"?qx(r)&&yB(e,r.length):n=="string"&&e in r)?Fx(r[e],t):!1}function Wfe(t){return Ufe(function(e,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,a&&qfe(r[0],r[1],a)&&(s=i<3?void 0:s,i=1),e=Object(e);++n<i;){var o=r[n];o&&t(e,o,n,s)}return e})}var Vfe=Wfe(function(t,e,r){xB(t,e,r)}),Hfe="",Gfe={curveBasis:A1,curveBasisClosed:Kce,curveBasisOpen:Xce,curveBumpX:sI,curveBumpY:aI,curveBundle:Jce,curveCardinalClosed:Zce,curveCardinalOpen:Qce,curveCardinal:uI,curveCatmullRomClosed:eue,curveCatmullRomOpen:tue,curveCatmullRom:dI,curveLinear:_v,curveLinearClosed:rue,curveMonotoneX:vI,curveMonotoneY:xI,curveNatural:wI,curveStep:_I,curveStepAfter:CI,curveStepBefore:SI},Yfe=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Kfe=M(function(t,e){const r=wB(t,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const a=r.map(o=>o.args);hv(a),n=Fi(n,[...a])}else n=r.args;if(!n)return;let i=RC(t,e);const s="config";return n[s]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[s],delete n[s]),n},"detectInit"),wB=M(function(t,e=null){try{const r=new RegExp(`[%]{2}(?![{]${Yfe.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(r,"").replace(/'/gm,'"'),Ue.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let n;const i=[];for(;(n=yg.exec(t))!==null;)if(n.index===yg.lastIndex&&yg.lastIndex++,n&&!e||e&&n[1]?.match(e)||e&&n[2]?.match(e)){const s=n[1]?n[1]:n[2],a=n[3]?n[3].trim():n[4]?JSON.parse(n[4].trim()):null;i.push({type:s,args:a})}return i.length===0?{type:t,args:null}:i.length===1?i[0]:i}catch(r){return Ue.error(`ERROR: ${r.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),Xfe=M(function(t){return t.replace(yg,"")},"removeDirectives"),Jfe=M(function(t,e){for(const[r,n]of e.entries())if(n.match(t))return r;return-1},"isSubstringInArray");function uk(t,e){if(!t)return e;const r=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return Gfe[r]??e}M(uk,"interpolateToCurve");function _B(t,e){const r=t.trim();if(r)return e.securityLevel!=="loose"?yhe.sanitizeUrl(r):r}M(_B,"formatUrl");var Zfe=M((t,...e)=>{const r=t.split("."),n=r.length-1,i=r[n];let s=window;for(let a=0;a<n;a++)if(s=s[r[a]],!s){Ue.error(`Function name: ${t} not found in window`);return}s[i](...e)},"runFunc");function hk(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}M(hk,"distance");function SB(t){let e,r=0;t.forEach(i=>{r+=hk(i,e),e=i});const n=r/2;return dk(t,n)}M(SB,"traverseEdge");function CB(t){return t.length===1?t[0]:SB(t)}M(CB,"calcLabelPosition");var KE=M((t,e=2)=>{const r=Math.pow(10,e);return Math.round(t*r)/r},"roundNumber"),dk=M((t,e)=>{let r,n=e;for(const i of t){if(r){const s=hk(i,r);if(s===0)return r;if(s<n)n-=s;else{const a=n/s;if(a<=0)return r;if(a>=1)return{x:i.x,y:i.y};if(a>0&&a<1)return{x:KE((1-a)*r.x+a*i.x,5),y:KE((1-a)*r.y+a*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),Qfe=M((t,e,r)=>{Ue.info(`our points ${JSON.stringify(e)}`),e[0]!==r&&(e=e.reverse());const i=dk(e,25),s=t?10:5,a=Math.atan2(e[0].y-i.y,e[0].x-i.x),o={x:0,y:0};return o.x=Math.sin(a)*s+(e[0].x+i.x)/2,o.y=-Math.cos(a)*s+(e[0].y+i.y)/2,o},"calcCardinalityPosition");function kB(t,e,r){const n=structuredClone(r);Ue.info("our points",n),e!=="start_left"&&e!=="start_right"&&n.reverse();const i=25+t,s=dk(n,i),a=10+t*.5,o=Math.atan2(n[0].y-s.y,n[0].x-s.x),l={x:0,y:0};return e==="start_left"?(l.x=Math.sin(o+Math.PI)*a+(n[0].x+s.x)/2,l.y=-Math.cos(o+Math.PI)*a+(n[0].y+s.y)/2):e==="end_right"?(l.x=Math.sin(o-Math.PI)*a+(n[0].x+s.x)/2-5,l.y=-Math.cos(o-Math.PI)*a+(n[0].y+s.y)/2-5):e==="end_left"?(l.x=Math.sin(o)*a+(n[0].x+s.x)/2-5,l.y=-Math.cos(o)*a+(n[0].y+s.y)/2-5):(l.x=Math.sin(o)*a+(n[0].x+s.x)/2,l.y=-Math.cos(o)*a+(n[0].y+s.y)/2),l}M(kB,"calcTerminalLabelPosition");function NB(t){let e="",r="";for(const n of t)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":e=e+n+";");return{style:e,labelStyle:r}}M(NB,"getStylesFromArray");var XE=0,epe=M(()=>(XE++,"id-"+Math.random().toString(36).substr(2,12)+"-"+XE),"generateId");function TB(t){let e="";const r="0123456789abcdef",n=r.length;for(let i=0;i<t;i++)e+=r.charAt(Math.floor(Math.random()*n));return e}M(TB,"makeRandomHex");var tpe=M(t=>TB(t.length),"random"),rpe=M(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),npe=M(function(t,e){const r=e.text.replace(Yp.lineBreakRegex," "),[,n]=Wx(e.fontSize),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.style("text-anchor",e.anchor),i.style("font-family",e.fontFamily),i.style("font-size",n),i.style("font-weight",e.fontWeight),i.attr("fill",e.fill),e.class!==void 0&&i.attr("class",e.class);const s=i.append("tspan");return s.attr("x",e.x+e.textMargin*2),s.attr("fill",e.fill),s.text(r),i},"drawSimpleText"),ipe=S0((t,e,r)=>{if(!t||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),Yp.lineBreakRegex.test(t)))return t;const n=t.split(" ").filter(Boolean),i=[];let s="";return n.forEach((a,o)=>{const l=cu(`${a} `,r),c=cu(s,r);if(l>e){const{hyphenatedStrings:g,remainingWord:p}=spe(a,e,"-",r);i.push(s,...g),s=p}else c+l>=e?(i.push(s),s=a):s=[s,a].filter(Boolean).join(" ");o+1===n.length&&i.push(s)}),i.filter(a=>a!=="").join(r.joinWith)},(t,e,r)=>`${t}${e}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),spe=S0((t,e,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const i=[...t],s=[];let a="";return i.forEach((o,l)=>{const c=`${a}${o}`;if(cu(c,n)>=e){const f=l+1,g=i.length===f,p=`${c}${r}`;s.push(g?c:p),a=""}else a=c}),{hyphenatedStrings:s,remainingWord:a}},(t,e,r="-",n)=>`${t}${e}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function AB(t,e){return fk(t,e).height}M(AB,"calculateTextHeight");function cu(t,e){return fk(t,e).width}M(cu,"calculateTextWidth");var fk=S0((t,e)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=e;if(!t)return{width:0,height:0};const[,s]=Wx(r),a=["sans-serif",n],o=t.split(Yp.lineBreakRegex),l=[],c=Br("body");if(!c.remove)return{width:0,height:0,lineHeight:0};const h=c.append("svg");for(const g of a){let p=0;const v={width:0,height:0,lineHeight:0};for(const x of o){const b=rpe();b.text=x||Hfe;const _=npe(h,b).style("font-size",s).style("font-weight",i).style("font-family",g),k=(_._groups||_)[0][0].getBBox();if(k.width===0&&k.height===0)throw new Error("svg element not in render tree");v.width=Math.round(Math.max(v.width,k.width)),p=Math.round(k.height),v.height+=p,v.lineHeight=Math.round(Math.max(v.lineHeight,p))}l.push(v)}h.remove();const f=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[f]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),yp,ape=(yp=class{constructor(e=!1,r){this.count=0,this.count=r?r.length:0,this.next=e?()=>this.count++:()=>Date.now()}},M(yp,"InitIDGenerator"),yp),qy,ope=M(function(t){return qy=qy||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),qy.innerHTML=t,unescape(qy.textContent)},"entityDecode");function pk(t){return"str"in t}M(pk,"isDetailedError");var lpe=M((t,e,r,n)=>{if(!n)return;const i=t.node()?.getBBox();i&&t.append("text").text(n).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-r).attr("class",e)},"insertTitle"),Wx=M(t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function mk(t,e){return Vfe({},t,e)}M(mk,"cleanAndMerge");var cl={assignWithDepth:Fi,wrapLabel:ipe,calculateTextHeight:AB,calculateTextWidth:cu,calculateTextDimensions:fk,cleanAndMerge:mk,detectInit:Kfe,detectDirective:wB,isSubstringInArray:Jfe,interpolateToCurve:uk,calcLabelPosition:CB,calcCardinalityPosition:Qfe,calcTerminalLabelPosition:kB,formatUrl:_B,getStylesFromArray:NB,generateId:epe,random:tpe,runFunc:Zfe,entityDecode:ope,insertTitle:lpe,isLabelCoordinateInPath:EB,parseFontSize:Wx,InitIDGenerator:ape},cpe=M(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?""+n+"":""+n+""}),e},"encodeEntities"),Hd=M(function(t){return t.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),n5e=M((t,e,{counter:r=0,prefix:n,suffix:i},s)=>s||`${n?`${n}_`:""}${t}_${e}_${r}${i?`_${i}`:""}`,"getEdgeId");function Rs(t){return t??null}M(Rs,"handleUndefinedAttr");function EB(t,e){const r=Math.round(t.x),n=Math.round(t.y),i=e.replace(/(\d+\.\d+)/g,s=>Math.round(parseFloat(s)).toString());return i.includes(r.toString())||i.includes(n.toString())}M(EB,"isLabelCoordinateInPath");const upe=Object.freeze({left:0,top:0,width:16,height:16}),Iv=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),jB=Object.freeze({...upe,...Iv}),hpe=Object.freeze({...jB,body:"",hidden:!1}),dpe=Object.freeze({width:null,height:null}),fpe=Object.freeze({...dpe,...Iv}),ppe=(t,e,r,n="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const o=i.pop(),l=i.pop(),c={provider:i.length>0?i[0]:n,prefix:l,name:o};return Xb(c)?c:null}const s=i[0],a=s.split("-");if(a.length>1){const o={provider:n,prefix:a.shift(),name:a.join("-")};return Xb(o)?o:null}if(r&&n===""){const o={provider:n,prefix:"",name:s};return Xb(o,r)?o:null}return null},Xb=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1;function mpe(t,e){const r={};!t.hFlip!=!e.hFlip&&(r.hFlip=!0),!t.vFlip!=!e.vFlip&&(r.vFlip=!0);const n=((t.rotate||0)+(e.rotate||0))%4;return n&&(r.rotate=n),r}function JE(t,e){const r=mpe(t,e);for(const n in hpe)n in Iv?n in t&&!(n in r)&&(r[n]=Iv[n]):n in e?r[n]=e[n]:n in t&&(r[n]=t[n]);return r}function gpe(t,e){const r=t.icons,n=t.aliases||Object.create(null),i=Object.create(null);function s(a){if(r[a])return i[a]=[];if(!(a in i)){i[a]=null;const o=n[a]&&n[a].parent,l=o&&s(o);l&&(i[a]=[o].concat(l))}return i[a]}return(e||Object.keys(r).concat(Object.keys(n))).forEach(s),i}function ZE(t,e,r){const n=t.icons,i=t.aliases||Object.create(null);let s={};function a(o){s=JE(n[o]||i[o],s)}return a(e),r.forEach(a),JE(t,s)}function ype(t,e){if(t.icons[e])return ZE(t,e,[]);const r=gpe(t,[e])[e];return r?ZE(t,e,r):null}const vpe=/(-?[0-9.]*[0-9]+[0-9.]*)/g,xpe=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function QE(t,e,r){if(e===1)return t;if(r=r||100,typeof t=="number")return Math.ceil(t*e*r)/r;if(typeof t!="string")return t;const n=t.split(vpe);if(n===null||!n.length)return t;const i=[];let s=n.shift(),a=xpe.test(s);for(;;){if(a){const o=parseFloat(s);isNaN(o)?i.push(s):i.push(Math.ceil(o*e*r)/r)}else i.push(s);if(s=n.shift(),s===void 0)return i.join("");a=!a}}function bpe(t,e="defs"){let r="";const n=t.indexOf("<"+e);for(;n>=0;){const i=t.indexOf(">",n),s=t.indexOf("</"+e);if(i===-1||s===-1)break;const a=t.indexOf(">",s);if(a===-1)break;r+=t.slice(i+1,s).trim(),t=t.slice(0,n).trim()+t.slice(a+1)}return{defs:r,content:t}}function wpe(t,e){return t?"<defs>"+t+"</defs>"+e:e}function _pe(t,e,r){const n=bpe(t);return wpe(n.defs,e+n.content+r)}const Spe=t=>t==="unset"||t==="undefined"||t==="none";function Cpe(t,e){const r={...jB,...t},n={...fpe,...e},i={left:r.left,top:r.top,width:r.width,height:r.height};let s=r.body;[r,n].forEach(x=>{const b=[],_=x.hFlip,k=x.vFlip;let N=x.rotate;_?k?N+=2:(b.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),b.push("scale(-1 1)"),i.top=i.left=0):k&&(b.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),b.push("scale(1 -1)"),i.top=i.left=0);let j;switch(N<0&&(N-=Math.floor(N/4)*4),N=N%4,N){case 1:j=i.height/2+i.top,b.unshift("rotate(90 "+j.toString()+" "+j.toString()+")");break;case 2:b.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:j=i.width/2+i.left,b.unshift("rotate(-90 "+j.toString()+" "+j.toString()+")");break}N%2===1&&(i.left!==i.top&&(j=i.left,i.left=i.top,i.top=j),i.width!==i.height&&(j=i.width,i.width=i.height,i.height=j)),b.length&&(s=_pe(s,'<g transform="'+b.join(" ")+'">',"</g>"))});const a=n.width,o=n.height,l=i.width,c=i.height;let h,f;a===null?(f=o===null?"1em":o==="auto"?c:o,h=QE(f,l/c)):(h=a==="auto"?l:a,f=o===null?QE(h,c/l):o==="auto"?c:o);const g={},p=(x,b)=>{Spe(b)||(g[x]=b.toString())};p("width",h),p("height",f);const v=[i.left,i.top,l,c];return g.viewBox=v.join(" "),{attributes:g,viewBox:v,body:s}}const kpe=/\sid="(\S+)"/g,Npe="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Tpe=0;function Ape(t,e=Npe){const r=[];let n;for(;n=kpe.exec(t);)r.push(n[1]);if(!r.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(s=>{const a=typeof e=="function"?e(s):e+(Tpe++).toString(),o=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+a+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}function Epe(t,e){let r=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in e)r+=" "+n+'="'+e[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+t+"</svg>"}function gk(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Gd=gk();function LB(t){Gd=t}var bg={exec:()=>null};function Gr(t,e=""){let r=typeof t=="string"?t:t.source,n={replace:(i,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(Ks.caret,"$1"),r=r.replace(i,a),n},getRegex:()=>new RegExp(r,e)};return n}var jpe=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Ks={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},Lpe=/^(?:[ \t]*(?:\n|$))+/,Ppe=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Rpe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,k0=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Mpe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,yk=/(?:[*+-]|\d{1,9}[.)])/,PB=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,RB=Gr(PB).replace(/bull/g,yk).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Ope=Gr(PB).replace(/bull/g,yk).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),vk=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Ipe=/^[^\n]+/,xk=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Dpe=Gr(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",xk).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Bpe=Gr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,yk).getRegex(),Vx="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",bk=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Fpe=Gr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",bk).replace("tag",Vx).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),MB=Gr(vk).replace("hr",k0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vx).getRegex(),$pe=Gr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",MB).getRegex(),wk={blockquote:$pe,code:Ppe,def:Dpe,fences:Rpe,heading:Mpe,hr:k0,html:Fpe,lheading:RB,list:Bpe,newline:Lpe,paragraph:MB,table:bg,text:Ipe},e4=Gr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",k0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vx).getRegex(),zpe={...wk,lheading:Ope,table:e4,paragraph:Gr(vk).replace("hr",k0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",e4).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vx).getRegex()},Upe={...wk,html:Gr(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",bk).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:bg,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Gr(vk).replace("hr",k0).replace("heading",` *#{1,6} *[^
]`).replace("lheading",RB).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},qpe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Wpe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,OB=/^( {2,}|\\)\n(?!\s*$)/,Vpe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Hx=/[\p{P}\p{S}]/u,_k=/[\s\p{P}\p{S}]/u,IB=/[^\s\p{P}\p{S}]/u,Hpe=Gr(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,_k).getRegex(),DB=/(?!~)[\p{P}\p{S}]/u,Gpe=/(?!~)[\s\p{P}\p{S}]/u,Ype=/(?:[^\s\p{P}\p{S}]|~)/u,Kpe=Gr(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",jpe?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),BB=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Xpe=Gr(BB,"u").replace(/punct/g,Hx).getRegex(),Jpe=Gr(BB,"u").replace(/punct/g,DB).getRegex(),FB="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Zpe=Gr(FB,"gu").replace(/notPunctSpace/g,IB).replace(/punctSpace/g,_k).replace(/punct/g,Hx).getRegex(),Qpe=Gr(FB,"gu").replace(/notPunctSpace/g,Ype).replace(/punctSpace/g,Gpe).replace(/punct/g,DB).getRegex(),eme=Gr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,IB).replace(/punctSpace/g,_k).replace(/punct/g,Hx).getRegex(),tme=Gr(/\\(punct)/,"gu").replace(/punct/g,Hx).getRegex(),rme=Gr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),nme=Gr(bk).replace("(?:-->|$)","-->").getRegex(),ime=Gr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",nme).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Dv=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,sme=Gr(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Dv).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),$B=Gr(/^!?\[(label)\]\[(ref)\]/).replace("label",Dv).replace("ref",xk).getRegex(),zB=Gr(/^!?\[(ref)\](?:\[\])?/).replace("ref",xk).getRegex(),ame=Gr("reflink|nolink(?!\\()","g").replace("reflink",$B).replace("nolink",zB).getRegex(),t4=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Sk={_backpedal:bg,anyPunctuation:tme,autolink:rme,blockSkip:Kpe,br:OB,code:Wpe,del:bg,emStrongLDelim:Xpe,emStrongRDelimAst:Zpe,emStrongRDelimUnd:eme,escape:qpe,link:sme,nolink:zB,punctuation:Hpe,reflink:$B,reflinkSearch:ame,tag:ime,text:Vpe,url:bg},ome={...Sk,link:Gr(/^!?\[(label)\]\((.*?)\)/).replace("label",Dv).getRegex(),reflink:Gr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Dv).getRegex()},d_={...Sk,emStrongRDelimAst:Qpe,emStrongLDelim:Jpe,url:Gr(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",t4).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Gr(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",t4).getRegex()},lme={...d_,br:Gr(OB).replace("{2,}","*").getRegex(),text:Gr(d_.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Wy={normal:wk,gfm:zpe,pedantic:Upe},zm={normal:Sk,gfm:d_,breaks:lme,pedantic:ome},cme={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},r4=t=>cme[t];function Ul(t,e){if(e){if(Ks.escapeTest.test(t))return t.replace(Ks.escapeReplace,r4)}else if(Ks.escapeTestNoEncode.test(t))return t.replace(Ks.escapeReplaceNoEncode,r4);return t}function n4(t){try{t=encodeURI(t).replace(Ks.percentDecode,"%")}catch{return null}return t}function i4(t,e){let r=t.replace(Ks.findPipe,(s,a,o)=>{let l=!1,c=a;for(;--c>=0&&o[c]==="\\";)l=!l;return l?"|":" |"}),n=r.split(Ks.splitPipe),i=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(Ks.slashPipe,"|");return n}function Um(t,e,r){let n=t.length;if(n===0)return"";let i=0;for(;i<n&&t.charAt(n-i-1)===e;)i++;return t.slice(0,n-i)}function ume(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let n=0;n<t.length;n++)if(t[n]==="\\")n++;else if(t[n]===e[0])r++;else if(t[n]===e[1]&&(r--,r<0))return n;return r>0?-2:-1}function s4(t,e,r,n,i){let s=e.href,a=e.title||null,o=t[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;let l={type:t[0].charAt(0)==="!"?"image":"link",raw:r,href:s,title:a,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,l}function hme(t,e,r){let n=t.match(r.other.indentCodeCompensation);if(n===null)return e;let i=n[1];return e.split(`
`).map(s=>{let a=s.match(r.other.beginningSpace);if(a===null)return s;let[o]=a;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}var Bv=class{options;rules;lexer;constructor(e){this.options=e||Gd}space(e){let r=this.rules.block.newline.exec(e);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(e){let r=this.rules.block.code.exec(e);if(r){let n=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Um(n,`
`)}}}fences(e){let r=this.rules.block.fences.exec(e);if(r){let n=r[0],i=hme(n,r[3]||"",this.rules);return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:i}}}heading(e){let r=this.rules.block.heading.exec(e);if(r){let n=r[2].trim();if(this.rules.other.endingHash.test(n)){let i=Um(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let r=this.rules.block.hr.exec(e);if(r)return{type:"hr",raw:Um(r[0],`
`)}}blockquote(e){let r=this.rules.block.blockquote.exec(e);if(r){let n=Um(r[0],`
`).split(`
`),i="",s="",a=[];for(;n.length>0;){let o=!1,l=[],c;for(c=0;c<n.length;c++)if(this.rules.other.blockquoteStart.test(n[c]))l.push(n[c]),o=!0;else if(!o)l.push(n[c]);else break;n=n.slice(c);let h=l.join(`
`),f=h.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${h}`:h,s=s?`${s}
${f}`:f;let g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(f,a,!0),this.lexer.state.top=g,n.length===0)break;let p=a.at(-1);if(p?.type==="code")break;if(p?.type==="blockquote"){let v=p,x=v.raw+`
`+n.join(`
`),b=this.blockquote(x);a[a.length-1]=b,i=i.substring(0,i.length-v.raw.length)+b.raw,s=s.substring(0,s.length-v.text.length)+b.text;break}else if(p?.type==="list"){let v=p,x=v.raw+`
`+n.join(`
`),b=this.list(x);a[a.length-1]=b,i=i.substring(0,i.length-p.raw.length)+b.raw,s=s.substring(0,s.length-v.raw.length)+b.raw,n=x.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:a,text:s}}}list(e){let r=this.rules.block.list.exec(e);if(r){let n=r[1].trim(),i=n.length>1,s={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");let a=this.rules.other.listItemRegex(n),o=!1;for(;e;){let c=!1,h="",f="";if(!(r=a.exec(e))||this.rules.block.hr.test(e))break;h=r[0],e=e.substring(h.length);let g=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,k=>" ".repeat(3*k.length)),p=e.split(`
`,1)[0],v=!g.trim(),x=0;if(this.options.pedantic?(x=2,f=g.trimStart()):v?x=r[1].length+1:(x=r[2].search(this.rules.other.nonSpaceChar),x=x>4?1:x,f=g.slice(x),x+=r[1].length),v&&this.rules.other.blankLine.test(p)&&(h+=p+`
`,e=e.substring(p.length+1),c=!0),!c){let k=this.rules.other.nextBulletRegex(x),N=this.rules.other.hrRegex(x),j=this.rules.other.fencesBeginRegex(x),P=this.rules.other.headingBeginRegex(x),F=this.rules.other.htmlBeginRegex(x);for(;e;){let D=e.split(`
`,1)[0],U;if(p=D,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),U=p):U=p.replace(this.rules.other.tabCharGlobal,"    "),j.test(p)||P.test(p)||F.test(p)||k.test(p)||N.test(p))break;if(U.search(this.rules.other.nonSpaceChar)>=x||!p.trim())f+=`
`+U.slice(x);else{if(v||g.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||j.test(g)||P.test(g)||N.test(g))break;f+=`
`+p}!v&&!p.trim()&&(v=!0),h+=D+`
`,e=e.substring(D.length+1),g=U.slice(x)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(h)&&(o=!0));let b=null,_;this.options.gfm&&(b=this.rules.other.listIsTask.exec(f),b&&(_=b[0]!=="[ ] ",f=f.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:h,task:!!b,checked:_,loose:!1,text:f,tokens:[]}),s.raw+=h}let l=s.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let c=0;c<s.items.length;c++)if(this.lexer.state.top=!1,s.items[c].tokens=this.lexer.blockTokens(s.items[c].text,[]),!s.loose){let h=s.items[c].tokens.filter(g=>g.type==="space"),f=h.length>0&&h.some(g=>this.rules.other.anyLine.test(g.raw));s.loose=f}if(s.loose)for(let c=0;c<s.items.length;c++)s.items[c].loose=!0;return s}}html(e){let r=this.rules.block.html.exec(e);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(e){let r=this.rules.block.def.exec(e);if(r){let n=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:i,title:s}}}table(e){let r=this.rules.block.table.exec(e);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let n=i4(r[1]),i=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=r[3]?.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===i.length){for(let o of i)this.rules.other.tableAlignRight.test(o)?a.align.push("right"):this.rules.other.tableAlignCenter.test(o)?a.align.push("center"):this.rules.other.tableAlignLeft.test(o)?a.align.push("left"):a.align.push(null);for(let o=0;o<n.length;o++)a.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:a.align[o]});for(let o of s)a.rows.push(i4(o,a.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:a.align[c]})));return a}}lheading(e){let r=this.rules.block.lheading.exec(e);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(e){let r=this.rules.block.paragraph.exec(e);if(r){let n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let r=this.rules.block.text.exec(e);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(e){let r=this.rules.inline.escape.exec(e);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(e){let r=this.rules.inline.tag.exec(e);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(e){let r=this.rules.inline.link.exec(e);if(r){let n=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let a=Um(n.slice(0,-1),"\\");if((n.length-a.length)%2===0)return}else{let a=ume(r[2],"()");if(a===-2)return;if(a>-1){let o=(r[0].indexOf("!")===0?5:4)+r[1].length+a;r[2]=r[2].substring(0,a),r[0]=r[0].substring(0,o).trim(),r[3]=""}}let i=r[2],s="";if(this.options.pedantic){let a=this.rules.other.pedanticHrefTitle.exec(i);a&&(i=a[1],s=a[3])}else s=r[3]?r[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),s4(r,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(e,r){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=r[i.toLowerCase()];if(!s){let a=n[0].charAt(0);return{type:"text",raw:a,text:a}}return s4(n,s,n[0],this.lexer,this.rules)}}emStrong(e,r,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!n||this.rules.inline.punctuation.exec(n))){let s=[...i[0]].length-1,a,o,l=s,c=0,h=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,r=r.slice(-1*e.length+s);(i=h.exec(r))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(o=[...a].length,i[3]||i[4]){l+=o;continue}else if((i[5]||i[6])&&s%3&&!((s+o)%3)){c+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+c);let f=[...i[0]][0].length,g=e.slice(0,s+i.index+f+o);if(Math.min(s,o)%2){let v=g.slice(1,-1);return{type:"em",raw:g,text:v,tokens:this.lexer.inlineTokens(v)}}let p=g.slice(2,-2);return{type:"strong",raw:g,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(e){let r=this.rules.inline.code.exec(e);if(r){let n=r[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:r[0],text:n}}}br(e){let r=this.rules.inline.br.exec(e);if(r)return{type:"br",raw:r[0]}}del(e){let r=this.rules.inline.del.exec(e);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(e){let r=this.rules.inline.autolink.exec(e);if(r){let n,i;return r[2]==="@"?(n=r[1],i="mailto:"+n):(n=r[1],i=n),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let r;if(r=this.rules.inline.url.exec(e)){let n,i;if(r[2]==="@")n=r[0],i="mailto:"+n;else{let s;do s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])?.[0]??"";while(s!==r[0]);n=r[0],r[1]==="www."?i="http://"+r[0]:i=r[0]}return{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let r=this.rules.inline.text.exec(e);if(r){let n=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:n}}}},al=class f_{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Gd,this.options.tokenizer=this.options.tokenizer||new Bv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:Ks,block:Wy.normal,inline:zm.normal};this.options.pedantic?(r.block=Wy.pedantic,r.inline=zm.pedantic):this.options.gfm&&(r.block=Wy.gfm,this.options.breaks?r.inline=zm.breaks:r.inline=zm.gfm),this.tokenizer.rules=r}static get rules(){return{block:Wy,inline:zm}}static lex(e,r){return new f_(r).lex(e)}static lexInline(e,r){return new f_(r).inlineTokens(e)}lex(e){e=e.replace(Ks.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],n=!1){for(this.options.pedantic&&(e=e.replace(Ks.tabCharGlobal,"    ").replace(Ks.spaceLine,""));e;){let i;if(this.options.extensions?.block?.some(a=>(i=a.call({lexer:this},e,r))?(e=e.substring(i.raw.length),r.push(i),!0):!1))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);let a=r.at(-1);i.raw.length===1&&a!==void 0?a.raw+=`
`:r.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);let a=r.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.text,this.inlineQueue.at(-1).src=a.text):r.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);let a=r.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.raw,this.inlineQueue.at(-1).src=a.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},r.push(i));continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),r.push(i);continue}let s=e;if(this.options.extensions?.startBlock){let a=1/0,o=e.slice(1),l;this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},o),typeof l=="number"&&l>=0&&(a=Math.min(a,l))}),a<1/0&&a>=0&&(s=e.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){let a=r.at(-1);n&&a?.type==="paragraph"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):r.push(i),n=s.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);let a=r.at(-1);a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):r.push(i);continue}if(e){let a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){let n=e,i=null;if(this.tokens.links){let l=Object.keys(this.tokens.links);if(l.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)l.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)s=i[2]?i[2].length:0,n=n.slice(0,i.index+s)+"["+"a".repeat(i[0].length-s-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let a=!1,o="";for(;e;){a||(o=""),a=!1;let l;if(this.options.extensions?.inline?.some(h=>(l=h.call({lexer:this},e,r))?(e=e.substring(l.raw.length),r.push(l),!0):!1))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);let h=r.at(-1);l.type==="text"&&h?.type==="text"?(h.raw+=l.raw,h.text+=l.text):r.push(l);continue}if(l=this.tokenizer.emStrong(e,n,o)){e=e.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),r.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),r.push(l);continue}let c=e;if(this.options.extensions?.startInline){let h=1/0,f=e.slice(1),g;this.options.extensions.startInline.forEach(p=>{g=p.call({lexer:this},f),typeof g=="number"&&g>=0&&(h=Math.min(h,g))}),h<1/0&&h>=0&&(c=e.substring(0,h+1))}if(l=this.tokenizer.inlineText(c)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(o=l.raw.slice(-1)),a=!0;let h=r.at(-1);h?.type==="text"?(h.raw+=l.raw,h.text+=l.text):r.push(l);continue}if(e){let h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return r}},Fv=class{options;parser;constructor(e){this.options=e||Gd}space(e){return""}code({text:e,lang:r,escaped:n}){let i=(r||"").match(Ks.notSpaceStart)?.[0],s=e.replace(Ks.endingNewline,"")+`
`;return i?'<pre><code class="language-'+Ul(i)+'">'+(n?s:Ul(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:Ul(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:r}){return`<h${r}>${this.parser.parseInline(e)}</h${r}>
`}hr(e){return`<hr>
`}list(e){let r=e.ordered,n=e.start,i="";for(let o=0;o<e.items.length;o++){let l=e.items[o];i+=this.listitem(l)}let s=r?"ol":"ul",a=r&&n!==1?' start="'+n+'"':"";return"<"+s+a+`>
`+i+"</"+s+`>
`}listitem(e){let r="";if(e.task){let n=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+Ul(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):r+=n+" "}return r+=this.parser.parse(e.tokens,!!e.loose),`<li>${r}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let r="",n="";for(let s=0;s<e.header.length;s++)n+=this.tablecell(e.header[s]);r+=this.tablerow({text:n});let i="";for(let s=0;s<e.rows.length;s++){let a=e.rows[s];n="";for(let o=0;o<a.length;o++)n+=this.tablecell(a[o]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let r=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Ul(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:r,tokens:n}){let i=this.parser.parseInline(n),s=n4(e);if(s===null)return i;e=s;let a='<a href="'+e+'"';return r&&(a+=' title="'+Ul(r)+'"'),a+=">"+i+"</a>",a}image({href:e,title:r,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));let s=n4(e);if(s===null)return Ul(n);e=s;let a=`<img src="${e}" alt="${n}"`;return r&&(a+=` title="${Ul(r)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Ul(e.text)}},Ck=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},ol=class p_{options;renderer;textRenderer;constructor(e){this.options=e||Gd,this.options.renderer=this.options.renderer||new Fv,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ck}static parse(e,r){return new p_(r).parse(e)}static parseInline(e,r){return new p_(r).parseInline(e)}parse(e,r=!0){let n="";for(let i=0;i<e.length;i++){let s=e[i];if(this.options.extensions?.renderers?.[s.type]){let o=s,l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(o.type)){n+=l||"";continue}}let a=s;switch(a.type){case"space":{n+=this.renderer.space(a);continue}case"hr":{n+=this.renderer.hr(a);continue}case"heading":{n+=this.renderer.heading(a);continue}case"code":{n+=this.renderer.code(a);continue}case"table":{n+=this.renderer.table(a);continue}case"blockquote":{n+=this.renderer.blockquote(a);continue}case"list":{n+=this.renderer.list(a);continue}case"html":{n+=this.renderer.html(a);continue}case"def":{n+=this.renderer.def(a);continue}case"paragraph":{n+=this.renderer.paragraph(a);continue}case"text":{let o=a,l=this.renderer.text(o);for(;i+1<e.length&&e[i+1].type==="text";)o=e[++i],l+=`
`+this.renderer.text(o);r?n+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):n+=l;continue}default:{let o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(e,r=this.renderer){let n="";for(let i=0;i<e.length;i++){let s=e[i];if(this.options.extensions?.renderers?.[s.type]){let o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){n+=o||"";continue}}let a=s;switch(a.type){case"escape":{n+=r.text(a);break}case"html":{n+=r.html(a);break}case"link":{n+=r.link(a);break}case"image":{n+=r.image(a);break}case"strong":{n+=r.strong(a);break}case"em":{n+=r.em(a);break}case"codespan":{n+=r.codespan(a);break}case"br":{n+=r.br(a);break}case"del":{n+=r.del(a);break}case"text":{n+=r.text(a);break}default:{let o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}},tg=class{options;block;constructor(e){this.options=e||Gd}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?al.lex:al.lexInline}provideParser(){return this.block?ol.parse:ol.parseInline}},dme=class{defaults=gk();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=ol;Renderer=Fv;TextRenderer=Ck;Lexer=al;Tokenizer=Bv;Hooks=tg;constructor(...e){this.use(...e)}walkTokens(e,r){let n=[];for(let i of e)switch(n=n.concat(r.call(this,i)),i.type){case"table":{let s=i;for(let a of s.header)n=n.concat(this.walkTokens(a.tokens,r));for(let a of s.rows)for(let o of a)n=n.concat(this.walkTokens(o.tokens,r));break}case"list":{let s=i;n=n.concat(this.walkTokens(s.items,r));break}default:{let s=i;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(a=>{let o=s[a].flat(1/0);n=n.concat(this.walkTokens(o,r))}):s.tokens&&(n=n.concat(this.walkTokens(s.tokens,r)))}}return n}use(...e){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let a=r.renderers[s.name];a?r.renderers[s.name]=function(...o){let l=s.renderer.apply(this,o);return l===!1&&(l=a.apply(this,o)),l}:r.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let a=r[s.level];a?a.unshift(s.tokenizer):r[s.level]=[s.tokenizer],s.start&&(s.level==="block"?r.startBlock?r.startBlock.push(s.start):r.startBlock=[s.start]:s.level==="inline"&&(r.startInline?r.startInline.push(s.start):r.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(r.childTokens[s.name]=s.childTokens)}),i.extensions=r),n.renderer){let s=this.defaults.renderer||new Fv(this.defaults);for(let a in n.renderer){if(!(a in s))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;let o=a,l=n.renderer[o],c=s[o];s[o]=(...h)=>{let f=l.apply(s,h);return f===!1&&(f=c.apply(s,h)),f||""}}i.renderer=s}if(n.tokenizer){let s=this.defaults.tokenizer||new Bv(this.defaults);for(let a in n.tokenizer){if(!(a in s))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;let o=a,l=n.tokenizer[o],c=s[o];s[o]=(...h)=>{let f=l.apply(s,h);return f===!1&&(f=c.apply(s,h)),f}}i.tokenizer=s}if(n.hooks){let s=this.defaults.hooks||new tg;for(let a in n.hooks){if(!(a in s))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;let o=a,l=n.hooks[o],c=s[o];tg.passThroughHooks.has(a)?s[o]=h=>{if(this.defaults.async&&tg.passThroughHooksRespectAsync.has(a))return(async()=>{let g=await l.call(s,h);return c.call(s,g)})();let f=l.call(s,h);return c.call(s,f)}:s[o]=(...h)=>{if(this.defaults.async)return(async()=>{let g=await l.apply(s,h);return g===!1&&(g=await c.apply(s,h)),g})();let f=l.apply(s,h);return f===!1&&(f=c.apply(s,h)),f}}i.hooks=s}if(n.walkTokens){let s=this.defaults.walkTokens,a=n.walkTokens;i.walkTokens=function(o){let l=[];return l.push(a.call(this,o)),s&&(l=l.concat(s.call(this,o))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,r){return al.lex(e,r??this.defaults)}parser(e,r){return ol.parse(e,r??this.defaults)}parseMarkdown(e){return(r,n)=>{let i={...n},s={...this.defaults,...i},a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let o=s.hooks?await s.hooks.preprocess(r):r,l=await(s.hooks?await s.hooks.provideLexer():e?al.lex:al.lexInline)(o,s),c=s.hooks?await s.hooks.processAllTokens(l):l;s.walkTokens&&await Promise.all(this.walkTokens(c,s.walkTokens));let h=await(s.hooks?await s.hooks.provideParser():e?ol.parse:ol.parseInline)(c,s);return s.hooks?await s.hooks.postprocess(h):h})().catch(a);try{s.hooks&&(r=s.hooks.preprocess(r));let o=(s.hooks?s.hooks.provideLexer():e?al.lex:al.lexInline)(r,s);s.hooks&&(o=s.hooks.processAllTokens(o)),s.walkTokens&&this.walkTokens(o,s.walkTokens);let l=(s.hooks?s.hooks.provideParser():e?ol.parse:ol.parseInline)(o,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(o){return a(o)}}}onError(e,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let i="<p>An error occurred:</p><pre>"+Ul(n.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(n);throw n}}},Dd=new dme;function tn(t,e){return Dd.parse(t,e)}tn.options=tn.setOptions=function(t){return Dd.setOptions(t),tn.defaults=Dd.defaults,LB(tn.defaults),tn};tn.getDefaults=gk;tn.defaults=Gd;tn.use=function(...t){return Dd.use(...t),tn.defaults=Dd.defaults,LB(tn.defaults),tn};tn.walkTokens=function(t,e){return Dd.walkTokens(t,e)};tn.parseInline=Dd.parseInline;tn.Parser=ol;tn.parser=ol.parse;tn.Renderer=Fv;tn.TextRenderer=Ck;tn.Lexer=al;tn.lexer=al.lex;tn.Tokenizer=Bv;tn.Hooks=tg;tn.parse=tn;tn.options;tn.setOptions;tn.use;tn.walkTokens;tn.parseInline;ol.parse;al.lex;function UB(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Array.from(typeof t=="string"?[t]:t);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(o,l){var c=l.match(/\n([\t ]+|(?!\s).)/g);return c?o.concat(c.map(function(h){var f,g;return(g=(f=h.match(/[\t ]/g))===null||f===void 0?void 0:f.length)!==null&&g!==void 0?g:0})):o},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(o){return o.replace(s,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var a=n[0];return e.forEach(function(o,l){var c=a.match(/(?:^|\n)( *)$/),h=c?c[1]:"",f=o;typeof o=="string"&&o.includes(`
`)&&(f=String(o).split(`
`).map(function(g,p){return p===0?g:""+h+g}).join(`
`)),a+=f+n[l+1]}),a}var fme={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},m_=new Map,qB=new Map,pme=M(t=>{for(const e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(Ue.debug("Registering icon pack:",e.name),"loader"in e)qB.set(e.name,e.loader);else if("icons"in e)m_.set(e.name,e.icons);else throw Ue.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),WB=M(async(t,e)=>{const r=ppe(t,!0,e!==void 0);if(!r)throw new Error(`Invalid icon name: ${t}`);const n=r.prefix||e;if(!n)throw new Error(`Icon name must contain a prefix: ${t}`);let i=m_.get(n);if(!i){const a=qB.get(n);if(!a)throw new Error(`Icon set not found: ${r.prefix}`);try{i={...await a(),prefix:n},m_.set(n,i)}catch(o){throw Ue.error(o),new Error(`Failed to load icon set: ${r.prefix}`)}}const s=ype(i,r.name);if(!s)throw new Error(`Icon not found: ${t}`);return s},"getRegisteredIconData"),mme=M(async t=>{try{return await WB(t),!0}catch{return!1}},"isIconAvailable"),N0=M(async(t,e,r)=>{let n;try{n=await WB(t,e?.fallbackPrefix)}catch(a){Ue.error(a),n=fme}const i=Cpe(n,e),s=Epe(Ape(i.body),{...i.attributes,...r});return Ao(s,Ls())},"getIconSVG");function VB(t,{markdownAutoWrap:e}){const n=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=UB(n);return e===!1?i.replace(/ /g,"&nbsp;"):i}M(VB,"preprocessMarkdown");function HB(t,e={}){const r=VB(t,e),n=tn.lexer(r),i=[[]];let s=0;function a(o,l="normal"){o.type==="text"?o.text.split(`
`).forEach((h,f)=>{f!==0&&(s++,i.push([])),h.split(" ").forEach(g=>{g=g.replace(/&#39;/g,"'"),g&&i[s].push({content:g,type:l})})}):o.type==="strong"||o.type==="em"?o.tokens.forEach(c=>{a(c,o.type)}):o.type==="html"&&i[s].push({content:o.text,type:"normal"})}return M(a,"processNode"),n.forEach(o=>{o.type==="paragraph"?o.tokens?.forEach(l=>{a(l)}):o.type==="html"?i[s].push({content:o.text,type:"normal"}):i[s].push({content:o.raw,type:"normal"})}),i}M(HB,"markdownToLines");function GB(t,{markdownAutoWrap:e}={}){const r=tn.lexer(t);function n(i){return i.type==="text"?e===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${i.tokens?.map(n).join("")}</strong>`:i.type==="em"?`<em>${i.tokens?.map(n).join("")}</em>`:i.type==="paragraph"?`<p>${i.tokens?.map(n).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:(Ue.warn(`Unsupported markdown: ${i.type}`),i.raw)}return M(n,"output"),r.map(n).join("")}M(GB,"markdownToHTML");function YB(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}M(YB,"splitTextToChars");function KB(t,e){const r=YB(e.content);return kk(t,[],r,e.type)}M(KB,"splitWordToFitWidth");function kk(t,e,r,n){if(r.length===0)return[{content:e.join(""),type:n},{content:"",type:n}];const[i,...s]=r,a=[...e,i];return t([{content:a.join(""),type:n}])?kk(t,a,s,n):(e.length===0&&i&&(e.push(i),r.shift()),[{content:e.join(""),type:n},{content:r.join(""),type:n}])}M(kk,"splitWordToFitWidthRecursion");function XB(t,e){if(t.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return $v(t,e)}M(XB,"splitLineToFitWidth");function $v(t,e,r=[],n=[]){if(t.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let i="";t[0].content===" "&&(i=" ",t.shift());const s=t.shift()??{content:" ",type:"normal"},a=[...n];if(i!==""&&a.push({content:i,type:"normal"}),a.push(s),e(a))return $v(t,e,r,a);if(n.length>0)r.push(n),t.unshift(s);else if(s.content){const[o,l]=KB(e,s);r.push([o]),l.content&&t.unshift(l)}return $v(t,e,r)}M($v,"splitLineToFitWidthRecursion");function g_(t,e){e&&t.attr("style",e)}M(g_,"applyStyle");async function JB(t,e,r,n,i=!1,s=Ls()){const a=t.append("foreignObject");a.attr("width",`${10*r}px`),a.attr("height",`${10*r}px`);const o=a.append("xhtml:div"),l=kp(e.label)?await MC(e.label.replace(Yp.lineBreakRegex,`
`),s):Ao(e.label,s),c=e.isNode?"nodeLabel":"edgeLabel",h=o.append("span");h.html(l),g_(h,e.labelStyle),h.attr("class",`${c} ${n}`),g_(o,e.labelStyle),o.style("display","table-cell"),o.style("white-space","nowrap"),o.style("line-height","1.5"),o.style("max-width",r+"px"),o.style("text-align","center"),o.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&o.attr("class","labelBkg");let f=o.node().getBoundingClientRect();return f.width===r&&(o.style("display","table"),o.style("white-space","break-spaces"),o.style("width",r+"px"),f=o.node().getBoundingClientRect()),a.node()}M(JB,"addHtmlSpan");function Gx(t,e,r){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*r-.1+"em").attr("dy",r+"em")}M(Gx,"createTspan");function ZB(t,e,r){const n=t.append("text"),i=Gx(n,1,e);Yx(i,r);const s=i.node().getComputedTextLength();return n.remove(),s}M(ZB,"computeWidthOfText");function gme(t,e,r){const n=t.append("text"),i=Gx(n,1,e);Yx(i,[{content:r,type:"normal"}]);const s=i.node()?.getBoundingClientRect();return s&&n.remove(),s}M(gme,"computeDimensionOfText");function QB(t,e,r,n=!1){const s=e.append("g"),a=s.insert("rect").attr("class","background").attr("style","stroke: none"),o=s.append("text").attr("y","-10.1");let l=0;for(const c of r){const h=M(g=>ZB(s,1.1,g)<=t,"checkWidth"),f=h(c)?[c]:XB(c,h);for(const g of f){const p=Gx(o,l,1.1);Yx(p,g),l++}}if(n){const c=o.node().getBBox(),h=2;return a.attr("x",c.x-h).attr("y",c.y-h).attr("width",c.width+2*h).attr("height",c.height+2*h),s.node()}else return o.node()}M(QB,"createFormattedText");function Yx(t,e){t.text(""),e.forEach((r,n)=>{const i=t.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?i.text(r.content):i.text(" "+r.content)})}M(Yx,"updateTextContentAndStyles");async function eF(t,e={}){const r=[];t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(i,s,a)=>(r.push((async()=>{const o=`${s}:${a}`;return await mme(o)?await N0(o,void 0,{class:"label-icon"}):`<i class='${Ao(i,e).replace(":"," ")}'></i>`})()),i));const n=await Promise.all(r);return t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>n.shift()??"")}M(eF,"replaceIconSubstring");var vh=M(async(t,e="",{style:r="",isTitle:n=!1,classes:i="",useHtmlLabels:s=!0,isNode:a=!0,width:o=200,addSvgBackground:l=!1}={},c)=>{if(Ue.debug("XYZ createText",e,r,n,i,s,a,"addSvgBackground: ",l),s){const h=GB(e,c),f=await eF(Hd(h),c),g=e.replace(/\\\\/g,"\\"),p={isNode:a,label:kp(e)?g:f,labelStyle:r.replace("fill:","color:")};return await JB(t,p,o,i,l,c)}else{const h=e.replace(/<br\s*\/?>/g,"<br/>"),f=HB(h.replace("<br>","<br/>"),c),g=QB(o,t,f,e?l:!1);if(a){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Br(g).attr("style",p)}else{const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Br(g).select("rect").attr("style",p.replace(/background:/g,"fill:"));const v=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Br(g).select("text").attr("style",v)}return g}},"createText");function Jb(t,e,r){if(t&&t.length){const[n,i]=e,s=Math.PI/180*r,a=Math.cos(s),o=Math.sin(s);for(const l of t){const[c,h]=l;l[0]=(c-n)*a-(h-i)*o+n,l[1]=(c-n)*o+(h-i)*a+i}}}function yme(t,e){return t[0]===e[0]&&t[1]===e[1]}function vme(t,e,r,n=1){const i=r,s=Math.max(e,.1),a=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,o=[0,0];if(i)for(const c of a)Jb(c,o,i);const l=(function(c,h,f){const g=[];for(const k of c){const N=[...k];yme(N[0],N[N.length-1])||N.push([N[0][0],N[0][1]]),N.length>2&&g.push(N)}const p=[];h=Math.max(h,.1);const v=[];for(const k of g)for(let N=0;N<k.length-1;N++){const j=k[N],P=k[N+1];if(j[1]!==P[1]){const F=Math.min(j[1],P[1]);v.push({ymin:F,ymax:Math.max(j[1],P[1]),x:F===j[1]?j[0]:P[0],islope:(P[0]-j[0])/(P[1]-j[1])})}}if(v.sort(((k,N)=>k.ymin<N.ymin?-1:k.ymin>N.ymin?1:k.x<N.x?-1:k.x>N.x?1:k.ymax===N.ymax?0:(k.ymax-N.ymax)/Math.abs(k.ymax-N.ymax))),!v.length)return p;let x=[],b=v[0].ymin,_=0;for(;x.length||v.length;){if(v.length){let k=-1;for(let N=0;N<v.length&&!(v[N].ymin>b);N++)k=N;v.splice(0,k+1).forEach((N=>{x.push({s:b,edge:N})}))}if(x=x.filter((k=>!(k.edge.ymax<=b))),x.sort(((k,N)=>k.edge.x===N.edge.x?0:(k.edge.x-N.edge.x)/Math.abs(k.edge.x-N.edge.x))),(f!==1||_%h==0)&&x.length>1)for(let k=0;k<x.length;k+=2){const N=k+1;if(N>=x.length)break;const j=x[k].edge,P=x[N].edge;p.push([[Math.round(j.x),b],[Math.round(P.x),b]])}b+=f,x.forEach((k=>{k.edge.x=k.edge.x+f*k.edge.islope})),_++}return p})(a,s,n);if(i){for(const c of a)Jb(c,o,-i);(function(c,h,f){const g=[];c.forEach((p=>g.push(...p))),Jb(g,h,f)})(l,o,-i)}return l}function T0(t,e){var r;const n=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return e.roughness>=1&&(((r=e.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(s=i),vme(t,i,n,s||1)}let Nk=class{constructor(e){this.helper=e}fillPolygons(e,r){return this._fillPolygons(e,r)}_fillPolygons(e,r){const n=T0(e,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(e,r){const n=[];for(const i of e)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],r));return n}};function Kx(t){const e=t[0],r=t[1];return Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))}let xme=class extends Nk{fillPolygons(e,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const i=T0(e,Object.assign({},r,{hachureGap:n})),s=Math.PI/180*r.hachureAngle,a=[],o=.5*n*Math.cos(s),l=.5*n*Math.sin(s);for(const[c,h]of i)Kx([c,h])&&a.push([[c[0]-o,c[1]+l],[...h]],[[c[0]+o,c[1]-l],[...h]]);return{type:"fillSketch",ops:this.renderLines(a,r)}}};class bme extends Nk{fillPolygons(e,r){const n=this._fillPolygons(e,r),i=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),s=this._fillPolygons(e,i);return n.ops=n.ops.concat(s.ops),n}}let wme=class{constructor(e){this.helper=e}fillPolygons(e,r){const n=T0(e,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(e,r){const n=[];let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let s=r.fillWeight;s<0&&(s=r.strokeWidth/2);const a=i/4;for(const o of e){const l=Kx(o),c=l/i,h=Math.ceil(c)-1,f=l-h*i,g=(o[0][0]+o[1][0])/2-i/4,p=Math.min(o[0][1],o[1][1]);for(let v=0;v<h;v++){const x=p+f+v*i,b=g-a+2*Math.random()*a,_=x-a+2*Math.random()*a,k=this.helper.ellipse(b,_,s,s,r);n.push(...k.ops)}}return{type:"fillSketch",ops:n}}},_me=class{constructor(e){this.helper=e}fillPolygons(e,r){const n=T0(e,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(e,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,i=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,s=[];return e.forEach((a=>{const o=Kx(a),l=Math.floor(o/(n+i)),c=(o+i-l*(n+i))/2;let h=a[0],f=a[1];h[0]>f[0]&&(h=a[1],f=a[0]);const g=Math.atan((f[1]-h[1])/(f[0]-h[0]));for(let p=0;p<l;p++){const v=p*(n+i),x=v+n,b=[h[0]+v*Math.cos(g)+c*Math.cos(g),h[1]+v*Math.sin(g)+c*Math.sin(g)],_=[h[0]+x*Math.cos(g)+c*Math.cos(g),h[1]+x*Math.sin(g)+c*Math.sin(g)];s.push(...this.helper.doubleLineOps(b[0],b[1],_[0],_[1],r))}})),s}},Sme=class{constructor(e){this.helper=e}fillPolygons(e,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,i=r.zigzagOffset<0?n:r.zigzagOffset,s=T0(e,r=Object.assign({},r,{hachureGap:n+i}));return{type:"fillSketch",ops:this.zigzagLines(s,i,r)}}zigzagLines(e,r,n){const i=[];return e.forEach((s=>{const a=Kx(s),o=Math.round(a/(2*r));let l=s[0],c=s[1];l[0]>c[0]&&(l=s[1],c=s[0]);const h=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let f=0;f<o;f++){const g=2*f*r,p=2*(f+1)*r,v=Math.sqrt(2*Math.pow(r,2)),x=[l[0]+g*Math.cos(h),l[1]+g*Math.sin(h)],b=[l[0]+p*Math.cos(h),l[1]+p*Math.sin(h)],_=[x[0]+v*Math.cos(h+Math.PI/4),x[1]+v*Math.sin(h+Math.PI/4)];i.push(...this.helper.doubleLineOps(x[0],x[1],_[0],_[1],n),...this.helper.doubleLineOps(_[0],_[1],b[0],b[1],n))}})),i}};const ya={};let Cme=class{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}};const kme=0,Zb=1,a4=2,Vy={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Qb(t,e){return t.type===e}function Tk(t){const e=[],r=(function(a){const o=new Array;for(;a!=="";)if(a.match(/^([ \t\r\n,]+)/))a=a.substr(RegExp.$1.length);else if(a.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:kme,text:RegExp.$1},a=a.substr(RegExp.$1.length);else{if(!a.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:Zb,text:`${parseFloat(RegExp.$1)}`},a=a.substr(RegExp.$1.length)}return o[o.length]={type:a4,text:""},o})(t);let n="BOD",i=0,s=r[i];for(;!Qb(s,a4);){let a=0;const o=[];if(n==="BOD"){if(s.text!=="M"&&s.text!=="m")return Tk("M0,0"+t);i++,a=Vy[s.text],n=s.text}else Qb(s,Zb)?a=Vy[n]:(i++,a=Vy[s.text],n=s.text);if(!(i+a<r.length))throw new Error("Path data ended short");for(let l=i;l<i+a;l++){const c=r[l];if(!Qb(c,Zb))throw new Error("Param not a number: "+n+","+c.text);o[o.length]=+c.text}if(typeof Vy[n]!="number")throw new Error("Bad segment: "+n);{const l={key:n,data:o};e.push(l),i+=a,s=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return e}function tF(t){let e=0,r=0,n=0,i=0;const s=[];for(const{key:a,data:o}of t)switch(a){case"M":s.push({key:"M",data:[...o]}),[e,r]=o,[n,i]=o;break;case"m":e+=o[0],r+=o[1],s.push({key:"M",data:[e,r]}),n=e,i=r;break;case"L":s.push({key:"L",data:[...o]}),[e,r]=o;break;case"l":e+=o[0],r+=o[1],s.push({key:"L",data:[e,r]});break;case"C":s.push({key:"C",data:[...o]}),e=o[4],r=o[5];break;case"c":{const l=o.map(((c,h)=>h%2?c+r:c+e));s.push({key:"C",data:l}),e=l[4],r=l[5];break}case"Q":s.push({key:"Q",data:[...o]}),e=o[2],r=o[3];break;case"q":{const l=o.map(((c,h)=>h%2?c+r:c+e));s.push({key:"Q",data:l}),e=l[2],r=l[3];break}case"A":s.push({key:"A",data:[...o]}),e=o[5],r=o[6];break;case"a":e+=o[5],r+=o[6],s.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],e,r]});break;case"H":s.push({key:"H",data:[...o]}),e=o[0];break;case"h":e+=o[0],s.push({key:"H",data:[e]});break;case"V":s.push({key:"V",data:[...o]}),r=o[0];break;case"v":r+=o[0],s.push({key:"V",data:[r]});break;case"S":s.push({key:"S",data:[...o]}),e=o[2],r=o[3];break;case"s":{const l=o.map(((c,h)=>h%2?c+r:c+e));s.push({key:"S",data:l}),e=l[2],r=l[3];break}case"T":s.push({key:"T",data:[...o]}),e=o[0],r=o[1];break;case"t":e+=o[0],r+=o[1],s.push({key:"T",data:[e,r]});break;case"Z":case"z":s.push({key:"Z",data:[]}),e=n,r=i}return s}function rF(t){const e=[];let r="",n=0,i=0,s=0,a=0,o=0,l=0;for(const{key:c,data:h}of t){switch(c){case"M":e.push({key:"M",data:[...h]}),[n,i]=h,[s,a]=h;break;case"C":e.push({key:"C",data:[...h]}),n=h[4],i=h[5],o=h[2],l=h[3];break;case"L":e.push({key:"L",data:[...h]}),[n,i]=h;break;case"H":n=h[0],e.push({key:"L",data:[n,i]});break;case"V":i=h[0],e.push({key:"L",data:[n,i]});break;case"S":{let f=0,g=0;r==="C"||r==="S"?(f=n+(n-o),g=i+(i-l)):(f=n,g=i),e.push({key:"C",data:[f,g,...h]}),o=h[0],l=h[1],n=h[2],i=h[3];break}case"T":{const[f,g]=h;let p=0,v=0;r==="Q"||r==="T"?(p=n+(n-o),v=i+(i-l)):(p=n,v=i);const x=n+2*(p-n)/3,b=i+2*(v-i)/3,_=f+2*(p-f)/3,k=g+2*(v-g)/3;e.push({key:"C",data:[x,b,_,k,f,g]}),o=p,l=v,n=f,i=g;break}case"Q":{const[f,g,p,v]=h,x=n+2*(f-n)/3,b=i+2*(g-i)/3,_=p+2*(f-p)/3,k=v+2*(g-v)/3;e.push({key:"C",data:[x,b,_,k,p,v]}),o=f,l=g,n=p,i=v;break}case"A":{const f=Math.abs(h[0]),g=Math.abs(h[1]),p=h[2],v=h[3],x=h[4],b=h[5],_=h[6];f===0||g===0?(e.push({key:"C",data:[n,i,b,_,b,_]}),n=b,i=_):(n!==b||i!==_)&&(nF(n,i,b,_,f,g,p,v,x).forEach((function(k){e.push({key:"C",data:k})})),n=b,i=_);break}case"Z":e.push({key:"Z",data:[]}),n=s,i=a}r=c}return e}function qm(t,e,r){return[t*Math.cos(r)-e*Math.sin(r),t*Math.sin(r)+e*Math.cos(r)]}function nF(t,e,r,n,i,s,a,o,l,c){const h=(f=a,Math.PI*f/180);var f;let g=[],p=0,v=0,x=0,b=0;if(c)[p,v,x,b]=c;else{[t,e]=qm(t,e,-h),[r,n]=qm(r,n,-h);const W=(t-r)/2,$=(e-n)/2;let Q=W*W/(i*i)+$*$/(s*s);Q>1&&(Q=Math.sqrt(Q),i*=Q,s*=Q);const ee=i*i,se=s*s,V=ee*se-ee*$*$-se*W*W,re=ee*$*$+se*W*W,pe=(o===l?-1:1)*Math.sqrt(Math.abs(V/re));x=pe*i*$/s+(t+r)/2,b=pe*-s*W/i+(e+n)/2,p=Math.asin(parseFloat(((e-b)/s).toFixed(9))),v=Math.asin(parseFloat(((n-b)/s).toFixed(9))),t<x&&(p=Math.PI-p),r<x&&(v=Math.PI-v),p<0&&(p=2*Math.PI+p),v<0&&(v=2*Math.PI+v),l&&p>v&&(p-=2*Math.PI),!l&&v>p&&(v-=2*Math.PI)}let _=v-p;if(Math.abs(_)>120*Math.PI/180){const W=v,$=r,Q=n;v=l&&v>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,g=nF(r=x+i*Math.cos(v),n=b+s*Math.sin(v),$,Q,i,s,a,0,l,[v,W,x,b])}_=v-p;const k=Math.cos(p),N=Math.sin(p),j=Math.cos(v),P=Math.sin(v),F=Math.tan(_/4),D=4/3*i*F,U=4/3*s*F,z=[t,e],K=[t+D*N,e-U*k],B=[r+D*P,n-U*j],q=[r,n];if(K[0]=2*z[0]-K[0],K[1]=2*z[1]-K[1],c)return[K,B,q].concat(g);{g=[K,B,q].concat(g);const W=[];for(let $=0;$<g.length;$+=3){const Q=qm(g[$][0],g[$][1],h),ee=qm(g[$+1][0],g[$+1][1],h),se=qm(g[$+2][0],g[$+2][1],h);W.push([Q[0],Q[1],ee[0],ee[1],se[0],se[1]])}return W}}const Nme={randOffset:function(t,e){return ir(t,e)},randOffsetWithRange:function(t,e,r){return zv(t,e,r)},ellipse:function(t,e,r,n,i){const s=sF(r,n,i);return y_(t,e,i,s).opset},doubleLineOps:function(t,e,r,n,i){return hh(t,e,r,n,i,!0)}};function iF(t,e,r,n,i){return{type:"path",ops:hh(t,e,r,n,i)}}function L1(t,e,r){const n=(t||[]).length;if(n>2){const i=[];for(let s=0;s<n-1;s++)i.push(...hh(t[s][0],t[s][1],t[s+1][0],t[s+1][1],r));return e&&i.push(...hh(t[n-1][0],t[n-1][1],t[0][0],t[0][1],r)),{type:"path",ops:i}}return n===2?iF(t[0][0],t[0][1],t[1][0],t[1][1],r):{type:"path",ops:[]}}function Tme(t,e,r,n,i){return(function(s,a){return L1(s,!0,a)})([[t,e],[t+r,e],[t+r,e+n],[t,e+n]],i)}function o4(t,e){if(t.length){const r=typeof t[0][0]=="number"?[t]:t,n=Hy(r[0],1*(1+.2*e.roughness),e),i=e.disableMultiStroke?[]:Hy(r[0],1.5*(1+.22*e.roughness),u4(e));for(let s=1;s<r.length;s++){const a=r[s];if(a.length){const o=Hy(a,1*(1+.2*e.roughness),e),l=e.disableMultiStroke?[]:Hy(a,1.5*(1+.22*e.roughness),u4(e));for(const c of o)c.op!=="move"&&n.push(c);for(const c of l)c.op!=="move"&&i.push(c)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function sF(t,e,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),s=2*Math.PI/i;let a=Math.abs(t/2),o=Math.abs(e/2);const l=1-r.curveFitting;return a+=ir(a*l,r),o+=ir(o*l,r),{increment:s,rx:a,ry:o}}function y_(t,e,r,n){const[i,s]=h4(n.increment,t,e,n.rx,n.ry,1,n.increment*zv(.1,zv(.4,1,r),r),r);let a=Uv(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[o]=h4(n.increment,t,e,n.rx,n.ry,1.5,0,r),l=Uv(o,null,r);a=a.concat(l)}return{estimatedPoints:s,opset:{type:"path",ops:a}}}function l4(t,e,r,n,i,s,a,o,l){const c=t,h=e;let f=Math.abs(r/2),g=Math.abs(n/2);f+=ir(.01*f,l),g+=ir(.01*g,l);let p=i,v=s;for(;p<0;)p+=2*Math.PI,v+=2*Math.PI;v-p>2*Math.PI&&(p=0,v=2*Math.PI);const x=2*Math.PI/l.curveStepCount,b=Math.min(x/2,(v-p)/2),_=d4(b,c,h,f,g,p,v,1,l);if(!l.disableMultiStroke){const k=d4(b,c,h,f,g,p,v,1.5,l);_.push(...k)}return a&&(o?_.push(...hh(c,h,c+f*Math.cos(p),h+g*Math.sin(p),l),...hh(c,h,c+f*Math.cos(v),h+g*Math.sin(v),l)):_.push({op:"lineTo",data:[c,h]},{op:"lineTo",data:[c+f*Math.cos(p),h+g*Math.sin(p)]})),{type:"path",ops:_}}function c4(t,e){const r=rF(tF(Tk(t))),n=[];let i=[0,0],s=[0,0];for(const{key:a,data:o}of r)switch(a){case"M":s=[o[0],o[1]],i=[o[0],o[1]];break;case"L":n.push(...hh(s[0],s[1],o[0],o[1],e)),s=[o[0],o[1]];break;case"C":{const[l,c,h,f,g,p]=o;n.push(...Ame(l,c,h,f,g,p,s,e)),s=[g,p];break}case"Z":n.push(...hh(s[0],s[1],i[0],i[1],e)),s=[i[0],i[1]]}return{type:"path",ops:n}}function ew(t,e){const r=[];for(const n of t)if(n.length){const i=e.maxRandomnessOffset||0,s=n.length;if(s>2){r.push({op:"move",data:[n[0][0]+ir(i,e),n[0][1]+ir(i,e)]});for(let a=1;a<s;a++)r.push({op:"lineTo",data:[n[a][0]+ir(i,e),n[a][1]+ir(i,e)]})}}return{type:"fillPath",ops:r}}function Rf(t,e){return(function(r,n){let i=r.fillStyle||"hachure";if(!ya[i])switch(i){case"zigzag":ya[i]||(ya[i]=new xme(n));break;case"cross-hatch":ya[i]||(ya[i]=new bme(n));break;case"dots":ya[i]||(ya[i]=new wme(n));break;case"dashed":ya[i]||(ya[i]=new _me(n));break;case"zigzag-line":ya[i]||(ya[i]=new Sme(n));break;default:i="hachure",ya[i]||(ya[i]=new Nk(n))}return ya[i]})(e,Nme).fillPolygons(t,e)}function u4(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function aF(t){return t.randomizer||(t.randomizer=new Cme(t.seed||0)),t.randomizer.next()}function zv(t,e,r,n=1){return r.roughness*n*(aF(r)*(e-t)+t)}function ir(t,e,r=1){return zv(-t,t,e,r)}function hh(t,e,r,n,i,s=!1){const a=s?i.disableMultiStrokeFill:i.disableMultiStroke,o=v_(t,e,r,n,i,!0,!1);if(a)return o;const l=v_(t,e,r,n,i,!0,!0);return o.concat(l)}function v_(t,e,r,n,i,s,a){const o=Math.pow(t-r,2)+Math.pow(e-n,2),l=Math.sqrt(o);let c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let h=i.maxRandomnessOffset||0;h*h*100>o&&(h=l/10);const f=h/2,g=.2+.2*aF(i);let p=i.bowing*i.maxRandomnessOffset*(n-e)/200,v=i.bowing*i.maxRandomnessOffset*(t-r)/200;p=ir(p,i,c),v=ir(v,i,c);const x=[],b=()=>ir(f,i,c),_=()=>ir(h,i,c),k=i.preserveVertices;return a?x.push({op:"move",data:[t+(k?0:b()),e+(k?0:b())]}):x.push({op:"move",data:[t+(k?0:ir(h,i,c)),e+(k?0:ir(h,i,c))]}),a?x.push({op:"bcurveTo",data:[p+t+(r-t)*g+b(),v+e+(n-e)*g+b(),p+t+2*(r-t)*g+b(),v+e+2*(n-e)*g+b(),r+(k?0:b()),n+(k?0:b())]}):x.push({op:"bcurveTo",data:[p+t+(r-t)*g+_(),v+e+(n-e)*g+_(),p+t+2*(r-t)*g+_(),v+e+2*(n-e)*g+_(),r+(k?0:_()),n+(k?0:_())]}),x}function Hy(t,e,r){if(!t.length)return[];const n=[];n.push([t[0][0]+ir(e,r),t[0][1]+ir(e,r)]),n.push([t[0][0]+ir(e,r),t[0][1]+ir(e,r)]);for(let i=1;i<t.length;i++)n.push([t[i][0]+ir(e,r),t[i][1]+ir(e,r)]),i===t.length-1&&n.push([t[i][0]+ir(e,r),t[i][1]+ir(e,r)]);return Uv(n,null,r)}function Uv(t,e,r){const n=t.length,i=[];if(n>3){const s=[],a=1-r.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let o=1;o+2<n;o++){const l=t[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*t[o+1][0]-a*t[o-1][0])/6,l[1]+(a*t[o+1][1]-a*t[o-1][1])/6],s[2]=[t[o+1][0]+(a*t[o][0]-a*t[o+2][0])/6,t[o+1][1]+(a*t[o][1]-a*t[o+2][1])/6],s[3]=[t[o+1][0],t[o+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else n===3?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):n===2&&i.push(...v_(t[0][0],t[0][1],t[1][0],t[1][1],r,!0,!0));return i}function h4(t,e,r,n,i,s,a,o){const l=[],c=[];if(o.roughness===0){t/=4,c.push([e+n*Math.cos(-t),r+i*Math.sin(-t)]);for(let h=0;h<=2*Math.PI;h+=t){const f=[e+n*Math.cos(h),r+i*Math.sin(h)];l.push(f),c.push(f)}c.push([e+n*Math.cos(0),r+i*Math.sin(0)]),c.push([e+n*Math.cos(t),r+i*Math.sin(t)])}else{const h=ir(.5,o)-Math.PI/2;c.push([ir(s,o)+e+.9*n*Math.cos(h-t),ir(s,o)+r+.9*i*Math.sin(h-t)]);const f=2*Math.PI+h-.01;for(let g=h;g<f;g+=t){const p=[ir(s,o)+e+n*Math.cos(g),ir(s,o)+r+i*Math.sin(g)];l.push(p),c.push(p)}c.push([ir(s,o)+e+n*Math.cos(h+2*Math.PI+.5*a),ir(s,o)+r+i*Math.sin(h+2*Math.PI+.5*a)]),c.push([ir(s,o)+e+.98*n*Math.cos(h+a),ir(s,o)+r+.98*i*Math.sin(h+a)]),c.push([ir(s,o)+e+.9*n*Math.cos(h+.5*a),ir(s,o)+r+.9*i*Math.sin(h+.5*a)])}return[c,l]}function d4(t,e,r,n,i,s,a,o,l){const c=s+ir(.1,l),h=[];h.push([ir(o,l)+e+.9*n*Math.cos(c-t),ir(o,l)+r+.9*i*Math.sin(c-t)]);for(let f=c;f<=a;f+=t)h.push([ir(o,l)+e+n*Math.cos(f),ir(o,l)+r+i*Math.sin(f)]);return h.push([e+n*Math.cos(a),r+i*Math.sin(a)]),h.push([e+n*Math.cos(a),r+i*Math.sin(a)]),Uv(h,null,l)}function Ame(t,e,r,n,i,s,a,o){const l=[],c=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let h=[0,0];const f=o.disableMultiStroke?1:2,g=o.preserveVertices;for(let p=0;p<f;p++)p===0?l.push({op:"move",data:[a[0],a[1]]}):l.push({op:"move",data:[a[0]+(g?0:ir(c[0],o)),a[1]+(g?0:ir(c[0],o))]}),h=g?[i,s]:[i+ir(c[p],o),s+ir(c[p],o)],l.push({op:"bcurveTo",data:[t+ir(c[p],o),e+ir(c[p],o),r+ir(c[p],o),n+ir(c[p],o),h[0],h[1]]});return l}function Wm(t){return[...t]}function f4(t,e=0){const r=t.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(Wm(t[0]),Wm(t[1]),Wm(t[2]),Wm(t[2]));else{const i=[];i.push(t[0],t[0]);for(let o=1;o<t.length;o++)i.push(t[o]),o===t.length-1&&i.push(t[o]);const s=[],a=1-e;n.push(Wm(i[0]));for(let o=1;o+2<i.length;o++){const l=i[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*i[o+1][0]-a*i[o-1][0])/6,l[1]+(a*i[o+1][1]-a*i[o-1][1])/6],s[2]=[i[o+1][0]+(a*i[o][0]-a*i[o+2][0])/6,i[o+1][1]+(a*i[o][1]-a*i[o+2][1])/6],s[3]=[i[o+1][0],i[o+1][1]],n.push(s[1],s[2],s[3])}}return n}function P1(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function Eme(t,e,r){const n=P1(e,r);if(n===0)return P1(t,e);let i=((t[0]-e[0])*(r[0]-e[0])+(t[1]-e[1])*(r[1]-e[1]))/n;return i=Math.max(0,Math.min(1,i)),P1(t,rd(e,r,i))}function rd(t,e,r){return[t[0]+(e[0]-t[0])*r,t[1]+(e[1]-t[1])*r]}function x_(t,e,r,n){const i=n||[];if((function(o,l){const c=o[l+0],h=o[l+1],f=o[l+2],g=o[l+3];let p=3*h[0]-2*c[0]-g[0];p*=p;let v=3*h[1]-2*c[1]-g[1];v*=v;let x=3*f[0]-2*g[0]-c[0];x*=x;let b=3*f[1]-2*g[1]-c[1];return b*=b,p<x&&(p=x),v<b&&(v=b),p+v})(t,e)<r){const o=t[e+0];i.length?(s=i[i.length-1],a=o,Math.sqrt(P1(s,a))>1&&i.push(o)):i.push(o),i.push(t[e+3])}else{const l=t[e+0],c=t[e+1],h=t[e+2],f=t[e+3],g=rd(l,c,.5),p=rd(c,h,.5),v=rd(h,f,.5),x=rd(g,p,.5),b=rd(p,v,.5),_=rd(x,b,.5);x_([l,g,x,_],0,r,i),x_([_,b,v,f],0,r,i)}var s,a;return i}function jme(t,e){return qv(t,0,t.length,e)}function qv(t,e,r,n,i){const s=i||[],a=t[e],o=t[r-1];let l=0,c=1;for(let h=e+1;h<r-1;++h){const f=Eme(t[h],a,o);f>l&&(l=f,c=h)}return Math.sqrt(l)>n?(qv(t,e,c+1,n,s),qv(t,c,r,n,s)):(s.length||s.push(a),s.push(o)),s}function tw(t,e=.15,r){const n=[],i=(t.length-1)/3;for(let s=0;s<i;s++)x_(t,3*s,e,n);return r&&r>0?qv(n,0,n.length,r):n}const za="none";let Wv=class{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,r,n){return{shape:e,sets:r||[],options:n||this.defaultOptions}}line(e,r,n,i,s){const a=this._o(s);return this._d("line",[iF(e,r,n,i,a)],a)}rectangle(e,r,n,i,s){const a=this._o(s),o=[],l=Tme(e,r,n,i,a);if(a.fill){const c=[[e,r],[e+n,r],[e+n,r+i],[e,r+i]];a.fillStyle==="solid"?o.push(ew([c],a)):o.push(Rf([c],a))}return a.stroke!==za&&o.push(l),this._d("rectangle",o,a)}ellipse(e,r,n,i,s){const a=this._o(s),o=[],l=sF(n,i,a),c=y_(e,r,a,l);if(a.fill)if(a.fillStyle==="solid"){const h=y_(e,r,a,l).opset;h.type="fillPath",o.push(h)}else o.push(Rf([c.estimatedPoints],a));return a.stroke!==za&&o.push(c.opset),this._d("ellipse",o,a)}circle(e,r,n,i){const s=this.ellipse(e,r,n,n,i);return s.shape="circle",s}linearPath(e,r){const n=this._o(r);return this._d("linearPath",[L1(e,!1,n)],n)}arc(e,r,n,i,s,a,o=!1,l){const c=this._o(l),h=[],f=l4(e,r,n,i,s,a,o,!0,c);if(o&&c.fill)if(c.fillStyle==="solid"){const g=Object.assign({},c);g.disableMultiStroke=!0;const p=l4(e,r,n,i,s,a,!0,!1,g);p.type="fillPath",h.push(p)}else h.push((function(g,p,v,x,b,_,k){const N=g,j=p;let P=Math.abs(v/2),F=Math.abs(x/2);P+=ir(.01*P,k),F+=ir(.01*F,k);let D=b,U=_;for(;D<0;)D+=2*Math.PI,U+=2*Math.PI;U-D>2*Math.PI&&(D=0,U=2*Math.PI);const z=(U-D)/k.curveStepCount,K=[];for(let B=D;B<=U;B+=z)K.push([N+P*Math.cos(B),j+F*Math.sin(B)]);return K.push([N+P*Math.cos(U),j+F*Math.sin(U)]),K.push([N,j]),Rf([K],k)})(e,r,n,i,s,a,c));return c.stroke!==za&&h.push(f),this._d("arc",h,c)}curve(e,r){const n=this._o(r),i=[],s=o4(e,n);if(n.fill&&n.fill!==za)if(n.fillStyle==="solid"){const a=o4(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{const a=[],o=e;if(o.length){const l=typeof o[0][0]=="number"?[o]:o;for(const c of l)c.length<3?a.push(...c):c.length===3?a.push(...tw(f4([c[0],c[0],c[1],c[2]]),10,(1+n.roughness)/2)):a.push(...tw(f4(c),10,(1+n.roughness)/2))}a.length&&i.push(Rf([a],n))}return n.stroke!==za&&i.push(s),this._d("curve",i,n)}polygon(e,r){const n=this._o(r),i=[],s=L1(e,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(ew([e],n)):i.push(Rf([e],n))),n.stroke!==za&&i.push(s),this._d("polygon",i,n)}path(e,r){const n=this._o(r),i=[];if(!e)return this._d("path",i,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=n.fill&&n.fill!=="transparent"&&n.fill!==za,a=n.stroke!==za,o=!!(n.simplification&&n.simplification<1),l=(function(h,f,g){const p=rF(tF(Tk(h))),v=[];let x=[],b=[0,0],_=[];const k=()=>{_.length>=4&&x.push(...tw(_,f)),_=[]},N=()=>{k(),x.length&&(v.push(x),x=[])};for(const{key:P,data:F}of p)switch(P){case"M":N(),b=[F[0],F[1]],x.push(b);break;case"L":k(),x.push([F[0],F[1]]);break;case"C":if(!_.length){const D=x.length?x[x.length-1]:b;_.push([D[0],D[1]])}_.push([F[0],F[1]]),_.push([F[2],F[3]]),_.push([F[4],F[5]]);break;case"Z":k(),x.push([b[0],b[1]])}if(N(),!g)return v;const j=[];for(const P of v){const F=jme(P,g);F.length&&j.push(F)}return j})(e,1,o?4-4*(n.simplification||1):(1+n.roughness)/2),c=c4(e,n);if(s)if(n.fillStyle==="solid")if(l.length===1){const h=c4(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else i.push(ew(l,n));else i.push(Rf(l,n));return a&&(o?l.forEach((h=>{i.push(L1(h,!1,n))})):i.push(c)),this._d("path",i,n)}opsToPath(e,r){let n="";for(const i of e.ops){const s=typeof r=="number"&&r>=0?i.data.map((a=>+a.toFixed(r))):i.data;switch(i.op){case"move":n+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":n+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":n+=`L${s[0]} ${s[1]} `}}return n.trim()}toPaths(e){const r=e.sets||[],n=e.options||this.defaultOptions,i=[];for(const s of r){let a=null;switch(s.type){case"path":a={d:this.opsToPath(s),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:za};break;case"fillPath":a={d:this.opsToPath(s),stroke:za,strokeWidth:0,fill:n.fill||za};break;case"fillSketch":a=this.fillSketch(s,n)}a&&i.push(a)}return i}fillSketch(e,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(e),stroke:r.fill||za,strokeWidth:n,fill:za}}_mergedShape(e){return e.filter(((r,n)=>n===0||r.op!=="move"))}},Lme=class{constructor(e,r){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new Wv(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),i=this.ctx,s=e.options.fixedDecimalPlaceDigits;for(const a of r)switch(a.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,a,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=n.fill||"";const o=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,a,s,o),i.restore();break}case"fillSketch":this.fillSketch(i,a,n)}}fillSketch(e,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=i,this._drawToContext(e,r,n.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,r,n,i="nonzero"){e.beginPath();for(const s of r.ops){const a=typeof n=="number"&&n>=0?s.data.map((o=>+o.toFixed(n))):s.data;switch(s.op){case"move":e.moveTo(a[0],a[1]);break;case"bcurveTo":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":e.lineTo(a[0],a[1])}}r.type==="fillPath"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,r,n,i,s){const a=this.gen.line(e,r,n,i,s);return this.draw(a),a}rectangle(e,r,n,i,s){const a=this.gen.rectangle(e,r,n,i,s);return this.draw(a),a}ellipse(e,r,n,i,s){const a=this.gen.ellipse(e,r,n,i,s);return this.draw(a),a}circle(e,r,n,i){const s=this.gen.circle(e,r,n,i);return this.draw(s),s}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n),n}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n),n}arc(e,r,n,i,s,a,o=!1,l){const c=this.gen.arc(e,r,n,i,s,a,o,l);return this.draw(c),c}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n),n}path(e,r){const n=this.gen.path(e,r);return this.draw(n),n}};const Gy="http://www.w3.org/2000/svg";let Pme=class{constructor(e,r){this.svg=e,this.gen=new Wv(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(Gy,"g"),a=e.options.fixedDecimalPlaceDigits;for(const o of r){let l=null;switch(o.type){case"path":l=i.createElementNS(Gy,"path"),l.setAttribute("d",this.opsToPath(o,a)),l.setAttribute("stroke",n.stroke),l.setAttribute("stroke-width",n.strokeWidth+""),l.setAttribute("fill","none"),n.strokeLineDash&&l.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":l=i.createElementNS(Gy,"path"),l.setAttribute("d",this.opsToPath(o,a)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",n.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(i,o,n)}l&&s.appendChild(l)}return s}fillSketch(e,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const s=e.createElementNS(Gy,"path");return s.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),s.setAttribute("stroke",n.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),n.fillLineDash&&s.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,r){return this.gen.opsToPath(e,r)}line(e,r,n,i,s){const a=this.gen.line(e,r,n,i,s);return this.draw(a)}rectangle(e,r,n,i,s){const a=this.gen.rectangle(e,r,n,i,s);return this.draw(a)}ellipse(e,r,n,i,s){const a=this.gen.ellipse(e,r,n,i,s);return this.draw(a)}circle(e,r,n,i){const s=this.gen.circle(e,r,n,i);return this.draw(s)}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n)}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n)}arc(e,r,n,i,s,a,o=!1,l){const c=this.gen.arc(e,r,n,i,s,a,o,l);return this.draw(c)}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n)}path(e,r){const n=this.gen.path(e,r);return this.draw(n)}};var Nt={canvas:(t,e)=>new Lme(t,e),svg:(t,e)=>new Pme(t,e),generator:t=>new Wv(t),newSeed:()=>Wv.newSeed()},Qt=M(async(t,e,r)=>{let n;const i=e.useHtmlLabels||zi(en()?.htmlLabels);r?n=r:n="node default";const s=t.insert("g").attr("class",n).attr("id",e.domId||e.id),a=s.insert("g").attr("class","label").attr("style",Rs(e.labelStyle));let o;e.label===void 0?o="":o=typeof e.label=="string"?e.label:e.label[0];const l=await vh(a,Ao(Hd(o),en()),{useHtmlLabels:i,width:e.width||en().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let c=l.getBBox();const h=(e?.padding??0)/2;if(i){const f=l.children[0],g=Br(l),p=f.getElementsByTagName("img");if(p){const v=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...p].map(x=>new Promise(b=>{function _(){if(x.style.display="flex",x.style.flexDirection="column",v){const k=en().fontSize?en().fontSize:window.getComputedStyle(document.body).fontSize,N=5,[j=bO.fontSize]=Wx(k),P=j*N+"px";x.style.minWidth=P,x.style.maxWidth=P}else x.style.width="100%";b(x)}M(_,"setupImage"),setTimeout(()=>{x.complete&&_()}),x.addEventListener("error",_),x.addEventListener("load",_)})))}c=f.getBoundingClientRect(),g.attr("width",c.width),g.attr("height",c.height)}return i?a.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"):a.attr("transform","translate(0, "+-c.height/2+")"),e.centerLabel&&a.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),a.insert("rect",":first-child"),{shapeSvg:s,bbox:c,halfPadding:h,label:a}},"labelHelper"),rw=M(async(t,e,r)=>{const n=r.useHtmlLabels||zi(en()?.flowchart?.htmlLabels),i=t.insert("g").attr("class","label").attr("style",r.labelStyle||""),s=await vh(i,Ao(Hd(e),en()),{useHtmlLabels:n,width:r.width||en()?.flowchart?.wrappingWidth,style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let a=s.getBBox();const o=r.padding/2;if(zi(en()?.flowchart?.htmlLabels)){const l=s.children[0],c=Br(s);a=l.getBoundingClientRect(),c.attr("width",a.width),c.attr("height",a.height)}return n?i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"):i.attr("transform","translate(0, "+-a.height/2+")"),r.centerLabel&&i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:t,bbox:a,halfPadding:o,label:i}},"insertLabel"),Pt=M((t,e)=>{const r=e.node().getBBox();t.width=r.width,t.height=r.height},"updateNodeBounds"),Yt=M((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function Lr(t){const e=t.map((r,n)=>`${n===0?"M":"L"}${r.x},${r.y}`);return e.push("Z"),e.join(" ")}M(Lr,"createPathFromPoints");function dh(t,e,r,n,i,s){const a=[],l=r-t,c=n-e,h=l/s,f=2*Math.PI/h,g=e+c/2;for(let p=0;p<=50;p++){const v=p/50,x=t+v*l,b=g+i*Math.sin(f*(x-t));a.push({x,y:b})}return a}M(dh,"generateFullSineWavePoints");function Yg(t,e,r,n,i,s){const a=[],o=i*Math.PI/180,h=(s*Math.PI/180-o)/(n-1);for(let f=0;f<n;f++){const g=o+f*h,p=t+r*Math.cos(g),v=e+r*Math.sin(g);a.push({x:-p,y:-v})}return a}M(Yg,"generateCirclePoints");var Rme=M((t,e)=>{var r=t.x,n=t.y,i=e.x-r,s=e.y-n,a=t.width/2,o=t.height/2,l,c;return Math.abs(s)*a>Math.abs(i)*o?(s<0&&(o=-o),l=s===0?0:o*i/s,c=o):(i<0&&(a=-a),l=a,c=i===0?0:a*s/i),{x:r+l,y:n+c}},"intersectRect"),Zp=Rme;function oF(t,e){e&&t.attr("style",e)}M(oF,"applyStyle");async function lF(t){const e=Br(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=e.append("xhtml:div"),n=en();let i=t.label;t.label&&kp(t.label)&&(i=await MC(t.label.replace(Yp.lineBreakRegex,`
`),n));const a='<span class="'+(t.isNode?"nodeLabel":"edgeLabel")+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+i+"</span>";return r.html(Ao(a,n)),oF(r,t.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}M(lF,"addHtmlLabel");var Mme=M(async(t,e,r,n)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),zi(en().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),Ue.info("vertexText"+i);const s={isNode:n,label:Hd(i).replace(/fa[blrs]?:fa-[\w-]+/g,o=>`<i class='${o.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await lF(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",e.replace("color:","fill:"));let a=[];typeof i=="string"?a=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?a=i:a=[];for(const o of a){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=o.trim(),s.appendChild(l)}return s}},"createLabel"),vd=Mme,xh=M((t,e,r,n,i)=>["M",t+i,e,"H",t+r-i,"A",i,i,0,0,1,t+r,e+i,"V",e+n-i,"A",i,i,0,0,1,t+r-i,e+n,"H",t+i,"A",i,i,0,0,1,t,e+n-i,"V",e+i,"A",i,i,0,0,1,t+i,e,"Z"].join(" "),"createRoundedRectPathD"),cF=M(async(t,e)=>{Ue.info("Creating subgraph rect for ",e.id,e);const r=en(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:s,clusterBorder:a}=n,{labelStyles:o,nodeStyles:l,borderStyles:c,backgroundStyles:h}=Et(e),f=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),g=zi(r.flowchart.htmlLabels),p=f.insert("g").attr("class","cluster-label "),v=await vh(p,e.label,{style:e.labelStyle,useHtmlLabels:g,isNode:!0});let x=v.getBBox();if(zi(r.flowchart.htmlLabels)){const D=v.children[0],U=Br(v);x=D.getBoundingClientRect(),U.attr("width",x.width),U.attr("height",x.height)}const b=e.width<=x.width+e.padding?x.width+e.padding:e.width;e.width<=x.width+e.padding?e.diff=(b-e.width)/2-e.padding:e.diff=-e.padding;const _=e.height,k=e.x-b/2,N=e.y-_/2;Ue.trace("Data ",e,JSON.stringify(e));let j;if(e.look==="handDrawn"){const D=Nt.svg(f),U=At(e,{roughness:.7,fill:s,stroke:a,fillWeight:3,seed:i}),z=D.path(xh(k,N,b,_,0),U);j=f.insert(()=>(Ue.debug("Rough node insert CXC",z),z),":first-child"),j.select("path:nth-child(2)").attr("style",c.join(";")),j.select("path").attr("style",h.join(";").replace("fill","stroke"))}else j=f.insert("rect",":first-child"),j.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",k).attr("y",N).attr("width",b).attr("height",_);const{subGraphTitleTopMargin:P}=sk(r);if(p.attr("transform",`translate(${e.x-x.width/2}, ${e.y-e.height/2+P})`),o){const D=p.select("span");D&&D.attr("style",o)}const F=j.node().getBBox();return e.offsetX=0,e.width=F.width,e.height=F.height,e.offsetY=x.height-e.padding/2,e.intersect=function(D){return Zp(e,D)},{cluster:f,labelBBox:x}},"rect"),Ome=M((t,e)=>{const r=t.insert("g").attr("class","note-cluster").attr("id",e.id),n=r.insert("rect",":first-child"),i=0*e.padding,s=i/2;n.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-s).attr("y",e.y-e.height/2-s).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");const a=n.node().getBBox();return e.width=a.width,e.height=a.height,e.intersect=function(o){return Zp(e,o)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),Ime=M(async(t,e)=>{const r=en(),{themeVariables:n,handDrawnSeed:i}=r,{altBackground:s,compositeBackground:a,compositeTitleBackground:o,nodeBorder:l}=n,c=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),h=c.insert("g",":first-child"),f=c.insert("g").attr("class","cluster-label");let g=c.append("rect");const p=f.node().appendChild(await vd(e.label,e.labelStyle,void 0,!0));let v=p.getBBox();if(zi(r.flowchart.htmlLabels)){const z=p.children[0],K=Br(p);v=z.getBoundingClientRect(),K.attr("width",v.width),K.attr("height",v.height)}const x=0*e.padding,b=x/2,_=(e.width<=v.width+e.padding?v.width+e.padding:e.width)+x;e.width<=v.width+e.padding?e.diff=(_-e.width)/2-e.padding:e.diff=-e.padding;const k=e.height+x,N=e.height+x-v.height-6,j=e.x-_/2,P=e.y-k/2;e.width=_;const F=e.y-e.height/2-b+v.height+2;let D;if(e.look==="handDrawn"){const z=e.cssClasses.includes("statediagram-cluster-alt"),K=Nt.svg(c),B=e.rx||e.ry?K.path(xh(j,P,_,k,10),{roughness:.7,fill:o,fillStyle:"solid",stroke:l,seed:i}):K.rectangle(j,P,_,k,{seed:i});D=c.insert(()=>B,":first-child");const q=K.rectangle(j,F,_,N,{fill:z?s:a,fillStyle:z?"hachure":"solid",stroke:l,seed:i});D=c.insert(()=>B,":first-child"),g=c.insert(()=>q)}else D=h.insert("rect",":first-child"),D.attr("class","outer").attr("x",j).attr("y",P).attr("width",_).attr("height",k).attr("data-look",e.look),g.attr("class","inner").attr("x",j).attr("y",F).attr("width",_).attr("height",N);f.attr("transform",`translate(${e.x-v.width/2}, ${P+1-(zi(r.flowchart.htmlLabels)?0:3)})`);const U=D.node().getBBox();return e.height=U.height,e.offsetX=0,e.offsetY=v.height-e.padding/2,e.labelBBox=v,e.intersect=function(z){return Zp(e,z)},{cluster:c,labelBBox:v}},"roundedWithTitle"),Dme=M(async(t,e)=>{Ue.info("Creating subgraph rect for ",e.id,e);const r=en(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:s,clusterBorder:a}=n,{labelStyles:o,nodeStyles:l,borderStyles:c,backgroundStyles:h}=Et(e),f=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),g=zi(r.flowchart.htmlLabels),p=f.insert("g").attr("class","cluster-label "),v=await vh(p,e.label,{style:e.labelStyle,useHtmlLabels:g,isNode:!0,width:e.width});let x=v.getBBox();if(zi(r.flowchart.htmlLabels)){const D=v.children[0],U=Br(v);x=D.getBoundingClientRect(),U.attr("width",x.width),U.attr("height",x.height)}const b=e.width<=x.width+e.padding?x.width+e.padding:e.width;e.width<=x.width+e.padding?e.diff=(b-e.width)/2-e.padding:e.diff=-e.padding;const _=e.height,k=e.x-b/2,N=e.y-_/2;Ue.trace("Data ",e,JSON.stringify(e));let j;if(e.look==="handDrawn"){const D=Nt.svg(f),U=At(e,{roughness:.7,fill:s,stroke:a,fillWeight:4,seed:i}),z=D.path(xh(k,N,b,_,e.rx),U);j=f.insert(()=>(Ue.debug("Rough node insert CXC",z),z),":first-child"),j.select("path:nth-child(2)").attr("style",c.join(";")),j.select("path").attr("style",h.join(";").replace("fill","stroke"))}else j=f.insert("rect",":first-child"),j.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",k).attr("y",N).attr("width",b).attr("height",_);const{subGraphTitleTopMargin:P}=sk(r);if(p.attr("transform",`translate(${e.x-x.width/2}, ${e.y-e.height/2+P})`),o){const D=p.select("span");D&&D.attr("style",o)}const F=j.node().getBBox();return e.offsetX=0,e.width=F.width,e.height=F.height,e.offsetY=x.height-e.padding/2,e.intersect=function(D){return Zp(e,D)},{cluster:f,labelBBox:x}},"kanbanSection"),Bme=M((t,e)=>{const r=en(),{themeVariables:n,handDrawnSeed:i}=r,{nodeBorder:s}=n,a=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),o=a.insert("g",":first-child"),l=0*e.padding,c=e.width+l;e.diff=-e.padding;const h=e.height+l,f=e.x-c/2,g=e.y-h/2;e.width=c;let p;if(e.look==="handDrawn"){const b=Nt.svg(a).rectangle(f,g,c,h,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:s,seed:i});p=a.insert(()=>b,":first-child")}else p=o.insert("rect",":first-child"),p.attr("class","divider").attr("x",f).attr("y",g).attr("width",c).attr("height",h).attr("data-look",e.look);const v=p.node().getBBox();return e.height=v.height,e.offsetX=0,e.offsetY=0,e.intersect=function(x){return Zp(e,x)},{cluster:a,labelBBox:{}}},"divider"),Fme=cF,$me={rect:cF,squareRect:Fme,roundedWithTitle:Ime,noteGroup:Ome,divider:Bme,kanbanSection:Dme},uF=new Map,zme=M(async(t,e)=>{const r=e.shape||"rect",n=await $me[r](t,e);return uF.set(e.id,n),n},"insertCluster"),v5e=M(()=>{uF=new Map},"clear");function hF(t,e){return t.intersect(e)}M(hF,"intersectNode");var Ume=hF;function dF(t,e,r,n){var i=t.x,s=t.y,a=i-n.x,o=s-n.y,l=Math.sqrt(e*e*o*o+r*r*a*a),c=Math.abs(e*r*a/l);n.x<i&&(c=-c);var h=Math.abs(e*r*o/l);return n.y<s&&(h=-h),{x:i+c,y:s+h}}M(dF,"intersectEllipse");var fF=dF;function pF(t,e,r){return fF(t,e,e,r)}M(pF,"intersectCircle");var qme=pF;function mF(t,e,r,n){{const i=e.y-t.y,s=t.x-e.x,a=e.x*t.y-t.x*e.y,o=i*r.x+s*r.y+a,l=i*n.x+s*n.y+a,c=1e-6;if(o!==0&&l!==0&&b_(o,l))return;const h=n.y-r.y,f=r.x-n.x,g=n.x*r.y-r.x*n.y,p=h*t.x+f*t.y+g,v=h*e.x+f*e.y+g;if(Math.abs(p)<c&&Math.abs(v)<c&&b_(p,v))return;const x=i*f-h*s;if(x===0)return;const b=Math.abs(x/2);let _=s*g-f*a;const k=_<0?(_-b)/x:(_+b)/x;_=h*a-i*g;const N=_<0?(_-b)/x:(_+b)/x;return{x:k,y:N}}}M(mF,"intersectLine");function b_(t,e){return t*e>0}M(b_,"sameSign");var Wme=mF;function gF(t,e,r){let n=t.x,i=t.y,s=[],a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(h){a=Math.min(a,h.x),o=Math.min(o,h.y)}):(a=Math.min(a,e.x),o=Math.min(o,e.y));let l=n-t.width/2-a,c=i-t.height/2-o;for(let h=0;h<e.length;h++){let f=e[h],g=e[h<e.length-1?h+1:0],p=Wme(t,r,{x:l+f.x,y:c+f.y},{x:l+g.x,y:c+g.y});p&&s.push(p)}return s.length?(s.length>1&&s.sort(function(h,f){let g=h.x-r.x,p=h.y-r.y,v=Math.sqrt(g*g+p*p),x=f.x-r.x,b=f.y-r.y,_=Math.sqrt(x*x+b*b);return v<_?-1:v===_?0:1}),s[0]):t}M(gF,"intersectPolygon");var Vme=gF,it={node:Ume,circle:qme,ellipse:fF,polygon:Vme,rect:Zp};function yF(t,e){const{labelStyles:r}=Et(e);e.labelStyle=r;const n=Yt(e);let i=n;n||(i="anchor");const s=t.insert("g").attr("class",i).attr("id",e.domId||e.id),a=1,{cssStyles:o}=e,l=Nt.svg(s),c=At(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(c.roughness=0);const h=l.circle(0,0,a*2,c),f=s.insert(()=>h,":first-child");return f.attr("class","anchor").attr("style",Rs(o)),Pt(e,f),e.intersect=function(g){return Ue.info("Circle intersect",e,a,g),it.circle(e,a,g)},s}M(yF,"anchor");function w_(t,e,r,n,i,s,a){const l=(t+r)/2,c=(e+n)/2,h=Math.atan2(n-e,r-t),f=(r-t)/2,g=(n-e)/2,p=f/i,v=g/s,x=Math.sqrt(p**2+v**2);if(x>1)throw new Error("The given radii are too small to create an arc between the points.");const b=Math.sqrt(1-x**2),_=l+b*s*Math.sin(h)*(a?-1:1),k=c-b*i*Math.cos(h)*(a?-1:1),N=Math.atan2((e-k)/s,(t-_)/i);let P=Math.atan2((n-k)/s,(r-_)/i)-N;a&&P<0&&(P+=2*Math.PI),!a&&P>0&&(P-=2*Math.PI);const F=[];for(let D=0;D<20;D++){const U=D/19,z=N+U*P,K=_+i*Math.cos(z),B=k+s*Math.sin(z);F.push({x:K,y:B})}return F}M(w_,"generateArcPoints");async function vF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await Qt(t,e,Yt(e)),a=s.width+e.padding+20,o=s.height+e.padding,l=o/2,c=l/(2.5+o/50),{cssStyles:h}=e,f=[{x:a/2,y:-o/2},{x:-a/2,y:-o/2},...w_(-a/2,-o/2,-a/2,o/2,c,l,!1),{x:a/2,y:o/2},...w_(a/2,o/2,a/2,-o/2,c,l,!0)],g=Nt.svg(i),p=At(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=Lr(f),x=g.path(v,p),b=i.insert(()=>x,":first-child");return b.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(${c/2}, 0)`),Pt(e,b),e.intersect=function(_){return it.polygon(e,f,_)},i}M(vF,"bowTieRect");function bh(t,e,r,n){return t.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+r/2+")")}M(bh,"insertPolygonShape");async function xF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await Qt(t,e,Yt(e)),a=s.height+e.padding,o=12,l=s.width+e.padding+o,c=0,h=l,f=-a,g=0,p=[{x:c+o,y:f},{x:h,y:f},{x:h,y:g},{x:c,y:g},{x:c,y:f+o},{x:c+o,y:f}];let v;const{cssStyles:x}=e;if(e.look==="handDrawn"){const b=Nt.svg(i),_=At(e,{}),k=Lr(p),N=b.path(k,_);v=i.insert(()=>N,":first-child").attr("transform",`translate(${-l/2}, ${a/2})`),x&&v.attr("style",x)}else v=bh(i,l,a,p);return n&&v.attr("style",n),Pt(e,v),e.intersect=function(b){return it.polygon(e,p,b)},i}M(xF,"card");function bF(t,e){const{nodeStyles:r}=Et(e);e.label="";const n=t.insert("g").attr("class",Yt(e)).attr("id",e.domId??e.id),{cssStyles:i}=e,s=Math.max(28,e.width??0),a=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}],o=Nt.svg(n),l=At(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=Lr(a),h=o.path(c,l),f=n.insert(()=>h,":first-child");return i&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",i),r&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",r),e.width=28,e.height=28,e.intersect=function(g){return it.polygon(e,a,g)},n}M(bF,"choice");async function Ak(t,e,r){const{labelStyles:n,nodeStyles:i}=Et(e);e.labelStyle=n;const{shapeSvg:s,bbox:a,halfPadding:o}=await Qt(t,e,Yt(e)),l=r?.padding??o,c=a.width/2+l;let h;const{cssStyles:f}=e;if(e.look==="handDrawn"){const g=Nt.svg(s),p=At(e,{}),v=g.circle(0,0,c*2,p);h=s.insert(()=>v,":first-child"),h.attr("class","basic label-container").attr("style",Rs(f))}else h=s.insert("circle",":first-child").attr("class","basic label-container").attr("style",i).attr("r",c).attr("cx",0).attr("cy",0);return Pt(e,h),e.calcIntersect=function(g,p){const v=g.width/2;return it.circle(g,v,p)},e.intersect=function(g){return Ue.info("Circle intersect",e,c,g),it.circle(e,c,g)},s}M(Ak,"circle");function wF(t){const e=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=t*2,i={x:n/2*e,y:n/2*r},s={x:-(n/2)*e,y:n/2*r},a={x:-(n/2)*e,y:-(n/2)*r},o={x:n/2*e,y:-(n/2)*r};return`M ${s.x},${s.y} L ${o.x},${o.y}
                   M ${i.x},${i.y} L ${a.x},${a.y}`}M(wF,"createLine");function _F(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r,e.label="";const i=t.insert("g").attr("class",Yt(e)).attr("id",e.domId??e.id),s=Math.max(30,e?.width??0),{cssStyles:a}=e,o=Nt.svg(i),l=At(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=o.circle(0,0,s*2,l),h=wF(s),f=o.path(h,l),g=i.insert(()=>c,":first-child");return g.insert(()=>f),a&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",a),n&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",n),Pt(e,g),e.intersect=function(p){return Ue.info("crossedCircle intersect",e,{radius:s,point:p}),it.circle(e,s,p)},i}M(_F,"crossedCircle");function Hc(t,e,r,n=100,i=0,s=180){const a=[],o=i*Math.PI/180,h=(s*Math.PI/180-o)/(n-1);for(let f=0;f<n;f++){const g=o+f*h,p=t+r*Math.cos(g),v=e+r*Math.sin(g);a.push({x:-p,y:-v})}return a}M(Hc,"generateCirclePoints");async function SF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await Qt(t,e,Yt(e)),o=s.width+(e.padding??0),l=s.height+(e.padding??0),c=Math.max(5,l*.1),{cssStyles:h}=e,f=[...Hc(o/2,-l/2,c,30,-90,0),{x:-o/2-c,y:c},...Hc(o/2+c*2,-c,c,20,-180,-270),...Hc(o/2+c*2,c,c,20,-90,-180),{x:-o/2-c,y:-l/2},...Hc(o/2,l/2,c,20,0,90)],g=[{x:o/2,y:-l/2-c},{x:-o/2,y:-l/2-c},...Hc(o/2,-l/2,c,20,-90,0),{x:-o/2-c,y:-c},...Hc(o/2+o*.1,-c,c,20,-180,-270),...Hc(o/2+o*.1,c,c,20,-90,-180),{x:-o/2-c,y:l/2},...Hc(o/2,l/2,c,20,0,90),{x:-o/2,y:l/2+c},{x:o/2,y:l/2+c}],p=Nt.svg(i),v=At(e,{fill:"none"});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const b=Lr(f).replace("Z",""),_=p.path(b,v),k=Lr(g),N=p.path(k,{...v}),j=i.insert("g",":first-child");return j.insert(()=>N,":first-child").attr("stroke-opacity",0),j.insert(()=>_,":first-child"),j.attr("class","text"),h&&e.look!=="handDrawn"&&j.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&j.selectAll("path").attr("style",n),j.attr("transform",`translate(${c}, 0)`),a.attr("transform",`translate(${-o/2+c-(s.x-(s.left??0))},${-l/2+(e.padding??0)/2-(s.y-(s.top??0))})`),Pt(e,j),e.intersect=function(P){return it.polygon(e,g,P)},i}M(SF,"curlyBraceLeft");function Gc(t,e,r,n=100,i=0,s=180){const a=[],o=i*Math.PI/180,h=(s*Math.PI/180-o)/(n-1);for(let f=0;f<n;f++){const g=o+f*h,p=t+r*Math.cos(g),v=e+r*Math.sin(g);a.push({x:p,y:v})}return a}M(Gc,"generateCirclePoints");async function CF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await Qt(t,e,Yt(e)),o=s.width+(e.padding??0),l=s.height+(e.padding??0),c=Math.max(5,l*.1),{cssStyles:h}=e,f=[...Gc(o/2,-l/2,c,20,-90,0),{x:o/2+c,y:-c},...Gc(o/2+c*2,-c,c,20,-180,-270),...Gc(o/2+c*2,c,c,20,-90,-180),{x:o/2+c,y:l/2},...Gc(o/2,l/2,c,20,0,90)],g=[{x:-o/2,y:-l/2-c},{x:o/2,y:-l/2-c},...Gc(o/2,-l/2,c,20,-90,0),{x:o/2+c,y:-c},...Gc(o/2+c*2,-c,c,20,-180,-270),...Gc(o/2+c*2,c,c,20,-90,-180),{x:o/2+c,y:l/2},...Gc(o/2,l/2,c,20,0,90),{x:o/2,y:l/2+c},{x:-o/2,y:l/2+c}],p=Nt.svg(i),v=At(e,{fill:"none"});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const b=Lr(f).replace("Z",""),_=p.path(b,v),k=Lr(g),N=p.path(k,{...v}),j=i.insert("g",":first-child");return j.insert(()=>N,":first-child").attr("stroke-opacity",0),j.insert(()=>_,":first-child"),j.attr("class","text"),h&&e.look!=="handDrawn"&&j.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&j.selectAll("path").attr("style",n),j.attr("transform",`translate(${-c}, 0)`),a.attr("transform",`translate(${-o/2+(e.padding??0)/2-(s.x-(s.left??0))},${-l/2+(e.padding??0)/2-(s.y-(s.top??0))})`),Pt(e,j),e.intersect=function(P){return it.polygon(e,g,P)},i}M(CF,"curlyBraceRight");function as(t,e,r,n=100,i=0,s=180){const a=[],o=i*Math.PI/180,h=(s*Math.PI/180-o)/(n-1);for(let f=0;f<n;f++){const g=o+f*h,p=t+r*Math.cos(g),v=e+r*Math.sin(g);a.push({x:-p,y:-v})}return a}M(as,"generateCirclePoints");async function kF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await Qt(t,e,Yt(e)),o=s.width+(e.padding??0),l=s.height+(e.padding??0),c=Math.max(5,l*.1),{cssStyles:h}=e,f=[...as(o/2,-l/2,c,30,-90,0),{x:-o/2-c,y:c},...as(o/2+c*2,-c,c,20,-180,-270),...as(o/2+c*2,c,c,20,-90,-180),{x:-o/2-c,y:-l/2},...as(o/2,l/2,c,20,0,90)],g=[...as(-o/2+c+c/2,-l/2,c,20,-90,-180),{x:o/2-c/2,y:c},...as(-o/2-c/2,-c,c,20,0,90),...as(-o/2-c/2,c,c,20,-90,0),{x:o/2-c/2,y:-c},...as(-o/2+c+c/2,l/2,c,30,-180,-270)],p=[{x:o/2,y:-l/2-c},{x:-o/2,y:-l/2-c},...as(o/2,-l/2,c,20,-90,0),{x:-o/2-c,y:-c},...as(o/2+c*2,-c,c,20,-180,-270),...as(o/2+c*2,c,c,20,-90,-180),{x:-o/2-c,y:l/2},...as(o/2,l/2,c,20,0,90),{x:-o/2,y:l/2+c},{x:o/2-c-c/2,y:l/2+c},...as(-o/2+c+c/2,-l/2,c,20,-90,-180),{x:o/2-c/2,y:c},...as(-o/2-c/2,-c,c,20,0,90),...as(-o/2-c/2,c,c,20,-90,0),{x:o/2-c/2,y:-c},...as(-o/2+c+c/2,l/2,c,30,-180,-270)],v=Nt.svg(i),x=At(e,{fill:"none"});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const _=Lr(f).replace("Z",""),k=v.path(_,x),j=Lr(g).replace("Z",""),P=v.path(j,x),F=Lr(p),D=v.path(F,{...x}),U=i.insert("g",":first-child");return U.insert(()=>D,":first-child").attr("stroke-opacity",0),U.insert(()=>k,":first-child"),U.insert(()=>P,":first-child"),U.attr("class","text"),h&&e.look!=="handDrawn"&&U.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&U.selectAll("path").attr("style",n),U.attr("transform",`translate(${c-c/4}, 0)`),a.attr("transform",`translate(${-o/2+(e.padding??0)/2-(s.x-(s.left??0))},${-l/2+(e.padding??0)/2-(s.y-(s.top??0))})`),Pt(e,U),e.intersect=function(z){return it.polygon(e,p,z)},i}M(kF,"curlyBraces");async function NF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await Qt(t,e,Yt(e)),a=80,o=20,l=Math.max(a,(s.width+(e.padding??0)*2)*1.25,e?.width??0),c=Math.max(o,s.height+(e.padding??0)*2,e?.height??0),h=c/2,{cssStyles:f}=e,g=Nt.svg(i),p=At(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=l,x=c,b=v-h,_=x/4,k=[{x:b,y:0},{x:_,y:0},{x:0,y:x/2},{x:_,y:x},{x:b,y:x},...Yg(-b,-x/2,h,50,270,90)],N=Lr(k),j=g.path(N,p),P=i.insert(()=>j,":first-child");return P.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&P.selectChildren("path").attr("style",f),n&&e.look!=="handDrawn"&&P.selectChildren("path").attr("style",n),P.attr("transform",`translate(${-l/2}, ${-c/2})`),Pt(e,P),e.intersect=function(F){return it.polygon(e,k,F)},i}M(NF,"curvedTrapezoid");var Hme=M((t,e,r,n,i,s)=>[`M${t},${e+s}`,`a${i},${s} 0,0,0 ${r},0`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createCylinderPathD"),Gme=M((t,e,r,n,i,s)=>[`M${t},${e+s}`,`M${t+r},${e+s}`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createOuterCylinderPathD"),Yme=M((t,e,r,n,i,s)=>[`M${t-r/2},${-n/2}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function TF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await Qt(t,e,Yt(e)),o=Math.max(s.width+e.padding,e.width??0),l=o/2,c=l/(2.5+o/50),h=Math.max(s.height+c+e.padding,e.height??0);let f;const{cssStyles:g}=e;if(e.look==="handDrawn"){const p=Nt.svg(i),v=Gme(0,0,o,h,l,c),x=Yme(0,c,o,h,l,c),b=p.path(v,At(e,{})),_=p.path(x,At(e,{fill:"none"}));f=i.insert(()=>_,":first-child"),f=i.insert(()=>b,":first-child"),f.attr("class","basic label-container"),g&&f.attr("style",g)}else{const p=Hme(0,0,o,h,l,c);f=i.insert("path",":first-child").attr("d",p).attr("class","basic label-container").attr("style",Rs(g)).attr("style",n)}return f.attr("label-offset-y",c),f.attr("transform",`translate(${-o/2}, ${-(h/2+c)})`),Pt(e,f),a.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+(e.padding??0)/1.5-(s.y-(s.top??0))})`),e.intersect=function(p){const v=it.rect(e,p),x=v.x-(e.x??0);if(l!=0&&(Math.abs(x)<(e.width??0)/2||Math.abs(x)==(e.width??0)/2&&Math.abs(v.y-(e.y??0))>(e.height??0)/2-c)){let b=c*c*(1-x*x/(l*l));b>0&&(b=Math.sqrt(b)),b=c-b,p.y-(e.y??0)>0&&(b=-b),v.y+=b}return v},i}M(TF,"cylinder");async function AF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await Qt(t,e,Yt(e)),o=s.width+e.padding,l=s.height+e.padding,c=l*.2,h=-o/2,f=-l/2-c/2,{cssStyles:g}=e,p=Nt.svg(i),v=At(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const x=[{x:h,y:f+c},{x:-h,y:f+c},{x:-h,y:-f},{x:h,y:-f},{x:h,y:f},{x:-h,y:f},{x:-h,y:f+c}],b=p.polygon(x.map(k=>[k.x,k.y]),v),_=i.insert(()=>b,":first-child");return _.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",g),n&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",n),a.attr("transform",`translate(${h+(e.padding??0)/2-(s.x-(s.left??0))}, ${f+c+(e.padding??0)/2-(s.y-(s.top??0))})`),Pt(e,_),e.intersect=function(k){return it.rect(e,k)},i}M(AF,"dividedRectangle");async function EF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a}=await Qt(t,e,Yt(e)),l=s.width/2+a+5,c=s.width/2+a;let h;const{cssStyles:f}=e;if(e.look==="handDrawn"){const g=Nt.svg(i),p=At(e,{roughness:.2,strokeWidth:2.5}),v=At(e,{roughness:.2,strokeWidth:1.5}),x=g.circle(0,0,l*2,p),b=g.circle(0,0,c*2,v);h=i.insert("g",":first-child"),h.attr("class",Rs(e.cssClasses)).attr("style",Rs(f)),h.node()?.appendChild(x),h.node()?.appendChild(b)}else{h=i.insert("g",":first-child");const g=h.insert("circle",":first-child"),p=h.insert("circle");h.attr("class","basic label-container").attr("style",n),g.attr("class","outer-circle").attr("style",n).attr("r",l).attr("cx",0).attr("cy",0),p.attr("class","inner-circle").attr("style",n).attr("r",c).attr("cx",0).attr("cy",0)}return Pt(e,h),e.intersect=function(g){return Ue.info("DoubleCircle intersect",e,l,g),it.circle(e,l,g)},i}M(EF,"doublecircle");function jF(t,e,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=Et(e);e.label="",e.labelStyle=n;const s=t.insert("g").attr("class",Yt(e)).attr("id",e.domId??e.id),a=7,{cssStyles:o}=e,l=Nt.svg(s),{nodeBorder:c}=r,h=At(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(h.roughness=0);const f=l.circle(0,0,a*2,h),g=s.insert(()=>f,":first-child");return g.selectAll("path").attr("style",`fill: ${c} !important;`),o&&o.length>0&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",o),i&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",i),Pt(e,g),e.intersect=function(p){return Ue.info("filledCircle intersect",e,{radius:a,point:p}),it.circle(e,a,p)},s}M(jF,"filledCircle");async function LF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await Qt(t,e,Yt(e)),o=s.width+(e.padding??0),l=o+s.height,c=o+s.height,h=[{x:0,y:-l},{x:c,y:-l},{x:c/2,y:0}],{cssStyles:f}=e,g=Nt.svg(i),p=At(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=Lr(h),x=g.path(v,p),b=i.insert(()=>x,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`);return f&&e.look!=="handDrawn"&&b.selectChildren("path").attr("style",f),n&&e.look!=="handDrawn"&&b.selectChildren("path").attr("style",n),e.width=o,e.height=l,Pt(e,b),a.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-l/2+(e.padding??0)/2+(s.y-(s.top??0))})`),e.intersect=function(_){return Ue.info("Triangle intersect",e,h,_),it.polygon(e,h,_)},i}M(LF,"flippedTriangle");function PF(t,e,{dir:r,config:{state:n,themeVariables:i}}){const{nodeStyles:s}=Et(e);e.label="";const a=t.insert("g").attr("class",Yt(e)).attr("id",e.domId??e.id),{cssStyles:o}=e;let l=Math.max(70,e?.width??0),c=Math.max(10,e?.height??0);r==="LR"&&(l=Math.max(10,e?.width??0),c=Math.max(70,e?.height??0));const h=-1*l/2,f=-1*c/2,g=Nt.svg(a),p=At(e,{stroke:i.lineColor,fill:i.lineColor});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=g.rectangle(h,f,l,c,p),x=a.insert(()=>v,":first-child");o&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",o),s&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",s),Pt(e,x);const b=n?.padding??0;return e.width&&e.height&&(e.width+=b/2||0,e.height+=b/2||0),e.intersect=function(_){return it.rect(e,_)},a}M(PF,"forkJoin");async function RF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const i=80,s=50,{shapeSvg:a,bbox:o}=await Qt(t,e,Yt(e)),l=Math.max(i,o.width+(e.padding??0)*2,e?.width??0),c=Math.max(s,o.height+(e.padding??0)*2,e?.height??0),h=c/2,{cssStyles:f}=e,g=Nt.svg(a),p=At(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=[{x:-l/2,y:-c/2},{x:l/2-h,y:-c/2},...Yg(-l/2+h,0,h,50,90,270),{x:l/2-h,y:c/2},{x:-l/2,y:c/2}],x=Lr(v),b=g.path(x,p),_=a.insert(()=>b,":first-child");return _.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",f),n&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",n),Pt(e,_),e.intersect=function(k){return Ue.info("Pill intersect",e,{radius:h,point:k}),it.polygon(e,v,k)},a}M(RF,"halfRoundedRectangle");async function MF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await Qt(t,e,Yt(e)),a=s.height+(e.padding??0),o=s.width+(e.padding??0)*2.5,{cssStyles:l}=e,c=Nt.svg(i),h=At(e,{});e.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");let f=o/2;const g=f/6;f=f+g;const p=a/2,v=p/2,x=f-v,b=[{x:-x,y:-p},{x:0,y:-p},{x,y:-p},{x:f,y:0},{x,y:p},{x:0,y:p},{x:-x,y:p},{x:-f,y:0}],_=Lr(b),k=c.path(_,h),N=i.insert(()=>k,":first-child");return N.attr("class","basic label-container"),l&&e.look!=="handDrawn"&&N.selectChildren("path").attr("style",l),n&&e.look!=="handDrawn"&&N.selectChildren("path").attr("style",n),e.width=o,e.height=a,Pt(e,N),e.intersect=function(j){return it.polygon(e,b,j)},i}M(MF,"hexagon");async function OF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.label="",e.labelStyle=r;const{shapeSvg:i}=await Qt(t,e,Yt(e)),s=Math.max(30,e?.width??0),a=Math.max(30,e?.height??0),{cssStyles:o}=e,l=Nt.svg(i),c=At(e,{});e.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");const h=[{x:0,y:0},{x:s,y:0},{x:0,y:a},{x:s,y:a}],f=Lr(h),g=l.path(f,c),p=i.insert(()=>g,":first-child");return p.attr("class","basic label-container"),o&&e.look!=="handDrawn"&&p.selectChildren("path").attr("style",o),n&&e.look!=="handDrawn"&&p.selectChildren("path").attr("style",n),p.attr("transform",`translate(${-s/2}, ${-a/2})`),Pt(e,p),e.intersect=function(v){return Ue.info("Pill intersect",e,{points:h}),it.polygon(e,h,v)},i}M(OF,"hourglass");async function IF(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=Et(e);e.labelStyle=i;const s=e.assetHeight??48,a=e.assetWidth??48,o=Math.max(s,a),l=n?.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:c,bbox:h,label:f}=await Qt(t,e,"icon-shape default"),g=e.pos==="t",p=o,v=o,{nodeBorder:x}=r,{stylesMap:b}=Kp(e),_=-v/2,k=-p/2,N=e.label?8:0,j=Nt.svg(c),P=At(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(P.roughness=0,P.fillStyle="solid");const F=j.rectangle(_,k,v,p,P),D=Math.max(v,h.width),U=p+h.height+N,z=j.rectangle(-D/2,-U/2,D,U,{...P,fill:"transparent",stroke:"none"}),K=c.insert(()=>F,":first-child"),B=c.insert(()=>z);if(e.icon){const q=c.append("g");q.html(`<g>${await N0(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const W=q.node().getBBox(),$=W.width,Q=W.height,ee=W.x,se=W.y;q.attr("transform",`translate(${-$/2-ee},${g?h.height/2+N/2-Q/2-se:-h.height/2-N/2-Q/2-se})`),q.attr("style",`color: ${b.get("stroke")??x};`)}return f.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${g?-U/2:U/2-h.height})`),K.attr("transform",`translate(0,${g?h.height/2+N/2:-h.height/2-N/2})`),Pt(e,B),e.intersect=function(q){if(Ue.info("iconSquare intersect",e,q),!e.label)return it.rect(e,q);const W=e.x??0,$=e.y??0,Q=e.height??0;let ee=[];return g?ee=[{x:W-h.width/2,y:$-Q/2},{x:W+h.width/2,y:$-Q/2},{x:W+h.width/2,y:$-Q/2+h.height+N},{x:W+v/2,y:$-Q/2+h.height+N},{x:W+v/2,y:$+Q/2},{x:W-v/2,y:$+Q/2},{x:W-v/2,y:$-Q/2+h.height+N},{x:W-h.width/2,y:$-Q/2+h.height+N}]:ee=[{x:W-v/2,y:$-Q/2},{x:W+v/2,y:$-Q/2},{x:W+v/2,y:$-Q/2+p},{x:W+h.width/2,y:$-Q/2+p},{x:W+h.width/2/2,y:$+Q/2},{x:W-h.width/2,y:$+Q/2},{x:W-h.width/2,y:$-Q/2+p},{x:W-v/2,y:$-Q/2+p}],it.polygon(e,ee,q)},c}M(IF,"icon");async function DF(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=Et(e);e.labelStyle=i;const s=e.assetHeight??48,a=e.assetWidth??48,o=Math.max(s,a),l=n?.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:c,bbox:h,label:f}=await Qt(t,e,"icon-shape default"),g=20,p=e.label?8:0,v=e.pos==="t",{nodeBorder:x,mainBkg:b}=r,{stylesMap:_}=Kp(e),k=Nt.svg(c),N=At(e,{});e.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const j=_.get("fill");N.stroke=j??b;const P=c.append("g");e.icon&&P.html(`<g>${await N0(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const F=P.node().getBBox(),D=F.width,U=F.height,z=F.x,K=F.y,B=Math.max(D,U)*Math.SQRT2+g*2,q=k.circle(0,0,B,N),W=Math.max(B,h.width),$=B+h.height+p,Q=k.rectangle(-W/2,-$/2,W,$,{...N,fill:"transparent",stroke:"none"}),ee=c.insert(()=>q,":first-child"),se=c.insert(()=>Q);return P.attr("transform",`translate(${-D/2-z},${v?h.height/2+p/2-U/2-K:-h.height/2-p/2-U/2-K})`),P.attr("style",`color: ${_.get("stroke")??x};`),f.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${v?-$/2:$/2-h.height})`),ee.attr("transform",`translate(0,${v?h.height/2+p/2:-h.height/2-p/2})`),Pt(e,se),e.intersect=function(V){return Ue.info("iconSquare intersect",e,V),it.rect(e,V)},c}M(DF,"iconCircle");async function BF(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=Et(e);e.labelStyle=i;const s=e.assetHeight??48,a=e.assetWidth??48,o=Math.max(s,a),l=n?.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:c,bbox:h,halfPadding:f,label:g}=await Qt(t,e,"icon-shape default"),p=e.pos==="t",v=o+f*2,x=o+f*2,{nodeBorder:b,mainBkg:_}=r,{stylesMap:k}=Kp(e),N=-x/2,j=-v/2,P=e.label?8:0,F=Nt.svg(c),D=At(e,{});e.look!=="handDrawn"&&(D.roughness=0,D.fillStyle="solid");const U=k.get("fill");D.stroke=U??_;const z=F.path(xh(N,j,x,v,5),D),K=Math.max(x,h.width),B=v+h.height+P,q=F.rectangle(-K/2,-B/2,K,B,{...D,fill:"transparent",stroke:"none"}),W=c.insert(()=>z,":first-child").attr("class","icon-shape2"),$=c.insert(()=>q);if(e.icon){const Q=c.append("g");Q.html(`<g>${await N0(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const ee=Q.node().getBBox(),se=ee.width,V=ee.height,re=ee.x,pe=ee.y;Q.attr("transform",`translate(${-se/2-re},${p?h.height/2+P/2-V/2-pe:-h.height/2-P/2-V/2-pe})`),Q.attr("style",`color: ${k.get("stroke")??b};`)}return g.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${p?-B/2:B/2-h.height})`),W.attr("transform",`translate(0,${p?h.height/2+P/2:-h.height/2-P/2})`),Pt(e,$),e.intersect=function(Q){if(Ue.info("iconSquare intersect",e,Q),!e.label)return it.rect(e,Q);const ee=e.x??0,se=e.y??0,V=e.height??0;let re=[];return p?re=[{x:ee-h.width/2,y:se-V/2},{x:ee+h.width/2,y:se-V/2},{x:ee+h.width/2,y:se-V/2+h.height+P},{x:ee+x/2,y:se-V/2+h.height+P},{x:ee+x/2,y:se+V/2},{x:ee-x/2,y:se+V/2},{x:ee-x/2,y:se-V/2+h.height+P},{x:ee-h.width/2,y:se-V/2+h.height+P}]:re=[{x:ee-x/2,y:se-V/2},{x:ee+x/2,y:se-V/2},{x:ee+x/2,y:se-V/2+v},{x:ee+h.width/2,y:se-V/2+v},{x:ee+h.width/2/2,y:se+V/2},{x:ee-h.width/2,y:se+V/2},{x:ee-h.width/2,y:se-V/2+v},{x:ee-x/2,y:se-V/2+v}],it.polygon(e,re,Q)},c}M(BF,"iconRounded");async function FF(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=Et(e);e.labelStyle=i;const s=e.assetHeight??48,a=e.assetWidth??48,o=Math.max(s,a),l=n?.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:c,bbox:h,halfPadding:f,label:g}=await Qt(t,e,"icon-shape default"),p=e.pos==="t",v=o+f*2,x=o+f*2,{nodeBorder:b,mainBkg:_}=r,{stylesMap:k}=Kp(e),N=-x/2,j=-v/2,P=e.label?8:0,F=Nt.svg(c),D=At(e,{});e.look!=="handDrawn"&&(D.roughness=0,D.fillStyle="solid");const U=k.get("fill");D.stroke=U??_;const z=F.path(xh(N,j,x,v,.1),D),K=Math.max(x,h.width),B=v+h.height+P,q=F.rectangle(-K/2,-B/2,K,B,{...D,fill:"transparent",stroke:"none"}),W=c.insert(()=>z,":first-child"),$=c.insert(()=>q);if(e.icon){const Q=c.append("g");Q.html(`<g>${await N0(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const ee=Q.node().getBBox(),se=ee.width,V=ee.height,re=ee.x,pe=ee.y;Q.attr("transform",`translate(${-se/2-re},${p?h.height/2+P/2-V/2-pe:-h.height/2-P/2-V/2-pe})`),Q.attr("style",`color: ${k.get("stroke")??b};`)}return g.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${p?-B/2:B/2-h.height})`),W.attr("transform",`translate(0,${p?h.height/2+P/2:-h.height/2-P/2})`),Pt(e,$),e.intersect=function(Q){if(Ue.info("iconSquare intersect",e,Q),!e.label)return it.rect(e,Q);const ee=e.x??0,se=e.y??0,V=e.height??0;let re=[];return p?re=[{x:ee-h.width/2,y:se-V/2},{x:ee+h.width/2,y:se-V/2},{x:ee+h.width/2,y:se-V/2+h.height+P},{x:ee+x/2,y:se-V/2+h.height+P},{x:ee+x/2,y:se+V/2},{x:ee-x/2,y:se+V/2},{x:ee-x/2,y:se-V/2+h.height+P},{x:ee-h.width/2,y:se-V/2+h.height+P}]:re=[{x:ee-x/2,y:se-V/2},{x:ee+x/2,y:se-V/2},{x:ee+x/2,y:se-V/2+v},{x:ee+h.width/2,y:se-V/2+v},{x:ee+h.width/2/2,y:se+V/2},{x:ee-h.width/2,y:se+V/2},{x:ee-h.width/2,y:se-V/2+v},{x:ee-x/2,y:se-V/2+v}],it.polygon(e,re,Q)},c}M(FF,"iconSquare");async function $F(t,e,{config:{flowchart:r}}){const n=new Image;n.src=e?.img??"",await n.decode();const i=Number(n.naturalWidth.toString().replace("px","")),s=Number(n.naturalHeight.toString().replace("px",""));e.imageAspectRatio=i/s;const{labelStyles:a}=Et(e);e.labelStyle=a;const o=r?.wrappingWidth;e.defaultWidth=r?.wrappingWidth;const l=Math.max(e.label?o??0:0,e?.assetWidth??i),c=e.constraint==="on"&&e?.assetHeight?e.assetHeight*e.imageAspectRatio:l,h=e.constraint==="on"?c/e.imageAspectRatio:e?.assetHeight??s;e.width=Math.max(c,o??0);const{shapeSvg:f,bbox:g,label:p}=await Qt(t,e,"image-shape default"),v=e.pos==="t",x=-c/2,b=-h/2,_=e.label?8:0,k=Nt.svg(f),N=At(e,{});e.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const j=k.rectangle(x,b,c,h,N),P=Math.max(c,g.width),F=h+g.height+_,D=k.rectangle(-P/2,-F/2,P,F,{...N,fill:"none",stroke:"none"}),U=f.insert(()=>j,":first-child"),z=f.insert(()=>D);if(e.img){const K=f.append("image");K.attr("href",e.img),K.attr("width",c),K.attr("height",h),K.attr("preserveAspectRatio","none"),K.attr("transform",`translate(${-c/2},${v?F/2-h:-F/2})`)}return p.attr("transform",`translate(${-g.width/2-(g.x-(g.left??0))},${v?-h/2-g.height/2-_/2:h/2-g.height/2+_/2})`),U.attr("transform",`translate(0,${v?g.height/2+_/2:-g.height/2-_/2})`),Pt(e,z),e.intersect=function(K){if(Ue.info("iconSquare intersect",e,K),!e.label)return it.rect(e,K);const B=e.x??0,q=e.y??0,W=e.height??0;let $=[];return v?$=[{x:B-g.width/2,y:q-W/2},{x:B+g.width/2,y:q-W/2},{x:B+g.width/2,y:q-W/2+g.height+_},{x:B+c/2,y:q-W/2+g.height+_},{x:B+c/2,y:q+W/2},{x:B-c/2,y:q+W/2},{x:B-c/2,y:q-W/2+g.height+_},{x:B-g.width/2,y:q-W/2+g.height+_}]:$=[{x:B-c/2,y:q-W/2},{x:B+c/2,y:q-W/2},{x:B+c/2,y:q-W/2+h},{x:B+g.width/2,y:q-W/2+h},{x:B+g.width/2/2,y:q+W/2},{x:B-g.width/2,y:q+W/2},{x:B-g.width/2,y:q-W/2+h},{x:B-c/2,y:q-W/2+h}],it.polygon(e,$,K)},f}M($F,"imageSquare");async function zF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await Qt(t,e,Yt(e)),a=Math.max(s.width+(e.padding??0)*2,e?.width??0),o=Math.max(s.height+(e.padding??0)*2,e?.height??0),l=[{x:0,y:0},{x:a,y:0},{x:a+3*o/6,y:-o},{x:-3*o/6,y:-o}];let c;const{cssStyles:h}=e;if(e.look==="handDrawn"){const f=Nt.svg(i),g=At(e,{}),p=Lr(l),v=f.path(p,g);c=i.insert(()=>v,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),h&&c.attr("style",h)}else c=bh(i,a,o,l);return n&&c.attr("style",n),e.width=a,e.height=o,Pt(e,c),e.intersect=function(f){return it.polygon(e,l,f)},i}M(zF,"inv_trapezoid");async function Xx(t,e,r){const{labelStyles:n,nodeStyles:i}=Et(e);e.labelStyle=n;const{shapeSvg:s,bbox:a}=await Qt(t,e,Yt(e)),o=Math.max(a.width+r.labelPaddingX*2,e?.width||0),l=Math.max(a.height+r.labelPaddingY*2,e?.height||0),c=-o/2,h=-l/2;let f,{rx:g,ry:p}=e;const{cssStyles:v}=e;if(r?.rx&&r.ry&&(g=r.rx,p=r.ry),e.look==="handDrawn"){const x=Nt.svg(s),b=At(e,{}),_=g||p?x.path(xh(c,h,o,l,g||0),b):x.rectangle(c,h,o,l,b);f=s.insert(()=>_,":first-child"),f.attr("class","basic label-container").attr("style",Rs(v))}else f=s.insert("rect",":first-child"),f.attr("class","basic label-container").attr("style",i).attr("rx",Rs(g)).attr("ry",Rs(p)).attr("x",c).attr("y",h).attr("width",o).attr("height",l);return Pt(e,f),e.calcIntersect=function(x,b){return it.rect(x,b)},e.intersect=function(x){return it.rect(e,x)},s}M(Xx,"drawRect");async function UF(t,e){const{shapeSvg:r,bbox:n,label:i}=await Qt(t,e,"label"),s=r.insert("rect",":first-child");return s.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),Pt(e,s),e.intersect=function(l){return it.rect(e,l)},r}M(UF,"labelRect");async function qF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await Qt(t,e,Yt(e)),a=Math.max(s.width+(e.padding??0),e?.width??0),o=Math.max(s.height+(e.padding??0),e?.height??0),l=[{x:0,y:0},{x:a+3*o/6,y:0},{x:a,y:-o},{x:-(3*o)/6,y:-o}];let c;const{cssStyles:h}=e;if(e.look==="handDrawn"){const f=Nt.svg(i),g=At(e,{}),p=Lr(l),v=f.path(p,g);c=i.insert(()=>v,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),h&&c.attr("style",h)}else c=bh(i,a,o,l);return n&&c.attr("style",n),e.width=a,e.height=o,Pt(e,c),e.intersect=function(f){return it.polygon(e,l,f)},i}M(qF,"lean_left");async function WF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await Qt(t,e,Yt(e)),a=Math.max(s.width+(e.padding??0),e?.width??0),o=Math.max(s.height+(e.padding??0),e?.height??0),l=[{x:-3*o/6,y:0},{x:a,y:0},{x:a+3*o/6,y:-o},{x:0,y:-o}];let c;const{cssStyles:h}=e;if(e.look==="handDrawn"){const f=Nt.svg(i),g=At(e,{}),p=Lr(l),v=f.path(p,g);c=i.insert(()=>v,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),h&&c.attr("style",h)}else c=bh(i,a,o,l);return n&&c.attr("style",n),e.width=a,e.height=o,Pt(e,c),e.intersect=function(f){return it.polygon(e,l,f)},i}M(WF,"lean_right");function VF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.label="",e.labelStyle=r;const i=t.insert("g").attr("class",Yt(e)).attr("id",e.domId??e.id),{cssStyles:s}=e,a=Math.max(35,e?.width??0),o=Math.max(35,e?.height??0),l=7,c=[{x:a,y:0},{x:0,y:o+l/2},{x:a-2*l,y:o+l/2},{x:0,y:2*o},{x:a,y:o-l/2},{x:2*l,y:o-l/2}],h=Nt.svg(i),f=At(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=Lr(c),p=h.path(g,f),v=i.insert(()=>p,":first-child");return s&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",s),n&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",n),v.attr("transform",`translate(-${a/2},${-o})`),Pt(e,v),e.intersect=function(x){return Ue.info("lightningBolt intersect",e,x),it.polygon(e,c,x)},i}M(VF,"lightningBolt");var Kme=M((t,e,r,n,i,s,a)=>[`M${t},${e+s}`,`a${i},${s} 0,0,0 ${r},0`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`,`M${t},${e+s+a}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),Xme=M((t,e,r,n,i,s,a)=>[`M${t},${e+s}`,`M${t+r},${e+s}`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`,`M${t},${e+s+a}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),Jme=M((t,e,r,n,i,s)=>[`M${t-r/2},${-n/2}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function HF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await Qt(t,e,Yt(e)),o=Math.max(s.width+(e.padding??0),e.width??0),l=o/2,c=l/(2.5+o/50),h=Math.max(s.height+c+(e.padding??0),e.height??0),f=h*.1;let g;const{cssStyles:p}=e;if(e.look==="handDrawn"){const v=Nt.svg(i),x=Xme(0,0,o,h,l,c,f),b=Jme(0,c,o,h,l,c),_=At(e,{}),k=v.path(x,_),N=v.path(b,_);i.insert(()=>N,":first-child").attr("class","line"),g=i.insert(()=>k,":first-child"),g.attr("class","basic label-container"),p&&g.attr("style",p)}else{const v=Kme(0,0,o,h,l,c,f);g=i.insert("path",":first-child").attr("d",v).attr("class","basic label-container").attr("style",Rs(p)).attr("style",n)}return g.attr("label-offset-y",c),g.attr("transform",`translate(${-o/2}, ${-(h/2+c)})`),Pt(e,g),a.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+c-(s.y-(s.top??0))})`),e.intersect=function(v){const x=it.rect(e,v),b=x.x-(e.x??0);if(l!=0&&(Math.abs(b)<(e.width??0)/2||Math.abs(b)==(e.width??0)/2&&Math.abs(x.y-(e.y??0))>(e.height??0)/2-c)){let _=c*c*(1-b*b/(l*l));_>0&&(_=Math.sqrt(_)),_=c-_,v.y-(e.y??0)>0&&(_=-_),x.y+=_}return x},i}M(HF,"linedCylinder");async function GF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await Qt(t,e,Yt(e)),o=Math.max(s.width+(e.padding??0)*2,e?.width??0),l=Math.max(s.height+(e.padding??0)*2,e?.height??0),c=l/4,h=l+c,{cssStyles:f}=e,g=Nt.svg(i),p=At(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=[{x:-o/2-o/2*.1,y:-h/2},{x:-o/2-o/2*.1,y:h/2},...dh(-o/2-o/2*.1,h/2,o/2+o/2*.1,h/2,c,.8),{x:o/2+o/2*.1,y:-h/2},{x:-o/2-o/2*.1,y:-h/2},{x:-o/2,y:-h/2},{x:-o/2,y:h/2*1.1},{x:-o/2,y:-h/2}],x=g.polygon(v.map(_=>[_.x,_.y]),p),b=i.insert(()=>x,":first-child");return b.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(0,${-c/2})`),a.attr("transform",`translate(${-o/2+(e.padding??0)+o/2*.1/2-(s.x-(s.left??0))},${-l/2+(e.padding??0)-c/2-(s.y-(s.top??0))})`),Pt(e,b),e.intersect=function(_){return it.polygon(e,v,_)},i}M(GF,"linedWaveEdgedRect");async function YF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await Qt(t,e,Yt(e)),o=Math.max(s.width+(e.padding??0)*2,e?.width??0),l=Math.max(s.height+(e.padding??0)*2,e?.height??0),c=5,h=-o/2,f=-l/2,{cssStyles:g}=e,p=Nt.svg(i),v=At(e,{}),x=[{x:h-c,y:f+c},{x:h-c,y:f+l+c},{x:h+o-c,y:f+l+c},{x:h+o-c,y:f+l},{x:h+o,y:f+l},{x:h+o,y:f+l-c},{x:h+o+c,y:f+l-c},{x:h+o+c,y:f-c},{x:h+c,y:f-c},{x:h+c,y:f},{x:h,y:f},{x:h,y:f+c}],b=[{x:h,y:f+c},{x:h+o-c,y:f+c},{x:h+o-c,y:f+l},{x:h+o,y:f+l},{x:h+o,y:f},{x:h,y:f}];e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const _=Lr(x),k=p.path(_,v),N=Lr(b),j=p.path(N,{...v,fill:"none"}),P=i.insert(()=>j,":first-child");return P.insert(()=>k,":first-child"),P.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",g),n&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",n),a.attr("transform",`translate(${-(s.width/2)-c-(s.x-(s.left??0))}, ${-(s.height/2)+c-(s.y-(s.top??0))})`),Pt(e,P),e.intersect=function(F){return it.polygon(e,x,F)},i}M(YF,"multiRect");async function KF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await Qt(t,e,Yt(e)),o=Math.max(s.width+(e.padding??0)*2,e?.width??0),l=Math.max(s.height+(e.padding??0)*2,e?.height??0),c=l/4,h=l+c,f=-o/2,g=-h/2,p=5,{cssStyles:v}=e,x=dh(f-p,g+h+p,f+o-p,g+h+p,c,.8),b=x?.[x.length-1],_=[{x:f-p,y:g+p},{x:f-p,y:g+h+p},...x,{x:f+o-p,y:b.y-p},{x:f+o,y:b.y-p},{x:f+o,y:b.y-2*p},{x:f+o+p,y:b.y-2*p},{x:f+o+p,y:g-p},{x:f+p,y:g-p},{x:f+p,y:g},{x:f,y:g},{x:f,y:g+p}],k=[{x:f,y:g+p},{x:f+o-p,y:g+p},{x:f+o-p,y:b.y-p},{x:f+o,y:b.y-p},{x:f+o,y:g},{x:f,y:g}],N=Nt.svg(i),j=At(e,{});e.look!=="handDrawn"&&(j.roughness=0,j.fillStyle="solid");const P=Lr(_),F=N.path(P,j),D=Lr(k),U=N.path(D,j),z=i.insert(()=>F,":first-child");return z.insert(()=>U),z.attr("class","basic label-container"),v&&e.look!=="handDrawn"&&z.selectAll("path").attr("style",v),n&&e.look!=="handDrawn"&&z.selectAll("path").attr("style",n),z.attr("transform",`translate(0,${-c/2})`),a.attr("transform",`translate(${-(s.width/2)-p-(s.x-(s.left??0))}, ${-(s.height/2)+p-c/2-(s.y-(s.top??0))})`),Pt(e,z),e.intersect=function(K){return it.polygon(e,_,K)},i}M(KF,"multiWaveEdgedRectangle");async function XF(t,e,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=Et(e);e.labelStyle=n,e.useHtmlLabels||Ls().flowchart?.htmlLabels!==!1||(e.centerLabel=!0);const{shapeSvg:a,bbox:o,label:l}=await Qt(t,e,Yt(e)),c=Math.max(o.width+(e.padding??0)*2,e?.width??0),h=Math.max(o.height+(e.padding??0)*2,e?.height??0),f=-c/2,g=-h/2,{cssStyles:p}=e,v=Nt.svg(a),x=At(e,{fill:r.noteBkgColor,stroke:r.noteBorderColor});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const b=v.rectangle(f,g,c,h,x),_=a.insert(()=>b,":first-child");return _.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",p),i&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",i),l.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${-(o.height/2)-(o.y-(o.top??0))})`),Pt(e,_),e.intersect=function(k){return it.rect(e,k)},a}M(XF,"note");var Zme=M((t,e,r)=>[`M${t+r/2},${e}`,`L${t+r},${e-r/2}`,`L${t+r/2},${e-r}`,`L${t},${e-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function JF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await Qt(t,e,Yt(e)),a=s.width+e.padding,o=s.height+e.padding,l=a+o,c=.5,h=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];let f;const{cssStyles:g}=e;if(e.look==="handDrawn"){const p=Nt.svg(i),v=At(e,{}),x=Zme(0,0,l),b=p.path(x,v);f=i.insert(()=>b,":first-child").attr("transform",`translate(${-l/2+c}, ${l/2})`),g&&f.attr("style",g)}else f=bh(i,l,l,h),f.attr("transform",`translate(${-l/2+c}, ${l/2})`);return n&&f.attr("style",n),Pt(e,f),e.calcIntersect=function(p,v){const x=p.width,b=[{x:x/2,y:0},{x,y:-x/2},{x:x/2,y:-x},{x:0,y:-x/2}],_=it.polygon(p,b,v);return{x:_.x-.5,y:_.y-.5}},e.intersect=function(p){return this.calcIntersect(e,p)},i}M(JF,"question");async function ZF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await Qt(t,e,Yt(e)),o=Math.max(s.width+(e.padding??0),e?.width??0),l=Math.max(s.height+(e.padding??0),e?.height??0),c=-o/2,h=-l/2,f=h/2,g=[{x:c+f,y:h},{x:c,y:0},{x:c+f,y:-h},{x:-c,y:-h},{x:-c,y:h}],{cssStyles:p}=e,v=Nt.svg(i),x=At(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const b=Lr(g),_=v.path(b,x),k=i.insert(()=>_,":first-child");return k.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",n),k.attr("transform",`translate(${-f/2},0)`),a.attr("transform",`translate(${-f/2-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Pt(e,k),e.intersect=function(N){return it.polygon(e,g,N)},i}M(ZF,"rect_left_inv_arrow");async function QF(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;let i;e.cssClasses?i="node "+e.cssClasses:i="node default";const s=t.insert("g").attr("class",i).attr("id",e.domId||e.id),a=s.insert("g"),o=s.insert("g").attr("class","label").attr("style",n),l=e.description,c=e.label,h=o.node().appendChild(await vd(c,e.labelStyle,!0,!0));let f={width:0,height:0};if(zi(en()?.flowchart?.htmlLabels)){const U=h.children[0],z=Br(h);f=U.getBoundingClientRect(),z.attr("width",f.width),z.attr("height",f.height)}Ue.info("Text 2",l);const g=l||[],p=h.getBBox(),v=o.node().appendChild(await vd(g.join?g.join("<br/>"):g,e.labelStyle,!0,!0)),x=v.children[0],b=Br(v);f=x.getBoundingClientRect(),b.attr("width",f.width),b.attr("height",f.height);const _=(e.padding||0)/2;Br(v).attr("transform","translate( "+(f.width>p.width?0:(p.width-f.width)/2)+", "+(p.height+_+5)+")"),Br(h).attr("transform","translate( "+(f.width<p.width?0:-(p.width-f.width)/2)+", 0)"),f=o.node().getBBox(),o.attr("transform","translate("+-f.width/2+", "+(-f.height/2-_+3)+")");const k=f.width+(e.padding||0),N=f.height+(e.padding||0),j=-f.width/2-_,P=-f.height/2-_;let F,D;if(e.look==="handDrawn"){const U=Nt.svg(s),z=At(e,{}),K=U.path(xh(j,P,k,N,e.rx||0),z),B=U.line(-f.width/2-_,-f.height/2-_+p.height+_,f.width/2+_,-f.height/2-_+p.height+_,z);D=s.insert(()=>(Ue.debug("Rough node insert CXC",K),B),":first-child"),F=s.insert(()=>(Ue.debug("Rough node insert CXC",K),K),":first-child")}else F=a.insert("rect",":first-child"),D=a.insert("line"),F.attr("class","outer title-state").attr("style",n).attr("x",-f.width/2-_).attr("y",-f.height/2-_).attr("width",f.width+(e.padding||0)).attr("height",f.height+(e.padding||0)),D.attr("class","divider").attr("x1",-f.width/2-_).attr("x2",f.width/2+_).attr("y1",-f.height/2-_+p.height+_).attr("y2",-f.height/2-_+p.height+_);return Pt(e,F),e.intersect=function(U){return it.rect(e,U)},s}M(QF,"rectWithTitle");function rg(t,e,r,n,i,s,a){const l=(t+r)/2,c=(e+n)/2,h=Math.atan2(n-e,r-t),f=(r-t)/2,g=(n-e)/2,p=f/i,v=g/s,x=Math.sqrt(p**2+v**2);if(x>1)throw new Error("The given radii are too small to create an arc between the points.");const b=Math.sqrt(1-x**2),_=l+b*s*Math.sin(h)*(a?-1:1),k=c-b*i*Math.cos(h)*(a?-1:1),N=Math.atan2((e-k)/s,(t-_)/i);let P=Math.atan2((n-k)/s,(r-_)/i)-N;a&&P<0&&(P+=2*Math.PI),!a&&P>0&&(P-=2*Math.PI);const F=[];for(let D=0;D<20;D++){const U=D/19,z=N+U*P,K=_+i*Math.cos(z),B=k+s*Math.sin(z);F.push({x:K,y:B})}return F}M(rg,"generateArcPoints");async function e7(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await Qt(t,e,Yt(e)),a=e?.padding??0,o=e?.padding??0,l=(e?.width?e?.width:s.width)+a*2,c=(e?.height?e?.height:s.height)+o*2,h=e.radius||5,f=e.taper||5,{cssStyles:g}=e,p=Nt.svg(i),v=At(e,{});e.stroke&&(v.stroke=e.stroke),e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const x=[{x:-l/2+f,y:-c/2},{x:l/2-f,y:-c/2},...rg(l/2-f,-c/2,l/2,-c/2+f,h,h,!0),{x:l/2,y:-c/2+f},{x:l/2,y:c/2-f},...rg(l/2,c/2-f,l/2-f,c/2,h,h,!0),{x:l/2-f,y:c/2},{x:-l/2+f,y:c/2},...rg(-l/2+f,c/2,-l/2,c/2-f,h,h,!0),{x:-l/2,y:c/2-f},{x:-l/2,y:-c/2+f},...rg(-l/2,-c/2+f,-l/2+f,-c/2,h,h,!0)],b=Lr(x),_=p.path(b,v),k=i.insert(()=>_,":first-child");return k.attr("class","basic label-container outer-path"),g&&e.look!=="handDrawn"&&k.selectChildren("path").attr("style",g),n&&e.look!=="handDrawn"&&k.selectChildren("path").attr("style",n),Pt(e,k),e.intersect=function(N){return it.polygon(e,x,N)},i}M(e7,"roundedRect");async function t7(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await Qt(t,e,Yt(e)),o=e?.padding??0,l=Math.max(s.width+(e.padding??0)*2,e?.width??0),c=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=-s.width/2-o,f=-s.height/2-o,{cssStyles:g}=e,p=Nt.svg(i),v=At(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const x=[{x:h,y:f},{x:h+l+8,y:f},{x:h+l+8,y:f+c},{x:h-8,y:f+c},{x:h-8,y:f},{x:h,y:f},{x:h,y:f+c}],b=p.polygon(x.map(k=>[k.x,k.y]),v),_=i.insert(()=>b,":first-child");return _.attr("class","basic label-container").attr("style",Rs(g)),n&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",n),g&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",n),a.attr("transform",`translate(${-l/2+4+(e.padding??0)-(s.x-(s.left??0))},${-c/2+(e.padding??0)-(s.y-(s.top??0))})`),Pt(e,_),e.intersect=function(k){return it.rect(e,k)},i}M(t7,"shadedProcess");async function r7(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await Qt(t,e,Yt(e)),o=Math.max(s.width+(e.padding??0)*2,e?.width??0),l=Math.max(s.height+(e.padding??0)*2,e?.height??0),c=-o/2,h=-l/2,{cssStyles:f}=e,g=Nt.svg(i),p=At(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=[{x:c,y:h},{x:c,y:h+l},{x:c+o,y:h+l},{x:c+o,y:h-l/2}],x=Lr(v),b=g.path(x,p),_=i.insert(()=>b,":first-child");return _.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",f),n&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",n),_.attr("transform",`translate(0, ${l/4})`),a.attr("transform",`translate(${-o/2+(e.padding??0)-(s.x-(s.left??0))}, ${-l/4+(e.padding??0)-(s.y-(s.top??0))})`),Pt(e,_),e.intersect=function(k){return it.polygon(e,v,k)},i}M(r7,"slopedRect");async function n7(t,e){const r={rx:0,ry:0,labelPaddingX:e.labelPaddingX??(e?.padding||0)*2,labelPaddingY:(e?.padding||0)*1};return Xx(t,e,r)}M(n7,"squareRect");async function i7(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await Qt(t,e,Yt(e)),a=s.height+e.padding,o=s.width+a/4+e.padding,l=a/2,{cssStyles:c}=e,h=Nt.svg(i),f=At(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=[{x:-o/2+l,y:-a/2},{x:o/2-l,y:-a/2},...Yg(-o/2+l,0,l,50,90,270),{x:o/2-l,y:a/2},...Yg(o/2-l,0,l,50,270,450)],p=Lr(g),v=h.path(p,f),x=i.insert(()=>v,":first-child");return x.attr("class","basic label-container outer-path"),c&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",c),n&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),Pt(e,x),e.intersect=function(b){return it.polygon(e,g,b)},i}M(i7,"stadium");async function s7(t,e){return Xx(t,e,{rx:5,ry:5})}M(s7,"state");function a7(t,e,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=Et(e);e.labelStyle=n;const{cssStyles:s}=e,{lineColor:a,stateBorder:o,nodeBorder:l}=r,c=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),h=Nt.svg(c),f=At(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=h.circle(0,0,14,{...f,stroke:a,strokeWidth:2}),p=o??l,v=h.circle(0,0,5,{...f,fill:p,stroke:p,strokeWidth:2,fillStyle:"solid"}),x=c.insert(()=>g,":first-child");return x.insert(()=>v),s&&x.selectAll("path").attr("style",s),i&&x.selectAll("path").attr("style",i),Pt(e,x),e.intersect=function(b){return it.circle(e,7,b)},c}M(a7,"stateEnd");function o7(t,e,{config:{themeVariables:r}}){const{lineColor:n}=r,i=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let s;if(e.look==="handDrawn"){const o=Nt.svg(i).circle(0,0,14,dhe(n));s=i.insert(()=>o),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else s=i.insert("circle",":first-child"),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Pt(e,s),e.intersect=function(a){return it.circle(e,7,a)},i}M(o7,"stateStart");async function l7(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await Qt(t,e,Yt(e)),a=(e?.padding||0)/2,o=s.width+e.padding,l=s.height+e.padding,c=-s.width/2-a,h=-s.height/2-a,f=[{x:0,y:0},{x:o,y:0},{x:o,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(e.look==="handDrawn"){const g=Nt.svg(i),p=At(e,{}),v=g.rectangle(c-8,h,o+16,l,p),x=g.line(c,h,c,h+l,p),b=g.line(c+o,h,c+o,h+l,p);i.insert(()=>x,":first-child"),i.insert(()=>b,":first-child");const _=i.insert(()=>v,":first-child"),{cssStyles:k}=e;_.attr("class","basic label-container").attr("style",Rs(k)),Pt(e,_)}else{const g=bh(i,o,l,f);n&&g.attr("style",n),Pt(e,g)}return e.intersect=function(g){return it.polygon(e,f,g)},i}M(l7,"subroutine");async function c7(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await Qt(t,e,Yt(e)),a=Math.max(s.width+(e.padding??0)*2,e?.width??0),o=Math.max(s.height+(e.padding??0)*2,e?.height??0),l=-a/2,c=-o/2,h=.2*o,f=.2*o,{cssStyles:g}=e,p=Nt.svg(i),v=At(e,{}),x=[{x:l-h/2,y:c},{x:l+a+h/2,y:c},{x:l+a+h/2,y:c+o},{x:l-h/2,y:c+o}],b=[{x:l+a-h/2,y:c+o},{x:l+a+h/2,y:c+o},{x:l+a+h/2,y:c+o-f}];e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const _=Lr(x),k=p.path(_,v),N=Lr(b),j=p.path(N,{...v,fillStyle:"solid"}),P=i.insert(()=>j,":first-child");return P.insert(()=>k,":first-child"),P.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",g),n&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",n),Pt(e,P),e.intersect=function(F){return it.polygon(e,x,F)},i}M(c7,"taggedRect");async function u7(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await Qt(t,e,Yt(e)),o=Math.max(s.width+(e.padding??0)*2,e?.width??0),l=Math.max(s.height+(e.padding??0)*2,e?.height??0),c=l/4,h=.2*o,f=.2*l,g=l+c,{cssStyles:p}=e,v=Nt.svg(i),x=At(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const b=[{x:-o/2-o/2*.1,y:g/2},...dh(-o/2-o/2*.1,g/2,o/2+o/2*.1,g/2,c,.8),{x:o/2+o/2*.1,y:-g/2},{x:-o/2-o/2*.1,y:-g/2}],_=-o/2+o/2*.1,k=-g/2-f*.4,N=[{x:_+o-h,y:(k+l)*1.4},{x:_+o,y:k+l-f},{x:_+o,y:(k+l)*.9},...dh(_+o,(k+l)*1.3,_+o-h,(k+l)*1.5,-l*.03,.5)],j=Lr(b),P=v.path(j,x),F=Lr(N),D=v.path(F,{...x,fillStyle:"solid"}),U=i.insert(()=>D,":first-child");return U.insert(()=>P,":first-child"),U.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&U.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&U.selectAll("path").attr("style",n),U.attr("transform",`translate(0,${-c/2})`),a.attr("transform",`translate(${-o/2+(e.padding??0)-(s.x-(s.left??0))},${-l/2+(e.padding??0)-c/2-(s.y-(s.top??0))})`),Pt(e,U),e.intersect=function(z){return it.polygon(e,b,z)},i}M(u7,"taggedWaveEdgedRectangle");async function h7(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await Qt(t,e,Yt(e)),a=Math.max(s.width+e.padding,e?.width||0),o=Math.max(s.height+e.padding,e?.height||0),l=-a/2,c=-o/2,h=i.insert("rect",":first-child");return h.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",l).attr("y",c).attr("width",a).attr("height",o),Pt(e,h),e.intersect=function(f){return it.rect(e,f)},i}M(h7,"text");var Qme=M((t,e,r,n,i,s)=>`M${t},${e}
    a${i},${s} 0,0,1 0,${-n}
    l${r},0
    a${i},${s} 0,0,1 0,${n}
    M${r},${-n}
    a${i},${s} 0,0,0 0,${n}
    l${-r},0`,"createCylinderPathD"),ege=M((t,e,r,n,i,s)=>[`M${t},${e}`,`M${t+r},${e}`,`a${i},${s} 0,0,0 0,${-n}`,`l${-r},0`,`a${i},${s} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),tge=M((t,e,r,n,i,s)=>[`M${t+r/2},${-n/2}`,`a${i},${s} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD");async function d7(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a,halfPadding:o}=await Qt(t,e,Yt(e)),l=e.look==="neo"?o*2:o,c=s.height+l,h=c/2,f=h/(2.5+c/50),g=s.width+f+l,{cssStyles:p}=e;let v;if(e.look==="handDrawn"){const x=Nt.svg(i),b=ege(0,0,g,c,f,h),_=tge(0,0,g,c,f,h),k=x.path(b,At(e,{})),N=x.path(_,At(e,{fill:"none"}));v=i.insert(()=>N,":first-child"),v=i.insert(()=>k,":first-child"),v.attr("class","basic label-container"),p&&v.attr("style",p)}else{const x=Qme(0,0,g,c,f,h);v=i.insert("path",":first-child").attr("d",x).attr("class","basic label-container").attr("style",Rs(p)).attr("style",n),v.attr("class","basic label-container"),p&&v.selectAll("path").attr("style",p),n&&v.selectAll("path").attr("style",n)}return v.attr("label-offset-x",f),v.attr("transform",`translate(${-g/2}, ${c/2} )`),a.attr("transform",`translate(${-(s.width/2)-f-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Pt(e,v),e.intersect=function(x){const b=it.rect(e,x),_=b.y-(e.y??0);if(h!=0&&(Math.abs(_)<(e.height??0)/2||Math.abs(_)==(e.height??0)/2&&Math.abs(b.x-(e.x??0))>(e.width??0)/2-f)){let k=f*f*(1-_*_/(h*h));k!=0&&(k=Math.sqrt(Math.abs(k))),k=f-k,x.x-(e.x??0)>0&&(k=-k),b.x+=k}return b},i}M(d7,"tiltedCylinder");async function f7(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await Qt(t,e,Yt(e)),a=s.width+e.padding,o=s.height+e.padding,l=[{x:-3*o/6,y:0},{x:a+3*o/6,y:0},{x:a,y:-o},{x:0,y:-o}];let c;const{cssStyles:h}=e;if(e.look==="handDrawn"){const f=Nt.svg(i),g=At(e,{}),p=Lr(l),v=f.path(p,g);c=i.insert(()=>v,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),h&&c.attr("style",h)}else c=bh(i,a,o,l);return n&&c.attr("style",n),e.width=a,e.height=o,Pt(e,c),e.intersect=function(f){return it.polygon(e,l,f)},i}M(f7,"trapezoid");async function p7(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await Qt(t,e,Yt(e)),a=60,o=20,l=Math.max(a,s.width+(e.padding??0)*2,e?.width??0),c=Math.max(o,s.height+(e.padding??0)*2,e?.height??0),{cssStyles:h}=e,f=Nt.svg(i),g=At(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const p=[{x:-l/2*.8,y:-c/2},{x:l/2*.8,y:-c/2},{x:l/2,y:-c/2*.6},{x:l/2,y:c/2},{x:-l/2,y:c/2},{x:-l/2,y:-c/2*.6}],v=Lr(p),x=f.path(v,g),b=i.insert(()=>x,":first-child");return b.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&b.selectChildren("path").attr("style",h),n&&e.look!=="handDrawn"&&b.selectChildren("path").attr("style",n),Pt(e,b),e.intersect=function(_){return it.polygon(e,p,_)},i}M(p7,"trapezoidalPentagon");async function m7(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await Qt(t,e,Yt(e)),o=zi(en().flowchart?.htmlLabels),l=s.width+(e.padding??0),c=l+s.height,h=l+s.height,f=[{x:0,y:0},{x:h,y:0},{x:h/2,y:-c}],{cssStyles:g}=e,p=Nt.svg(i),v=At(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const x=Lr(f),b=p.path(x,v),_=i.insert(()=>b,":first-child").attr("transform",`translate(${-c/2}, ${c/2})`);return g&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",g),n&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",n),e.width=l,e.height=c,Pt(e,_),a.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${c/2-(s.height+(e.padding??0)/(o?2:1)-(s.y-(s.top??0)))})`),e.intersect=function(k){return Ue.info("Triangle intersect",e,f,k),it.polygon(e,f,k)},i}M(m7,"triangle");async function g7(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await Qt(t,e,Yt(e)),o=Math.max(s.width+(e.padding??0)*2,e?.width??0),l=Math.max(s.height+(e.padding??0)*2,e?.height??0),c=l/8,h=l+c,{cssStyles:f}=e,p=70-o,v=p>0?p/2:0,x=Nt.svg(i),b=At(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const _=[{x:-o/2-v,y:h/2},...dh(-o/2-v,h/2,o/2+v,h/2,c,.8),{x:o/2+v,y:-h/2},{x:-o/2-v,y:-h/2}],k=Lr(_),N=x.path(k,b),j=i.insert(()=>N,":first-child");return j.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&j.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&j.selectAll("path").attr("style",n),j.attr("transform",`translate(0,${-c/2})`),a.attr("transform",`translate(${-o/2+(e.padding??0)-(s.x-(s.left??0))},${-l/2+(e.padding??0)-c-(s.y-(s.top??0))})`),Pt(e,j),e.intersect=function(P){return it.polygon(e,_,P)},i}M(g7,"waveEdgedRectangle");async function y7(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s}=await Qt(t,e,Yt(e)),a=100,o=50,l=Math.max(s.width+(e.padding??0)*2,e?.width??0),c=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=l/c;let f=l,g=c;f>g*h?g=f/h:f=g*h,f=Math.max(f,a),g=Math.max(g,o);const p=Math.min(g*.2,g/4),v=g+p*2,{cssStyles:x}=e,b=Nt.svg(i),_=At(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const k=[{x:-f/2,y:v/2},...dh(-f/2,v/2,f/2,v/2,p,1),{x:f/2,y:-v/2},...dh(f/2,-v/2,-f/2,-v/2,p,-1)],N=Lr(k),j=b.path(N,_),P=i.insert(()=>j,":first-child");return P.attr("class","basic label-container"),x&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",x),n&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",n),Pt(e,P),e.intersect=function(F){return it.polygon(e,k,F)},i}M(y7,"waveRectangle");async function v7(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await Qt(t,e,Yt(e)),o=Math.max(s.width+(e.padding??0)*2,e?.width??0),l=Math.max(s.height+(e.padding??0)*2,e?.height??0),c=5,h=-o/2,f=-l/2,{cssStyles:g}=e,p=Nt.svg(i),v=At(e,{}),x=[{x:h-c,y:f-c},{x:h-c,y:f+l},{x:h+o,y:f+l},{x:h+o,y:f-c}],b=`M${h-c},${f-c} L${h+o},${f-c} L${h+o},${f+l} L${h-c},${f+l} L${h-c},${f-c}
                M${h-c},${f} L${h+o},${f}
                M${h},${f-c} L${h},${f+l}`;e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const _=p.path(b,v),k=i.insert(()=>_,":first-child");return k.attr("transform",`translate(${c/2}, ${c/2})`),k.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",g),n&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",n),a.attr("transform",`translate(${-(s.width/2)+c/2-(s.x-(s.left??0))}, ${-(s.height/2)+c/2-(s.y-(s.top??0))})`),Pt(e,k),e.intersect=function(N){return it.polygon(e,x,N)},i}M(v7,"windowPane");async function Ek(t,e){const r=e;if(r.alias&&(e.label=r.alias),e.look==="handDrawn"){const{themeVariables:O}=Ls(),{background:Y}=O,ne={...e,id:e.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${Y}`]};await Ek(t,ne)}const n=Ls();e.useHtmlLabels=n.htmlLabels;let i=n.er?.diagramPadding??10,s=n.er?.entityPadding??6;const{cssStyles:a}=e,{labelStyles:o,nodeStyles:l}=Et(e);if(r.attributes.length===0&&e.label){const O={rx:0,ry:0,labelPaddingX:i,labelPaddingY:i*1.5};cu(e.label,n)+O.labelPaddingX*2<n.er.minEntityWidth&&(e.width=n.er.minEntityWidth);const Y=await Xx(t,e,O);if(!zi(n.htmlLabels)){const ne=Y.select("text"),oe=ne.node()?.getBBox();ne.attr("transform",`translate(${-oe.width/2}, 0)`)}return Y}n.htmlLabels||(i*=1.25,s*=1.25);let c=Yt(e);c||(c="node default");const h=t.insert("g").attr("class",c).attr("id",e.domId||e.id),f=await zf(h,e.label??"",n,0,0,["name"],o);f.height+=s;let g=0;const p=[],v=[];let x=0,b=0,_=0,k=0,N=!0,j=!0;for(const O of r.attributes){const Y=await zf(h,O.type,n,0,g,["attribute-type"],o);x=Math.max(x,Y.width+i);const ne=await zf(h,O.name,n,0,g,["attribute-name"],o);b=Math.max(b,ne.width+i);const oe=await zf(h,O.keys.join(),n,0,g,["attribute-keys"],o);_=Math.max(_,oe.width+i);const ue=await zf(h,O.comment,n,0,g,["attribute-comment"],o);k=Math.max(k,ue.width+i);const de=Math.max(Y.height,ne.height,oe.height,ue.height)+s;v.push({yOffset:g,rowHeight:de}),g+=de}let P=4;_<=i&&(N=!1,_=0,P--),k<=i&&(j=!1,k=0,P--);const F=h.node().getBBox();if(f.width+i*2-(x+b+_+k)>0){const O=f.width+i*2-(x+b+_+k);x+=O/P,b+=O/P,_>0&&(_+=O/P),k>0&&(k+=O/P)}const D=x+b+_+k,U=Nt.svg(h),z=At(e,{});e.look!=="handDrawn"&&(z.roughness=0,z.fillStyle="solid");let K=0;v.length>0&&(K=v.reduce((O,Y)=>O+(Y?.rowHeight??0),0));const B=Math.max(F.width+i*2,e?.width||0,D),q=Math.max((K??0)+f.height,e?.height||0),W=-B/2,$=-q/2;h.selectAll("g:not(:first-child)").each((O,Y,ne)=>{const oe=Br(ne[Y]),ue=oe.attr("transform");let de=0,be=0;if(ue){const ke=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(ue);ke&&(de=parseFloat(ke[1]),be=parseFloat(ke[2]),oe.attr("class").includes("attribute-name")?de+=x:oe.attr("class").includes("attribute-keys")?de+=x+b:oe.attr("class").includes("attribute-comment")&&(de+=x+b+_))}oe.attr("transform",`translate(${W+i/2+de}, ${be+$+f.height+s/2})`)}),h.select(".name").attr("transform","translate("+-f.width/2+", "+($+s/2)+")");const Q=U.rectangle(W,$,B,q,z),ee=h.insert(()=>Q,":first-child").attr("style",a.join("")),{themeVariables:se}=Ls(),{rowEven:V,rowOdd:re,nodeBorder:pe}=se;p.push(0);for(const[O,Y]of v.entries()){const oe=(O+1)%2===0&&Y.yOffset!==0,ue=U.rectangle(W,f.height+$+Y?.yOffset,B,Y?.rowHeight,{...z,fill:oe?V:re,stroke:pe});h.insert(()=>ue,"g.label").attr("style",a.join("")).attr("class",`row-rect-${oe?"even":"odd"}`)}let X=U.line(W,f.height+$,B+W,f.height+$,z);h.insert(()=>X).attr("class","divider"),X=U.line(x+W,f.height+$,x+W,q+$,z),h.insert(()=>X).attr("class","divider"),N&&(X=U.line(x+b+W,f.height+$,x+b+W,q+$,z),h.insert(()=>X).attr("class","divider")),j&&(X=U.line(x+b+_+W,f.height+$,x+b+_+W,q+$,z),h.insert(()=>X).attr("class","divider"));for(const O of p)X=U.line(W,f.height+$+O,B+W,f.height+$+O,z),h.insert(()=>X).attr("class","divider");if(Pt(e,ee),l&&e.look!=="handDrawn"){const Y=l.split(";")?.filter(ne=>ne.includes("stroke"))?.map(ne=>`${ne}`).join("; ");h.selectAll("path").attr("style",Y??""),h.selectAll(".row-rect-even path").attr("style",l)}return e.intersect=function(O){return it.rect(e,O)},h}M(Ek,"erBox");async function zf(t,e,r,n=0,i=0,s=[],a=""){const o=t.insert("g").attr("class",`label ${s.join(" ")}`).attr("transform",`translate(${n}, ${i})`).attr("style",a);e!==aE(e)&&(e=aE(e),e=e.replaceAll("<","&lt;").replaceAll(">","&gt;"));const l=o.node().appendChild(await vh(o,e,{width:cu(e,r)+100,style:a,useHtmlLabels:r.htmlLabels},r));if(e.includes("&lt;")||e.includes("&gt;")){let h=l.children[0];for(h.textContent=h.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");h.childNodes[0];)h=h.childNodes[0],h.textContent=h.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let c=l.getBBox();if(zi(r.htmlLabels)){const h=l.children[0];h.style.textAlign="start";const f=Br(l);c=h.getBoundingClientRect(),f.attr("width",c.width),f.attr("height",c.height)}return c}M(zf,"addText");async function x7(t,e,r,n,i=r.class.padding??12){const s=n?0:3,a=t.insert("g").attr("class",Yt(e)).attr("id",e.domId||e.id);let o=null,l=null,c=null,h=null,f=0,g=0,p=0;if(o=a.insert("g").attr("class","annotation-group text"),e.annotations.length>0){const k=e.annotations[0];await ng(o,{text:`${k}`},0),f=o.node().getBBox().height}l=a.insert("g").attr("class","label-group text"),await ng(l,e,0,["font-weight: bolder"]);const v=l.node().getBBox();g=v.height,c=a.insert("g").attr("class","members-group text");let x=0;for(const k of e.members){const N=await ng(c,k,x,[k.parseClassifier()]);x+=N+s}p=c.node().getBBox().height,p<=0&&(p=i/2),h=a.insert("g").attr("class","methods-group text");let b=0;for(const k of e.methods){const N=await ng(h,k,b,[k.parseClassifier()]);b+=N+s}let _=a.node().getBBox();if(o!==null){const k=o.node().getBBox();o.attr("transform",`translate(${-k.width/2})`)}return l.attr("transform",`translate(${-v.width/2}, ${f})`),_=a.node().getBBox(),c.attr("transform",`translate(0, ${f+g+i*2})`),_=a.node().getBBox(),h.attr("transform",`translate(0, ${f+g+(p?p+i*4:i*2)})`),_=a.node().getBBox(),{shapeSvg:a,bbox:_}}M(x7,"textHelper");async function ng(t,e,r,n=[]){const i=t.insert("g").attr("class","label").attr("style",n.join("; ")),s=Ls();let a="useHtmlLabels"in e?e.useHtmlLabels:zi(s.htmlLabels)??!0,o="";"text"in e?o=e.text:o=e.label,!a&&o.startsWith("\\")&&(o=o.substring(1)),kp(o)&&(a=!0);const l=await vh(i,FC(Hd(o)),{width:cu(o,s)+50,classes:"markdown-node-label",useHtmlLabels:a},s);let c,h=1;if(a){const f=l.children[0],g=Br(l);h=f.innerHTML.split("<br>").length,f.innerHTML.includes("</math>")&&(h+=f.innerHTML.split("<mrow>").length-1);const p=f.getElementsByTagName("img");if(p){const v=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...p].map(x=>new Promise(b=>{function _(){if(x.style.display="flex",x.style.flexDirection="column",v){const k=s.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,j=parseInt(k,10)*5+"px";x.style.minWidth=j,x.style.maxWidth=j}else x.style.width="100%";b(x)}M(_,"setupImage"),setTimeout(()=>{x.complete&&_()}),x.addEventListener("error",_),x.addEventListener("load",_)})))}c=f.getBoundingClientRect(),g.attr("width",c.width),g.attr("height",c.height)}else{n.includes("font-weight: bolder")&&Br(l).selectAll("tspan").attr("font-weight",""),h=l.children.length;const f=l.children[0];(l.textContent===""||l.textContent.includes("&gt"))&&(f.textContent=o[0]+o.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),o[1]===" "&&(f.textContent=f.textContent[0]+" "+f.textContent.substring(1))),f.textContent==="undefined"&&(f.textContent=""),c=l.getBBox()}return i.attr("transform","translate(0,"+(-c.height/(2*h)+r)+")"),c.height}M(ng,"addText");async function b7(t,e){const r=en(),n=r.class.padding??12,i=n,s=e.useHtmlLabels??zi(r.htmlLabels)??!0,a=e;a.annotations=a.annotations??[],a.members=a.members??[],a.methods=a.methods??[];const{shapeSvg:o,bbox:l}=await x7(t,e,r,s,i),{labelStyles:c,nodeStyles:h}=Et(e);e.labelStyle=c,e.cssStyles=a.styles||"";const f=a.styles?.join(";")||h||"";e.cssStyles||(e.cssStyles=f.replaceAll("!important","").split(";"));const g=a.members.length===0&&a.methods.length===0&&!r.class?.hideEmptyMembersBox,p=Nt.svg(o),v=At(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const x=l.width;let b=l.height;a.members.length===0&&a.methods.length===0?b+=i:a.members.length>0&&a.methods.length===0&&(b+=i*2);const _=-x/2,k=-b/2,N=p.rectangle(_-n,k-n-(g?n:a.members.length===0&&a.methods.length===0?-n/2:0),x+2*n,b+2*n+(g?n*2:a.members.length===0&&a.methods.length===0?-n:0),v),j=o.insert(()=>N,":first-child");j.attr("class","basic label-container");const P=j.node().getBBox();o.selectAll(".text").each((z,K,B)=>{const q=Br(B[K]),W=q.attr("transform");let $=0;if(W){const V=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(W);V&&($=parseFloat(V[2]))}let Q=$+k+n-(g?n:a.members.length===0&&a.methods.length===0?-n/2:0);s||(Q-=4);let ee=_;(q.attr("class").includes("label-group")||q.attr("class").includes("annotation-group"))&&(ee=-q.node()?.getBBox().width/2||0,o.selectAll("text").each(function(se,V,re){window.getComputedStyle(re[V]).textAnchor==="middle"&&(ee=0)})),q.attr("transform",`translate(${ee}, ${Q})`)});const F=o.select(".annotation-group").node().getBBox().height-(g?n/2:0)||0,D=o.select(".label-group").node().getBBox().height-(g?n/2:0)||0,U=o.select(".members-group").node().getBBox().height-(g?n/2:0)||0;if(a.members.length>0||a.methods.length>0||g){const z=p.line(P.x,F+D+k+n,P.x+P.width,F+D+k+n,v);o.insert(()=>z).attr("class","divider").attr("style",f)}if(g||a.members.length>0||a.methods.length>0){const z=p.line(P.x,F+D+U+k+i*2+n,P.x+P.width,F+D+U+k+n+i*2,v);o.insert(()=>z).attr("class","divider").attr("style",f)}if(a.look!=="handDrawn"&&o.selectAll("path").attr("style",f),j.select(":nth-child(2)").attr("style",f),o.selectAll(".divider").select("path").attr("style",f),e.labelStyle?o.selectAll("span").attr("style",e.labelStyle):o.selectAll("span").attr("style",f),!s){const z=RegExp(/color\s*:\s*([^;]*)/),K=z.exec(f);if(K){const B=K[0].replace("color","fill");o.selectAll("tspan").attr("style",B)}else if(c){const B=z.exec(c);if(B){const q=B[0].replace("color","fill");o.selectAll("tspan").attr("style",q)}}}return Pt(e,j),e.intersect=function(z){return it.rect(e,z)},o}M(b7,"classBox");async function w7(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const i=e,s=e,a=20,o=20,l="verifyMethod"in e,c=Yt(e),h=t.insert("g").attr("class",c).attr("id",e.domId??e.id);let f;l?f=await ql(h,`&lt;&lt;${i.type}&gt;&gt;`,0,e.labelStyle):f=await ql(h,"&lt;&lt;Element&gt;&gt;",0,e.labelStyle);let g=f;const p=await ql(h,i.name,g,e.labelStyle+"; font-weight: bold;");if(g+=p+o,l){const F=await ql(h,`${i.requirementId?`ID: ${i.requirementId}`:""}`,g,e.labelStyle);g+=F;const D=await ql(h,`${i.text?`Text: ${i.text}`:""}`,g,e.labelStyle);g+=D;const U=await ql(h,`${i.risk?`Risk: ${i.risk}`:""}`,g,e.labelStyle);g+=U,await ql(h,`${i.verifyMethod?`Verification: ${i.verifyMethod}`:""}`,g,e.labelStyle)}else{const F=await ql(h,`${s.type?`Type: ${s.type}`:""}`,g,e.labelStyle);g+=F,await ql(h,`${s.docRef?`Doc Ref: ${s.docRef}`:""}`,g,e.labelStyle)}const v=(h.node()?.getBBox().width??200)+a,x=(h.node()?.getBBox().height??200)+a,b=-v/2,_=-x/2,k=Nt.svg(h),N=At(e,{});e.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const j=k.rectangle(b,_,v,x,N),P=h.insert(()=>j,":first-child");if(P.attr("class","basic label-container").attr("style",n),h.selectAll(".label").each((F,D,U)=>{const z=Br(U[D]),K=z.attr("transform");let B=0,q=0;if(K){const ee=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(K);ee&&(B=parseFloat(ee[1]),q=parseFloat(ee[2]))}const W=q-x/2;let $=b+a/2;(D===0||D===1)&&($=B),z.attr("transform",`translate(${$}, ${W+a})`)}),g>f+p+o){const F=k.line(b,_+f+p+o,b+v,_+f+p+o,N);h.insert(()=>F).attr("style",n)}return Pt(e,P),e.intersect=function(F){return it.rect(e,F)},h}M(w7,"requirementBox");async function ql(t,e,r,n=""){if(e==="")return 0;const i=t.insert("g").attr("class","label").attr("style",n),s=en(),a=s.htmlLabels??!0,o=await vh(i,FC(Hd(e)),{width:cu(e,s)+50,classes:"markdown-node-label",useHtmlLabels:a,style:n},s);let l;if(a){const c=o.children[0],h=Br(o);l=c.getBoundingClientRect(),h.attr("width",l.width),h.attr("height",l.height)}else{const c=o.children[0];for(const h of c.children)h.textContent=h.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),n&&h.setAttribute("style",n);l=o.getBBox(),l.height+=6}return i.attr("transform",`translate(${-l.width/2},${-l.height/2+r})`),l.height}M(ql,"addText");var rge=M(t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function _7(t,e,{config:r}){const{labelStyles:n,nodeStyles:i}=Et(e);e.labelStyle=n||"";const s=10,a=e.width;e.width=(e.width??200)-10;const{shapeSvg:o,bbox:l,label:c}=await Qt(t,e,Yt(e)),h=e.padding||10;let f="",g;"ticket"in e&&e.ticket&&r?.kanban?.ticketBaseUrl&&(f=r?.kanban?.ticketBaseUrl.replace("#TICKET#",e.ticket),g=o.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",f).attr("target","_blank"));const p={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1};let v,x;g?{label:v,bbox:x}=await rw(g,"ticket"in e&&e.ticket||"",p):{label:v,bbox:x}=await rw(o,"ticket"in e&&e.ticket||"",p);const{label:b,bbox:_}=await rw(o,"assigned"in e&&e.assigned||"",p);e.width=a;const k=10,N=e?.width||0,j=Math.max(x.height,_.height)/2,P=Math.max(l.height+k*2,e?.height||0)+j,F=-N/2,D=-P/2;c.attr("transform","translate("+(h-N/2)+", "+(-j-l.height/2)+")"),v.attr("transform","translate("+(h-N/2)+", "+(-j+l.height/2)+")"),b.attr("transform","translate("+(h+N/2-_.width-2*s)+", "+(-j+l.height/2)+")");let U;const{rx:z,ry:K}=e,{cssStyles:B}=e;if(e.look==="handDrawn"){const q=Nt.svg(o),W=At(e,{}),$=z||K?q.path(xh(F,D,N,P,z||0),W):q.rectangle(F,D,N,P,W);U=o.insert(()=>$,":first-child"),U.attr("class","basic label-container").attr("style",B||null)}else{U=o.insert("rect",":first-child"),U.attr("class","basic label-container __APA__").attr("style",i).attr("rx",z??5).attr("ry",K??5).attr("x",F).attr("y",D).attr("width",N).attr("height",P);const q="priority"in e&&e.priority;if(q){const W=o.append("line"),$=F+2,Q=D+Math.floor((z??0)/2),ee=D+P-Math.floor((z??0)/2);W.attr("x1",$).attr("y1",Q).attr("x2",$).attr("y2",ee).attr("stroke-width","4").attr("stroke",rge(q))}}return Pt(e,U),e.height=P,e.intersect=function(q){return it.rect(e,q)},o}M(_7,"kanbanItem");async function S7(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a,label:o}=await Qt(t,e,Yt(e)),l=s.width+10*a,c=s.height+8*a,h=.15*l,{cssStyles:f}=e,g=s.width+20,p=s.height+20,v=Math.max(l,g),x=Math.max(c,p);o.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`);let b;const _=`M0 0 
    a${h},${h} 1 0,0 ${v*.25},${-1*x*.1}
    a${h},${h} 1 0,0 ${v*.25},0
    a${h},${h} 1 0,0 ${v*.25},0
    a${h},${h} 1 0,0 ${v*.25},${x*.1}

    a${h},${h} 1 0,0 ${v*.15},${x*.33}
    a${h*.8},${h*.8} 1 0,0 0,${x*.34}
    a${h},${h} 1 0,0 ${-1*v*.15},${x*.33}

    a${h},${h} 1 0,0 ${-1*v*.25},${x*.15}
    a${h},${h} 1 0,0 ${-1*v*.25},0
    a${h},${h} 1 0,0 ${-1*v*.25},0
    a${h},${h} 1 0,0 ${-1*v*.25},${-1*x*.15}

    a${h},${h} 1 0,0 ${-1*v*.1},${-1*x*.33}
    a${h*.8},${h*.8} 1 0,0 0,${-1*x*.34}
    a${h},${h} 1 0,0 ${v*.1},${-1*x*.33}
  H0 V0 Z`;if(e.look==="handDrawn"){const k=Nt.svg(i),N=At(e,{}),j=k.path(_,N);b=i.insert(()=>j,":first-child"),b.attr("class","basic label-container").attr("style",Rs(f))}else b=i.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",_);return b.attr("transform",`translate(${-v/2}, ${-x/2})`),Pt(e,b),e.calcIntersect=function(k,N){return it.rect(k,N)},e.intersect=function(k){return Ue.info("Bang intersect",e,k),it.rect(e,k)},i}M(S7,"bang");async function C7(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a,label:o}=await Qt(t,e,Yt(e)),l=s.width+2*a,c=s.height+2*a,h=.15*l,f=.25*l,g=.35*l,p=.2*l,{cssStyles:v}=e;let x;const b=`M0 0 
    a${h},${h} 0 0,1 ${l*.25},${-1*l*.1}
    a${g},${g} 1 0,1 ${l*.4},${-1*l*.1}
    a${f},${f} 1 0,1 ${l*.35},${l*.2}

    a${h},${h} 1 0,1 ${l*.15},${c*.35}
    a${p},${p} 1 0,1 ${-1*l*.15},${c*.65}

    a${f},${h} 1 0,1 ${-1*l*.25},${l*.15}
    a${g},${g} 1 0,1 ${-1*l*.5},0
    a${h},${h} 1 0,1 ${-1*l*.25},${-1*l*.15}

    a${h},${h} 1 0,1 ${-1*l*.1},${-1*c*.35}
    a${p},${p} 1 0,1 ${l*.1},${-1*c*.65}
  H0 V0 Z`;if(e.look==="handDrawn"){const _=Nt.svg(i),k=At(e,{}),N=_.path(b,k);x=i.insert(()=>N,":first-child"),x.attr("class","basic label-container").attr("style",Rs(v))}else x=i.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",b);return o.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),x.attr("transform",`translate(${-l/2}, ${-c/2})`),Pt(e,x),e.calcIntersect=function(_,k){return it.rect(_,k)},e.intersect=function(_){return Ue.info("Cloud intersect",e,_),it.rect(e,_)},i}M(C7,"cloud");async function k7(t,e){const{labelStyles:r,nodeStyles:n}=Et(e);e.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a,label:o}=await Qt(t,e,Yt(e)),l=s.width+8*a,c=s.height+2*a,h=5,f=`
    M${-l/2} ${c/2-h}
    v${-c+2*h}
    q0,-${h} ${h},-${h}
    h${l-2*h}
    q${h},0 ${h},${h}
    v${c-2*h}
    q0,${h} -${h},${h}
    h${-l+2*h}
    q-${h},0 -${h},-${h}
    Z
  `,g=i.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("style",n).attr("d",f);return i.append("line").attr("class","node-line-").attr("x1",-l/2).attr("y1",c/2).attr("x2",l/2).attr("y2",c/2),o.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),i.append(()=>o.node()),Pt(e,g),e.calcIntersect=function(p,v){return it.rect(p,v)},e.intersect=function(p){return it.rect(e,p)},i}M(k7,"defaultMindmapNode");async function N7(t,e){const r={padding:e.padding??0};return Ak(t,e,r)}M(N7,"mindmapCircle");var nge=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:n7},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:e7},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:i7},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:l7},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:TF},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:Ak},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:S7},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:C7},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:JF},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:MF},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:WF},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:qF},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:f7},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:zF},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:EF},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:h7},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:xF},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:t7},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:o7},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:a7},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:PF},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:OF},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:SF},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:CF},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:kF},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:VF},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:g7},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:RF},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:d7},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:HF},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:NF},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:AF},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:m7},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:v7},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:jF},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:p7},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:LF},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:r7},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:KF},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:YF},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:vF},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:_F},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:u7},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:c7},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:y7},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:ZF},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:GF}],ige=M(()=>{const e=[...Object.entries({state:s7,choice:bF,note:XF,rectWithTitle:QF,labelRect:UF,iconSquare:FF,iconCircle:DF,icon:IF,iconRounded:BF,imageSquare:$F,anchor:yF,kanbanItem:_7,mindmapCircle:N7,defaultMindmapNode:k7,classBox:b7,erBox:Ek,requirementBox:w7}),...nge.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(i=>[i,r.handler]))];return Object.fromEntries(e)},"generateShapeMap"),T7=ige();function sge(t){return t in T7}M(sge,"isValidShape");var Jx=new Map;async function A7(t,e,r){let n,i;e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");const s=e.shape?T7[e.shape]:void 0;if(!s)throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let a;r.config.securityLevel==="sandbox"?a="_top":e.linkTarget&&(a=e.linkTarget||"_blank"),n=t.insert("svg:a").attr("xlink:href",e.link).attr("target",a??null),i=await s(n,e,r)}else i=await s(t,e,r),n=i;return e.tooltip&&i.attr("title",e.tooltip),Jx.set(e.id,n),e.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}M(A7,"insertNode");var x5e=M((t,e)=>{Jx.set(e.id,t)},"setNodeElem"),b5e=M(()=>{Jx.clear()},"clear"),w5e=M(t=>{const e=Jx.get(t.id);Ue.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const r=8,n=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+n-t.width/2)+", "+(t.y-t.height/2-r)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),n},"positionNode"),age=M((t,e,r,n,i,s)=>{e.arrowTypeStart&&p4(t,"start",e.arrowTypeStart,r,n,i,s),e.arrowTypeEnd&&p4(t,"end",e.arrowTypeEnd,r,n,i,s)},"addEdgeMarkers"),oge={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},p4=M((t,e,r,n,i,s,a)=>{const o=oge[r];if(!o){Ue.warn(`Unknown arrow type: ${r}`);return}const l=o.type,h=`${i}_${s}-${l}${e==="start"?"Start":"End"}`;if(a&&a.trim()!==""){const f=a.replace(/[^\dA-Za-z]/g,"_"),g=`${h}_${f}`;if(!document.getElementById(g)){const p=document.getElementById(h);if(p){const v=p.cloneNode(!0);v.id=g,v.querySelectorAll("path, circle, line").forEach(b=>{b.setAttribute("stroke",a),o.fill&&b.setAttribute("fill",a)}),p.parentNode?.appendChild(v)}}t.attr(`marker-${e}`,`url(${n}#${g})`)}else t.attr(`marker-${e}`,`url(${n}#${h})`)},"addEdgeMarker"),Vv=new Map,ls=new Map,_5e=M(()=>{Vv.clear(),ls.clear()},"clear"),Yy=M(t=>t?t.reduce((r,n)=>r+";"+n,""):"","getLabelStyles"),lge=M(async(t,e)=>{let r=zi(en().flowchart.htmlLabels);const{labelStyles:n}=Et(e);e.labelStyle=n;const i=await vh(t,e.label,{style:e.labelStyle,useHtmlLabels:r,addSvgBackground:!0,isNode:!1});Ue.info("abc82",e,e.labelType);const s=t.insert("g").attr("class","edgeLabel"),a=s.insert("g").attr("class","label").attr("data-id",e.id);a.node().appendChild(i);let o=i.getBBox();if(r){const c=i.children[0],h=Br(i);o=c.getBoundingClientRect(),h.attr("width",o.width),h.attr("height",o.height)}a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),Vv.set(e.id,s),e.width=o.width,e.height=o.height;let l;if(e.startLabelLeft){const c=await vd(e.startLabelLeft,Yy(e.labelStyle)),h=t.insert("g").attr("class","edgeTerminals"),f=h.insert("g").attr("class","inner");l=f.node().appendChild(c);const g=c.getBBox();f.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),ls.get(e.id)||ls.set(e.id,{}),ls.get(e.id).startLeft=h,ig(l,e.startLabelLeft)}if(e.startLabelRight){const c=await vd(e.startLabelRight,Yy(e.labelStyle)),h=t.insert("g").attr("class","edgeTerminals"),f=h.insert("g").attr("class","inner");l=h.node().appendChild(c),f.node().appendChild(c);const g=c.getBBox();f.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),ls.get(e.id)||ls.set(e.id,{}),ls.get(e.id).startRight=h,ig(l,e.startLabelRight)}if(e.endLabelLeft){const c=await vd(e.endLabelLeft,Yy(e.labelStyle)),h=t.insert("g").attr("class","edgeTerminals"),f=h.insert("g").attr("class","inner");l=f.node().appendChild(c);const g=c.getBBox();f.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),h.node().appendChild(c),ls.get(e.id)||ls.set(e.id,{}),ls.get(e.id).endLeft=h,ig(l,e.endLabelLeft)}if(e.endLabelRight){const c=await vd(e.endLabelRight,Yy(e.labelStyle)),h=t.insert("g").attr("class","edgeTerminals"),f=h.insert("g").attr("class","inner");l=f.node().appendChild(c);const g=c.getBBox();f.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),h.node().appendChild(c),ls.get(e.id)||ls.set(e.id,{}),ls.get(e.id).endRight=h,ig(l,e.endLabelRight)}return i},"insertEdgeLabel");function ig(t,e){en().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}M(ig,"setTerminalWidth");var cge=M((t,e)=>{Ue.debug("Moving label abc88 ",t.id,t.label,Vv.get(t.id),e);let r=e.updatedPath?e.updatedPath:e.originalPath;const n=en(),{subGraphTitleTotalMargin:i}=sk(n);if(t.label){const s=Vv.get(t.id);let a=t.x,o=t.y;if(r){const l=cl.calcLabelPosition(r);Ue.debug("Moving label "+t.label+" from (",a,",",o,") to (",l.x,",",l.y,") abc88"),e.updatedPath&&(a=l.x,o=l.y)}s.attr("transform",`translate(${a}, ${o+i/2})`)}if(t.startLabelLeft){const s=ls.get(t.id).startLeft;let a=t.x,o=t.y;if(r){const l=cl.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}if(t.startLabelRight){const s=ls.get(t.id).startRight;let a=t.x,o=t.y;if(r){const l=cl.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}if(t.endLabelLeft){const s=ls.get(t.id).endLeft;let a=t.x,o=t.y;if(r){const l=cl.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}if(t.endLabelRight){const s=ls.get(t.id).endRight;let a=t.x,o=t.y;if(r){const l=cl.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}},"positionEdgeLabel"),uge=M((t,e)=>{const r=t.x,n=t.y,i=Math.abs(e.x-r),s=Math.abs(e.y-n),a=t.width/2,o=t.height/2;return i>=a||s>=o},"outsideNode"),hge=M((t,e,r)=>{Ue.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const n=t.x,i=t.y,s=Math.abs(n-r.x),a=t.width/2;let o=r.x<e.x?a-s:a+s;const l=t.height/2,c=Math.abs(e.y-r.y),h=Math.abs(e.x-r.x);if(Math.abs(i-e.y)*a>Math.abs(n-e.x)*l){let f=r.y<e.y?e.y-l-i:i-l-e.y;o=h*f/c;const g={x:r.x<e.x?r.x+o:r.x-h+o,y:r.y<e.y?r.y+c-f:r.y-c+f};return o===0&&(g.x=e.x,g.y=e.y),h===0&&(g.x=e.x),c===0&&(g.y=e.y),Ue.debug(`abc89 top/bottom calc, Q ${c}, q ${f}, R ${h}, r ${o}`,g),g}else{r.x<e.x?o=e.x-a-n:o=n-a-e.x;let f=c*o/h,g=r.x<e.x?r.x+h-o:r.x-h+o,p=r.y<e.y?r.y+f:r.y-f;return Ue.debug(`sides calc abc89, Q ${c}, q ${f}, R ${h}, r ${o}`,{_x:g,_y:p}),o===0&&(g=e.x,p=e.y),h===0&&(g=e.x),c===0&&(p=e.y),{x:g,y:p}}},"intersection"),m4=M((t,e)=>{Ue.warn("abc88 cutPathAtIntersect",t,e);let r=[],n=t[0],i=!1;return t.forEach(s=>{if(Ue.info("abc88 checking point",s,e),!uge(e,s)&&!i){const a=hge(e,n,s);Ue.debug("abc88 inside",s,n,a),Ue.debug("abc88 intersection",a,e);let o=!1;r.forEach(l=>{o=o||l.x===a.x&&l.y===a.y}),r.some(l=>l.x===a.x&&l.y===a.y)?Ue.warn("abc88 no intersect",a,r):r.push(a),i=!0}else Ue.warn("abc88 outside",s,n),n=s,i||r.push(s)}),Ue.debug("returning points",r),r},"cutPathAtIntersect");function E7(t){const e=[],r=[];for(let n=1;n<t.length-1;n++){const i=t[n-1],s=t[n],a=t[n+1];(i.x===s.x&&s.y===a.y&&Math.abs(s.x-a.x)>5&&Math.abs(s.y-i.y)>5||i.y===s.y&&s.x===a.x&&Math.abs(s.x-i.x)>5&&Math.abs(s.y-a.y)>5)&&(e.push(s),r.push(n))}return{cornerPoints:e,cornerPointPositions:r}}M(E7,"extractCornerPoints");var g4=M(function(t,e,r){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i),a=r/s;return{x:e.x-a*n,y:e.y-a*i}},"findAdjacentPoint"),dge=M(function(t){const{cornerPointPositions:e}=E7(t),r=[];for(let n=0;n<t.length;n++)if(e.includes(n)){const i=t[n-1],s=t[n+1],a=t[n],o=g4(i,a,5),l=g4(s,a,5),c=l.x-o.x,h=l.y-o.y;r.push(o);const f=Math.sqrt(2)*2;let g={x:a.x,y:a.y};if(Math.abs(s.x-i.x)>10&&Math.abs(s.y-i.y)>=10){Ue.debug("Corner point fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));const p=5;a.x===o.x?g={x:c<0?o.x-p+f:o.x+p-f,y:h<0?o.y-f:o.y+f}:g={x:c<0?o.x-f:o.x+f,y:h<0?o.y-p+f:o.y+p-f}}else Ue.debug("Corner point skipping fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));r.push(g,l)}else r.push(t[n]);return r},"fixCorners"),fge=M((t,e,r)=>{const n=t-e-r,i=2,s=2,a=i+s,o=Math.floor(n/a),l=Array(o).fill(`${i} ${s}`).join(" ");return`0 ${e} ${l} ${r}`},"generateDashArray"),pge=M(function(t,e,r,n,i,s,a,o=!1){const{handDrawnSeed:l}=en();let c=e.points,h=!1;const f=i;var g=s;const p=[];for(const $ in e.cssCompiledStyles)aB($)||p.push(e.cssCompiledStyles[$]);Ue.debug("UIO intersect check",e.points,g.x,f.x),g.intersect&&f.intersect&&!o&&(c=c.slice(1,e.points.length-1),c.unshift(f.intersect(c[0])),Ue.debug("Last point UIO",e.start,"-->",e.end,c[c.length-1],g,g.intersect(c[c.length-1])),c.push(g.intersect(c[c.length-1])));const v=btoa(JSON.stringify(c));e.toCluster&&(Ue.info("to cluster abc88",r.get(e.toCluster)),c=m4(e.points,r.get(e.toCluster).node),h=!0),e.fromCluster&&(Ue.debug("from cluster abc88",r.get(e.fromCluster),JSON.stringify(c,null,2)),c=m4(c.reverse(),r.get(e.fromCluster).node).reverse(),h=!0);let x=c.filter($=>!Number.isNaN($.y));x=dge(x);let b=A1;switch(b=_v,e.curve){case"linear":b=_v;break;case"basis":b=A1;break;case"cardinal":b=uI;break;case"bumpX":b=sI;break;case"bumpY":b=aI;break;case"catmullRom":b=dI;break;case"monotoneX":b=vI;break;case"monotoneY":b=xI;break;case"natural":b=wI;break;case"step":b=_I;break;case"stepAfter":b=CI;break;case"stepBefore":b=SI;break;default:b=A1}const{x:_,y:k}=hhe(e),N=Yce().x(_).y(k).curve(b);let j;switch(e.thickness){case"normal":j="edge-thickness-normal";break;case"thick":j="edge-thickness-thick";break;case"invisible":j="edge-thickness-invisible";break;default:j="edge-thickness-normal"}switch(e.pattern){case"solid":j+=" edge-pattern-solid";break;case"dotted":j+=" edge-pattern-dotted";break;case"dashed":j+=" edge-pattern-dashed";break;default:j+=" edge-pattern-solid"}let P,F=e.curve==="rounded"?j7(L7(x,e),5):N(x);const D=Array.isArray(e.style)?e.style:[e.style];let U=D.find($=>$?.startsWith("stroke:")),z=!1;if(e.look==="handDrawn"){const $=Nt.svg(t);Object.assign([],x);const Q=$.path(F,{roughness:.3,seed:l});j+=" transition",P=Br(Q).select("path").attr("id",e.id).attr("class"," "+j+(e.classes?" "+e.classes:"")).attr("style",D?D.reduce((se,V)=>se+";"+V,""):"");let ee=P.attr("d");P.attr("d",ee),t.node().appendChild(P.node())}else{const $=p.join(";"),Q=D?D.reduce((O,Y)=>O+Y+";",""):"";let ee="";e.animate&&(ee=" edge-animation-fast"),e.animation&&(ee=" edge-animation-"+e.animation);const se=($?$+";"+Q+";":Q)+";"+(D?D.reduce((O,Y)=>O+";"+Y,""):"");P=t.append("path").attr("d",F).attr("id",e.id).attr("class"," "+j+(e.classes?" "+e.classes:"")+(ee??"")).attr("style",se),U=se.match(/stroke:([^;]+)/)?.[1],z=e.animate===!0||!!e.animation||$.includes("animation");const V=P.node(),re=typeof V.getTotalLength=="function"?V.getTotalLength():0,pe=RE[e.arrowTypeStart]||0,X=RE[e.arrowTypeEnd]||0;if(e.look==="neo"&&!z){const Y=`stroke-dasharray: ${e.pattern==="dotted"||e.pattern==="dashed"?fge(re,pe,X):`0 ${pe} ${re-pe-X} ${X}`}; stroke-dashoffset: 0;`;P.attr("style",Y+P.attr("style"))}}P.attr("data-edge",!0),P.attr("data-et","edge"),P.attr("data-id",e.id),P.attr("data-points",v),e.showPoints&&x.forEach($=>{t.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",$.x).attr("cy",$.y)});let K="";(en().flowchart.arrowMarkerAbsolute||en().state.arrowMarkerAbsolute)&&(K=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,K=K.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),Ue.info("arrowTypeStart",e.arrowTypeStart),Ue.info("arrowTypeEnd",e.arrowTypeEnd),age(P,e,K,a,n,U);const B=Math.floor(c.length/2),q=c[B];cl.isLabelCoordinateInPath(q,P.attr("d"))||(h=!0);let W={};return h&&(W.updatedPath=c),W.originalPath=e.points,W},"insertEdge");function j7(t,e){if(t.length<2)return"";let r="";const n=t.length,i=1e-5;for(let s=0;s<n;s++){const a=t[s],o=t[s-1],l=t[s+1];if(s===0)r+=`M${a.x},${a.y}`;else if(s===n-1)r+=`L${a.x},${a.y}`;else{const c=a.x-o.x,h=a.y-o.y,f=l.x-a.x,g=l.y-a.y,p=Math.hypot(c,h),v=Math.hypot(f,g);if(p<i||v<i){r+=`L${a.x},${a.y}`;continue}const x=c/p,b=h/p,_=f/v,k=g/v,N=x*_+b*k,j=Math.max(-1,Math.min(1,N)),P=Math.acos(j);if(P<i||Math.abs(Math.PI-P)<i){r+=`L${a.x},${a.y}`;continue}const F=Math.min(e/Math.sin(P/2),p/2,v/2),D=a.x-x*F,U=a.y-b*F,z=a.x+_*F,K=a.y+k*F;r+=`L${D},${U}`,r+=`Q${a.x},${a.y} ${z},${K}`}}return r}M(j7,"generateRoundedPath");function __(t,e){if(!t||!e)return{angle:0,deltaX:0,deltaY:0};const r=e.x-t.x,n=e.y-t.y;return{angle:Math.atan2(n,r),deltaX:r,deltaY:n}}M(__,"calculateDeltaAndAngle");function L7(t,e){const r=t.map(i=>({...i}));if(t.length>=2&&As[e.arrowTypeStart]){const i=As[e.arrowTypeStart],s=t[0],a=t[1],{angle:o}=__(s,a),l=i*Math.cos(o),c=i*Math.sin(o);r[0].x=s.x+l,r[0].y=s.y+c}const n=t.length;if(n>=2&&As[e.arrowTypeEnd]){const i=As[e.arrowTypeEnd],s=t[n-1],a=t[n-2],{angle:o}=__(a,s),l=i*Math.cos(o),c=i*Math.sin(o);r[n-1].x=s.x-l,r[n-1].y=s.y-c}return r}M(L7,"applyMarkerOffsetsToPoints");var mge=M((t,e,r,n)=>{e.forEach(i=>{Lge[i](t,r,n)})},"insertMarkers"),gge=M((t,e,r)=>{Ue.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),yge=M((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),vge=M((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),xge=M((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),bge=M((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),wge=M((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),_ge=M((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),Sge=M((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),Cge=M((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),kge=M((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),Nge=M((t,e,r)=>{const n=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("d","M9,0 L9,18");const i=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),i.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),Tge=M((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),Age=M((t,e,r)=>{const n=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const i=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),i.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),Ege=M((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),jge=M((t,e,r)=>{const n=t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");n.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),n.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),n.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),Lge={extension:gge,composition:yge,aggregation:vge,dependency:xge,lollipop:bge,point:wge,circle:_ge,cross:Sge,barb:Cge,only_one:kge,zero_or_one:Nge,one_or_more:Tge,zero_or_more:Age,requirement_arrow:Ege,requirement_contains:jge},Pge=mge,Rge={common:Yp,getConfig:Ls,insertCluster:zme,insertEdge:pge,insertEdgeLabel:lge,insertMarkers:Pge,insertNode:A7,interpolateToCurve:uk,labelHelper:Qt,log:Ue,positionEdgeLabel:cge},Kg={},P7=M(t=>{for(const e of t)Kg[e.name]=e},"registerLayoutLoaders"),Mge=M(()=>{P7([{name:"dagre",loader:M(async()=>await Vr(()=>import("./dagre-6UL2VRFP-IZn6d7GT.js"),__vite__mapDeps([0,1,2,3,4,5])),"loader")},{name:"cose-bilkent",loader:M(async()=>await Vr(()=>import("./cose-bilkent-S5V4N54A-BofT8XiR.js"),__vite__mapDeps([6,7])),"loader")}])},"registerDefaultLayoutLoaders");Mge();var S5e=M(async(t,e)=>{if(!(t.layoutAlgorithm in Kg))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const r=Kg[t.layoutAlgorithm];return(await r.loader()).render(t,e,Rge,{algorithm:r.algorithm})},"render"),C5e=M((t="",{fallback:e="dagre"}={})=>{if(t in Kg)return t;if(e in Kg)return Ue.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),R7="comm",M7="rule",O7="decl",Oge="@import",Ige="@namespace",Dge="@keyframes",Bge="@layer",I7=Math.abs,jk=String.fromCharCode;function D7(t){return t.trim()}function R1(t,e,r){return t.replace(e,r)}function Fge(t,e,r){return t.indexOf(e,r)}function sp(t,e){return t.charCodeAt(e)|0}function jp(t,e,r){return t.slice(e,r)}function Vl(t){return t.length}function $ge(t){return t.length}function Ky(t,e){return e.push(t),t}var Zx=1,Lp=1,B7=0,Eo=0,Li=0,Qp="";function Lk(t,e,r,n,i,s,a,o){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:Zx,column:Lp,length:a,return:"",siblings:o}}function zge(){return Li}function Uge(){return Li=Eo>0?sp(Qp,--Eo):0,Lp--,Li===10&&(Lp=1,Zx--),Li}function dl(){return Li=Eo<B7?sp(Qp,Eo++):0,Lp++,Li===10&&(Lp=1,Zx++),Li}function eh(){return sp(Qp,Eo)}function M1(){return Eo}function Qx(t,e){return jp(Qp,t,e)}function Xg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qge(t){return Zx=Lp=1,B7=Vl(Qp=t),Eo=0,[]}function Wge(t){return Qp="",t}function nw(t){return D7(Qx(Eo-1,S_(t===91?t+2:t===40?t+1:t)))}function Vge(t){for(;(Li=eh())&&Li<33;)dl();return Xg(t)>2||Xg(Li)>3?"":" "}function Hge(t,e){for(;--e&&dl()&&!(Li<48||Li>102||Li>57&&Li<65||Li>70&&Li<97););return Qx(t,M1()+(e<6&&eh()==32&&dl()==32))}function S_(t){for(;dl();)switch(Li){case t:return Eo;case 34:case 39:t!==34&&t!==39&&S_(Li);break;case 40:t===41&&S_(t);break;case 92:dl();break}return Eo}function Gge(t,e){for(;dl()&&t+Li!==57;)if(t+Li===84&&eh()===47)break;return"/*"+Qx(e,Eo-1)+"*"+jk(t===47?t:dl())}function Yge(t){for(;!Xg(eh());)dl();return Qx(t,Eo)}function Kge(t){return Wge(O1("",null,null,null,[""],t=qge(t),0,[0],t))}function O1(t,e,r,n,i,s,a,o,l){for(var c=0,h=0,f=a,g=0,p=0,v=0,x=1,b=1,_=1,k=0,N="",j=i,P=s,F=n,D=N;b;)switch(v=k,k=dl()){case 40:if(v!=108&&sp(D,f-1)==58){Fge(D+=R1(nw(k),"&","&\f"),"&\f",I7(c?o[c-1]:0))!=-1&&(_=-1);break}case 34:case 39:case 91:D+=nw(k);break;case 9:case 10:case 13:case 32:D+=Vge(v);break;case 92:D+=Hge(M1()-1,7);continue;case 47:switch(eh()){case 42:case 47:Ky(Xge(Gge(dl(),M1()),e,r,l),l),(Xg(v||1)==5||Xg(eh()||1)==5)&&Vl(D)&&jp(D,-1,void 0)!==" "&&(D+=" ");break;default:D+="/"}break;case 123*x:o[c++]=Vl(D)*_;case 125*x:case 59:case 0:switch(k){case 0:case 125:b=0;case 59+h:_==-1&&(D=R1(D,/\f/g,"")),p>0&&(Vl(D)-f||x===0&&v===47)&&Ky(p>32?v4(D+";",n,r,f-1,l):v4(R1(D," ","")+";",n,r,f-2,l),l);break;case 59:D+=";";default:if(Ky(F=y4(D,e,r,c,h,i,o,N,j=[],P=[],f,s),s),k===123)if(h===0)O1(D,e,F,F,j,s,f,o,P);else{switch(g){case 99:if(sp(D,3)===110)break;case 108:if(sp(D,2)===97)break;default:h=0;case 100:case 109:case 115:}h?O1(t,F,F,n&&Ky(y4(t,F,F,0,0,i,o,N,i,j=[],f,P),P),i,P,f,o,n?j:P):O1(D,F,F,F,[""],P,0,o,P)}}c=h=p=0,x=_=1,N=D="",f=a;break;case 58:f=1+Vl(D),p=v;default:if(x<1){if(k==123)--x;else if(k==125&&x++==0&&Uge()==125)continue}switch(D+=jk(k),k*x){case 38:_=h>0?1:(D+="\f",-1);break;case 44:o[c++]=(Vl(D)-1)*_,_=1;break;case 64:eh()===45&&(D+=nw(dl())),g=eh(),h=f=Vl(N=D+=Yge(M1())),k++;break;case 45:v===45&&Vl(D)==2&&(x=0)}}return s}function y4(t,e,r,n,i,s,a,o,l,c,h,f){for(var g=i-1,p=i===0?s:[""],v=$ge(p),x=0,b=0,_=0;x<n;++x)for(var k=0,N=jp(t,g+1,g=I7(b=a[x])),j=t;k<v;++k)(j=D7(b>0?p[k]+" "+N:R1(N,/&\f/g,p[k])))&&(l[_++]=j);return Lk(t,e,r,i===0?M7:o,l,c,h,f)}function Xge(t,e,r,n){return Lk(t,e,r,R7,jk(zge()),jp(t,2,-2),0,n)}function v4(t,e,r,n,i){return Lk(t,e,r,O7,jp(t,0,n),jp(t,n+1,-1),n,i)}function C_(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function Jge(t,e,r,n){switch(t.type){case Bge:if(t.children.length)break;case Oge:case Ige:case O7:return t.return=t.return||t.value;case R7:return"";case Dge:return t.return=t.value+"{"+C_(t.children,n)+"}";case M7:if(!Vl(t.value=t.props.join(",")))return""}return Vl(r=C_(t.children,n))?t.return=t.value+"{"+r+"}":""}var Zge=uB(Object.keys,Object),Qge=Object.prototype,e0e=Qge.hasOwnProperty;function t0e(t){if(!Ux(t))return Zge(t);var e=[];for(var r in Object(t))e0e.call(t,r)&&r!="constructor"&&e.push(r);return e}var k_=Vd(lc,"DataView"),N_=Vd(lc,"Promise"),T_=Vd(lc,"Set"),A_=Vd(lc,"WeakMap"),x4="[object Map]",r0e="[object Object]",b4="[object Promise]",w4="[object Set]",_4="[object WeakMap]",S4="[object DataView]",n0e=Wd(k_),i0e=Wd(Gg),s0e=Wd(N_),a0e=Wd(T_),o0e=Wd(A_),nd=Xp;(k_&&nd(new k_(new ArrayBuffer(1)))!=S4||Gg&&nd(new Gg)!=x4||N_&&nd(N_.resolve())!=b4||T_&&nd(new T_)!=w4||A_&&nd(new A_)!=_4)&&(nd=function(t){var e=Xp(t),r=e==r0e?t.constructor:void 0,n=r?Wd(r):"";if(n)switch(n){case n0e:return S4;case i0e:return x4;case s0e:return b4;case a0e:return w4;case o0e:return _4}return e});var l0e="[object Map]",c0e="[object Set]",u0e=Object.prototype,h0e=u0e.hasOwnProperty;function C4(t){if(t==null)return!0;if(qx(t)&&(Ov(t)||typeof t=="string"||typeof t.splice=="function"||lk(t)||ck(t)||Mv(t)))return!t.length;var e=nd(t);if(e==l0e||e==c0e)return!t.size;if(Ux(t))return!t0e(t).length;for(var r in t)if(h0e.call(t,r))return!1;return!0}var F7="c4",d0e=M(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),f0e=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./c4Diagram-YG6GDRKO-Coi7mWEw.js");return{diagram:e}},__vite__mapDeps([8,9]));return{id:F7,diagram:t}},"loader"),p0e={id:F7,detector:d0e,loader:f0e},m0e=p0e,$7="flowchart",g0e=M((t,e)=>e?.flowchart?.defaultRenderer==="dagre-wrapper"||e?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(t),"detector"),y0e=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-Tu--moYE.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:$7,diagram:t}},"loader"),v0e={id:$7,detector:g0e,loader:y0e},x0e=v0e,z7="flowchart-v2",b0e=M((t,e)=>e?.flowchart?.defaultRenderer==="dagre-d3"?!1:(e?.flowchart?.defaultRenderer==="elk"&&(e.layout="elk"),/^\s*graph/.test(t)&&e?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(t)),"detector"),w0e=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-Tu--moYE.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:z7,diagram:t}},"loader"),_0e={id:z7,detector:b0e,loader:w0e},S0e=_0e,U7="er",C0e=M(t=>/^\s*erDiagram/.test(t),"detector"),k0e=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./erDiagram-Q2GNP2WA-8cM9Djm3.js");return{diagram:e}},__vite__mapDeps([15,12,13,14]));return{id:U7,diagram:t}},"loader"),N0e={id:U7,detector:C0e,loader:k0e},T0e=N0e,q7="gitGraph",A0e=M(t=>/^\s*gitGraph/.test(t),"detector"),E0e=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./gitGraphDiagram-NY62KEGX-DNla9G7V.js");return{diagram:e}},__vite__mapDeps([16,17,18,19,2,4,5]));return{id:q7,diagram:t}},"loader"),j0e={id:q7,detector:A0e,loader:E0e},L0e=j0e,W7="gantt",P0e=M(t=>/^\s*gantt/.test(t),"detector"),R0e=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./ganttDiagram-LVOFAZNH-CfKZ0LVP.js");return{diagram:e}},__vite__mapDeps([20,21,22,23]));return{id:W7,diagram:t}},"loader"),M0e={id:W7,detector:P0e,loader:R0e},O0e=M0e,V7="info",I0e=M(t=>/^\s*info/.test(t),"detector"),D0e=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./infoDiagram-ER5ION4S-cgPyPpLq.js");return{diagram:e}},__vite__mapDeps([24,19,2,4,5]));return{id:V7,diagram:t}},"loader"),B0e={id:V7,detector:I0e,loader:D0e},H7="pie",F0e=M(t=>/^\s*pie/.test(t),"detector"),$0e=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./pieDiagram-ADFJNKIX-hpef6Gwc.js");return{diagram:e}},__vite__mapDeps([25,17,19,2,4,5,26,27,22]));return{id:H7,diagram:t}},"loader"),z0e={id:H7,detector:F0e,loader:$0e},G7="quadrantChart",U0e=M(t=>/^\s*quadrantChart/.test(t),"detector"),q0e=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./quadrantDiagram-AYHSOK5B-FnIHVLEH.js");return{diagram:e}},__vite__mapDeps([28,21,22,23]));return{id:G7,diagram:t}},"loader"),W0e={id:G7,detector:U0e,loader:q0e},V0e=W0e,Y7="xychart",H0e=M(t=>/^\s*xychart(-beta)?/.test(t),"detector"),G0e=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./xychartDiagram-PRI3JC2R-DO5Uex4f.js");return{diagram:e}},__vite__mapDeps([29,22,27,21,23]));return{id:Y7,diagram:t}},"loader"),Y0e={id:Y7,detector:H0e,loader:G0e},K0e=Y0e,K7="requirement",X0e=M(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),J0e=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./requirementDiagram-UZGBJVZJ-Be0UPHkM.js");return{diagram:e}},__vite__mapDeps([30,12,13]));return{id:K7,diagram:t}},"loader"),Z0e={id:K7,detector:X0e,loader:J0e},Q0e=Z0e,X7="sequence",eye=M(t=>/^\s*sequenceDiagram/.test(t),"detector"),tye=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./sequenceDiagram-WL72ISMW-IX-tmJYt.js");return{diagram:e}},__vite__mapDeps([31,9,18]));return{id:X7,diagram:t}},"loader"),rye={id:X7,detector:eye,loader:tye},nye=rye,J7="class",iye=M((t,e)=>e?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t),"detector"),sye=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./classDiagram-2ON5EDUG-m3wJg8TO.js");return{diagram:e}},__vite__mapDeps([32,33,11,12,13]));return{id:J7,diagram:t}},"loader"),aye={id:J7,detector:iye,loader:sye},oye=aye,Z7="classDiagram",lye=M((t,e)=>/^\s*classDiagram/.test(t)&&e?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t),"detector"),cye=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./classDiagram-v2-WZHVMYZB-m3wJg8TO.js");return{diagram:e}},__vite__mapDeps([34,33,11,12,13]));return{id:Z7,diagram:t}},"loader"),uye={id:Z7,detector:lye,loader:cye},hye=uye,Q7="state",dye=M((t,e)=>e?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t),"detector"),fye=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./stateDiagram-FKZM4ZOC-CrWCkCCt.js");return{diagram:e}},__vite__mapDeps([35,36,12,13,1,2,3,4]));return{id:Q7,diagram:t}},"loader"),pye={id:Q7,detector:dye,loader:fye},mye=pye,e$="stateDiagram",gye=M((t,e)=>!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&e?.state?.defaultRenderer==="dagre-wrapper"),"detector"),yye=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./stateDiagram-v2-4FDKWEC3-DSSxoUD-.js");return{diagram:e}},__vite__mapDeps([37,36,12,13]));return{id:e$,diagram:t}},"loader"),vye={id:e$,detector:gye,loader:yye},xye=vye,t$="journey",bye=M(t=>/^\s*journey/.test(t),"detector"),wye=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./journeyDiagram-XKPGCS4Q-BVJBHcvz.js");return{diagram:e}},__vite__mapDeps([38,9,11,26]));return{id:t$,diagram:t}},"loader"),_ye={id:t$,detector:bye,loader:wye},Sye=_ye,Cye=M((t,e,r)=>{Ue.debug(`rendering svg for syntax error
`);const n=nue(e),i=n.append("g");n.attr("viewBox","0 0 2412 512"),AO(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),r$={draw:Cye},kye=r$,Nye={db:{},renderer:r$,parser:{parse:M(()=>{},"parse")}},Tye=Nye,n$="flowchart-elk",Aye=M((t,e={})=>/^\s*flowchart-elk/.test(t)||/^\s*(flowchart|graph)/.test(t)&&e?.flowchart?.defaultRenderer==="elk"?(e.layout="elk",!0):!1,"detector"),Eye=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-Tu--moYE.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:n$,diagram:t}},"loader"),jye={id:n$,detector:Aye,loader:Eye},Lye=jye,i$="timeline",Pye=M(t=>/^\s*timeline/.test(t),"detector"),Rye=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./timeline-definition-IT6M3QCI-Cv_z_qgT.js");return{diagram:e}},__vite__mapDeps([39,26]));return{id:i$,diagram:t}},"loader"),Mye={id:i$,detector:Pye,loader:Rye},Oye=Mye,s$="mindmap",Iye=M(t=>/^\s*mindmap/.test(t),"detector"),Dye=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./mindmap-definition-VGOIOE7T-C3_9Ha3L.js");return{diagram:e}},__vite__mapDeps([40,12,13]));return{id:s$,diagram:t}},"loader"),Bye={id:s$,detector:Iye,loader:Dye},Fye=Bye,a$="kanban",$ye=M(t=>/^\s*kanban/.test(t),"detector"),zye=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./kanban-definition-3W4ZIXB7-DSAjbSou.js");return{diagram:e}},__vite__mapDeps([41,11]));return{id:a$,diagram:t}},"loader"),Uye={id:a$,detector:$ye,loader:zye},qye=Uye,o$="sankey",Wye=M(t=>/^\s*sankey(-beta)?/.test(t),"detector"),Vye=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./sankeyDiagram-TZEHDZUN-R9bq-v9-.js");return{diagram:e}},__vite__mapDeps([42,27,22]));return{id:o$,diagram:t}},"loader"),Hye={id:o$,detector:Wye,loader:Vye},Gye=Hye,l$="packet",Yye=M(t=>/^\s*packet(-beta)?/.test(t),"detector"),Kye=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./diagram-S2PKOQOG-BQ9muFnO.js");return{diagram:e}},__vite__mapDeps([43,17,19,2,4,5]));return{id:l$,diagram:t}},"loader"),Xye={id:l$,detector:Yye,loader:Kye},c$="radar",Jye=M(t=>/^\s*radar-beta/.test(t),"detector"),Zye=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./diagram-QEK2KX5R-DFLMStb1.js");return{diagram:e}},__vite__mapDeps([44,17,19,2,4,5]));return{id:c$,diagram:t}},"loader"),Qye={id:c$,detector:Jye,loader:Zye},u$="block",e1e=M(t=>/^\s*block(-beta)?/.test(t),"detector"),t1e=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./blockDiagram-VD42YOAC-BhoV5mHd.js");return{diagram:e}},__vite__mapDeps([45,11,5,2,1,14]));return{id:u$,diagram:t}},"loader"),r1e={id:u$,detector:e1e,loader:t1e},n1e=r1e,h$="architecture",i1e=M(t=>/^\s*architecture/.test(t),"detector"),s1e=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./architectureDiagram-VXUJARFQ-CwKecEKq.js");return{diagram:e}},__vite__mapDeps([46,17,19,2,4,5,7]));return{id:h$,diagram:t}},"loader"),a1e={id:h$,detector:i1e,loader:s1e},o1e=a1e,d$="treemap",l1e=M(t=>/^\s*treemap/.test(t),"detector"),c1e=M(async()=>{const{diagram:t}=await Vr(async()=>{const{diagram:e}=await import("./diagram-PSM6KHXK-G1xjNsDg.js");return{diagram:e}},__vite__mapDeps([47,13,17,19,2,4,5,23,27,22]));return{id:d$,diagram:t}},"loader"),u1e={id:d$,detector:l1e,loader:c1e},k4=!1,e2=M(()=>{k4||(k4=!0,mv("error",Tye,t=>t.toLowerCase().trim()==="error"),mv("---",{db:{clear:M(()=>{},"clear")},styles:{},renderer:{draw:M(()=>{},"draw")},parser:{parse:M(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:M(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),O5(Lye,Fye,o1e),O5(m0e,qye,hye,oye,T0e,O0e,B0e,z0e,Q0e,nye,S0e,x0e,Oye,L0e,xye,mye,Sye,V0e,Gye,Xye,K0e,n1e,Qye,u1e))},"addDiagrams"),h1e=M(async()=>{Ue.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(Pd).map(async([r,{detector:n,loader:i}])=>{if(i)try{F5(r)}catch{try{const{diagram:s,id:a}=await i();mv(a,s,n)}catch(s){throw Ue.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete Pd[r],s}}}))).filter(r=>r.status==="rejected");if(e.length>0){Ue.error(`Failed to load ${e.length} external diagrams`);for(const r of e)Ue.error(r);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),d1e="graphics-document document";function f$(t,e){t.attr("role",d1e),e!==""&&t.attr("aria-roledescription",e)}M(f$,"setA11yDiagramInfo");function p$(t,e,r,n){if(t.insert!==void 0){if(r){const i=`chart-desc-${n}`;t.attr("aria-describedby",i),t.insert("desc",":first-child").attr("id",i).text(r)}if(e){const i=`chart-title-${n}`;t.attr("aria-labelledby",i),t.insert("title",":first-child").attr("id",i).text(e)}}}M(p$,"addSVGa11yTitleDescription");var kd,E_=(kd=class{constructor(e,r,n,i,s){this.type=e,this.text=r,this.db=n,this.parser=i,this.renderer=s}static async fromText(e,r={}){const n=Ls(),i=RC(e,n);e=cpe(e)+`
`;try{F5(i)}catch{const c=Rse(i);if(!c)throw new gO(`Diagram ${i} not found.`);const{id:h,diagram:f}=await c();mv(h,f)}const{db:s,parser:a,renderer:o,init:l}=F5(i);return a.parser&&(a.parser.yy=s),s.clear?.(),l?.(n),r.title&&s.setDiagramTitle?.(r.title),await a.parse(e),new kd(i,e,s,a,o)}async render(e,r){await this.renderer.draw(this.text,e,r,this)}getParser(){return this.parser}getType(){return this.type}},M(kd,"Diagram"),kd),N4=[],f1e=M(()=>{N4.forEach(t=>{t()}),N4=[]},"attachFunctions"),p1e=M(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function m$(t){const e=t.match(mO);if(!e)return{text:t,metadata:{}};let r=uhe(e[1],{schema:che})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:t.slice(e[0].length),metadata:n}}M(m$,"extractFrontMatter");var m1e=M(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),g1e=M(t=>{const{text:e,metadata:r}=m$(t),{displayMode:n,title:i,config:s={}}=r;return n&&(s.gantt||(s.gantt={}),s.gantt.displayMode=n),{title:i,config:s,text:e}},"processFrontmatter"),y1e=M(t=>{const e=cl.detectInit(t)??{},r=cl.detectDirective(t,"wrap");return Array.isArray(r)?e.wrap=r.some(({type:n})=>n==="wrap"):r?.type==="wrap"&&(e.wrap=!0),{text:Xfe(t),directive:e}},"processDirectives");function Pk(t){const e=m1e(t),r=g1e(e),n=y1e(r.text),i=mk(r.config,n.directive);return t=p1e(n.text),{code:t,title:r.title,config:i}}M(Pk,"preprocessDiagram");function g$(t){const e=new TextEncoder().encode(t),r=Array.from(e,n=>String.fromCodePoint(n)).join("");return btoa(r)}M(g$,"toBase64");var v1e=5e4,x1e="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",b1e="sandbox",w1e="loose",_1e="http://www.w3.org/2000/svg",S1e="http://www.w3.org/1999/xlink",C1e="http://www.w3.org/1999/xhtml",k1e="100%",N1e="100%",T1e="border:0;margin:0;",A1e="margin:0",E1e="allow-top-navigation-by-user-activation allow-popups",j1e='The "iframe" tag is not supported by your browser.',L1e=["foreignobject"],P1e=["dominant-baseline"];function Rk(t){const e=Pk(t);return fv(),Kse(e.config??{}),e}M(Rk,"processAndSetConfigs");async function y$(t,e){e2();try{const{code:r,config:n}=Rk(t);return{diagramType:(await x$(r)).type,config:n}}catch(r){if(e?.suppressErrors)return!1;throw r}}M(y$,"parse");var T4=M((t,e,r=[])=>`
.${t} ${e} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),R1e=M((t,e=new Map)=>{let r="";if(t.themeCSS!==void 0&&(r+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){const a=t.htmlLabels??t.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(o=>{C4(o.styles)||a.forEach(l=>{r+=T4(o.id,l,o.styles)}),C4(o.textStyles)||(r+=T4(o.id,"tspan",(o?.textStyles||[]).map(l=>l.replace("color","fill"))))})}return r},"createCssStyles"),M1e=M((t,e,r,n)=>{const i=R1e(t,r),s=mae(e,i,t.themeVariables);return C_(Kge(`${n}{${s}}`),Jge)},"createUserStyles"),O1e=M((t="",e,r)=>{let n=t;return!r&&!e&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=Hd(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),I1e=M((t="",e)=>{const r=e?.viewBox?.baseVal?.height?e.viewBox.baseVal.height+"px":N1e,n=g$(`<body style="${A1e}">${t}</body>`);return`<iframe style="width:${k1e};height:${r};${T1e}" src="data:text/html;charset=UTF-8;base64,${n}" sandbox="${E1e}">
  ${j1e}
</iframe>`},"putIntoIFrame"),A4=M((t,e,r,n,i)=>{const s=t.append("div");s.attr("id",r),n&&s.attr("style",n);const a=s.append("svg").attr("id",e).attr("width","100%").attr("xmlns",_1e);return i&&a.attr("xmlns:xlink",i),a.append("g"),t},"appendDivSvgG");function j_(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}M(j_,"sandboxedIframe");var D1e=M((t,e,r,n)=>{t.getElementById(e)?.remove(),t.getElementById(r)?.remove(),t.getElementById(n)?.remove()},"removeExistingElements"),B1e=M(async function(t,e,r){e2();const n=Rk(e);e=n.code;const i=Ls();Ue.debug(i),e.length>(i?.maxTextSize??v1e)&&(e=x1e);const s="#"+t,a="i"+t,o="#"+a,l="d"+t,c="#"+l,h=M(()=>{const W=Br(g?o:c).node();W&&"remove"in W&&W.remove()},"removeTempElements");let f=Br("body");const g=i.securityLevel===b1e,p=i.securityLevel===w1e,v=i.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),g){const q=j_(Br(r),a);f=Br(q.nodes()[0].contentDocument.body),f.node().style.margin=0}else f=Br(r);A4(f,t,l,`font-family: ${v}`,S1e)}else{if(D1e(document,t,l,a),g){const q=j_(Br("body"),a);f=Br(q.nodes()[0].contentDocument.body),f.node().style.margin=0}else f=Br("body");A4(f,t,l)}let x,b;try{x=await E_.fromText(e,{title:n.title})}catch(q){if(i.suppressErrorRendering)throw h(),q;x=await E_.fromText("error"),b=q}const _=f.select(c).node(),k=x.type,N=_.firstChild,j=N.firstChild,P=x.renderer.getClasses?.(e,x),F=M1e(i,k,P,s),D=document.createElement("style");D.innerHTML=F,N.insertBefore(D,j);try{await x.renderer.draw(e,t,YA.version,x)}catch(q){throw i.suppressErrorRendering?h():kye.draw(e,t,YA.version),q}const U=f.select(`${c} svg`),z=x.db.getAccTitle?.(),K=x.db.getAccDescription?.();b$(k,U,z,K),f.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",C1e);let B=f.select(c).node().innerHTML;if(Ue.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),B=O1e(B,g,zi(i.arrowMarkerAbsolute)),g){const q=f.select(c+" svg").node();B=I1e(B,q)}else p||(B=Ld.sanitize(B,{ADD_TAGS:L1e,ADD_ATTR:P1e,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(f1e(),b)throw b;return h(),{diagramType:k,svg:B,bindFunctions:x.db.bindFunctions}},"render");function v$(t={}){const e=Fi({},t);e?.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),Gse(e),e?.theme&&e.theme in eu?e.themeVariables=eu[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=eu.default.getThemeVariables(e.themeVariables));const r=typeof e=="object"?Hse(e):wO();PC(r.logLevel),e2()}M(v$,"initialize");var x$=M((t,e={})=>{const{code:r}=Pk(t);return E_.fromText(r,e)},"getDiagramFromText");function b$(t,e,r,n){f$(e,t),p$(e,r,n,e.attr("id"))}M(b$,"addA11yInfo");var Bd=Object.freeze({render:B1e,parse:y$,getDiagramFromText:x$,initialize:v$,getConfig:Ls,setConfig:_O,getSiteConfig:wO,updateSiteConfig:Yse,reset:M(()=>{fv()},"reset"),globalReset:M(()=>{fv(Cp)},"globalReset"),defaultConfig:Cp});PC(Ls().logLevel);fv(Ls());var F1e=M((t,e,r)=>{Ue.warn(t),pk(t)?(r&&r(t.str,t.hash),e.push({...t,message:t.str,error:t})):(r&&r(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),w$=M(async function(t={querySelector:".mermaid"}){try{await $1e(t)}catch(e){if(pk(e)&&Ue.error(e.str),uu.parseError&&uu.parseError(e),!t.suppressErrors)throw Ue.error("Use the suppressErrors option to suppress these errors"),e}},"run"),$1e=M(async function({postRenderCallback:t,querySelector:e,nodes:r}={querySelector:".mermaid"}){const n=Bd.getConfig();Ue.debug(`${t?"":"No "}Callback function found`);let i;if(r)i=r;else if(e)i=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");Ue.debug(`Found ${i.length} diagrams`),n?.startOnLoad!==void 0&&(Ue.debug("Start On Load: "+n?.startOnLoad),Bd.updateSiteConfig({startOnLoad:n?.startOnLoad}));const s=new cl.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let a;const o=[];for(const l of Array.from(i)){if(Ue.info("Rendering diagram: "+l.id),l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const c=`mermaid-${s.next()}`;a=l.innerHTML,a=UB(cl.entityDecode(a)).trim().replace(/<br\s*\/?>/gi,"<br/>");const h=cl.detectInit(a);h&&Ue.debug("Detected early reinit: ",h);try{const{svg:f,bindFunctions:g}=await k$(c,a,l);l.innerHTML=f,t&&await t(c),g&&g(l)}catch(f){F1e(f,o,uu.parseError)}}if(o.length>0)throw o[0]},"runThrowsErrors"),_$=M(function(t){Bd.initialize(t)},"initialize"),z1e=M(async function(t,e,r){Ue.warn("mermaid.init is deprecated. Please use run instead."),t&&_$(t);const n={postRenderCallback:r,querySelector:".mermaid"};typeof e=="string"?n.querySelector=e:e&&(e instanceof HTMLElement?n.nodes=[e]:n.nodes=e),await w$(n)},"init"),U1e=M(async(t,{lazyLoad:e=!0}={})=>{e2(),O5(...t),e===!1&&await h1e()},"registerExternalDiagrams"),S$=M(function(){if(uu.startOnLoad){const{startOnLoad:t}=Bd.getConfig();t&&uu.run().catch(e=>Ue.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",S$,!1);var q1e=M(function(t){uu.parseError=t},"setParseErrorHandler"),Hv=[],iw=!1,C$=M(async()=>{if(!iw){for(iw=!0;Hv.length>0;){const t=Hv.shift();if(t)try{await t()}catch(e){Ue.error("Error executing queue",e)}}iw=!1}},"executeQueue"),W1e=M(async(t,e)=>new Promise((r,n)=>{const i=M(()=>new Promise((s,a)=>{Bd.parse(t,e).then(o=>{s(o),r(o)},o=>{Ue.error("Error parsing",o),uu.parseError?.(o),a(o),n(o)})}),"performCall");Hv.push(i),C$().catch(n)}),"parse"),k$=M((t,e,r)=>new Promise((n,i)=>{const s=M(()=>new Promise((a,o)=>{Bd.render(t,e,r).then(l=>{a(l),n(l)},l=>{Ue.error("Error parsing",l),uu.parseError?.(l),o(l),i(l)})}),"performCall");Hv.push(s),C$().catch(i)}),"render"),V1e=M(()=>Object.keys(Pd).map(t=>({id:t})),"getRegisteredDiagramsMetadata"),uu={startOnLoad:!0,mermaidAPI:Bd,parse:W1e,render:k$,init:z1e,run:w$,registerExternalDiagrams:U1e,registerLayoutLoaders:P7,initialize:_$,parseError:void 0,contentLoaded:S$,setParseErrorHandler:q1e,detectType:RC,registerIconPacks:pme,getRegisteredDiagramsMetadata:V1e},N$=uu;function ln(t){"@babel/helpers - typeof";return ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(t)}var ml=Uint8Array,Ka=Uint16Array,Mk=Int32Array,Ok=new ml([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ik=new ml([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),E4=new ml([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),T$=function(t,e){for(var r=new Ka(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new Mk(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},A$=T$(Ok,2),H1e=A$.b,L_=A$.r;H1e[28]=258,L_[258]=28;var G1e=T$(Ik,0),j4=G1e.r,P_=new Ka(32768);for(var En=0;En<32768;++En){var Gu=(En&43690)>>1|(En&21845)<<1;Gu=(Gu&52428)>>2|(Gu&13107)<<2,Gu=(Gu&61680)>>4|(Gu&3855)<<4,P_[En]=((Gu&65280)>>8|(Gu&255)<<8)>>1}var wg=(function(t,e,r){for(var n=t.length,i=0,s=new Ka(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new Ka(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new Ka(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],h=e-t[i],f=a[t[i]-1]++<<h,g=f|(1<<h)-1;f<=g;++f)o[P_[f]>>l]=c}else for(o=new Ka(n),i=0;i<n;++i)t[i]&&(o[i]=P_[a[t[i]-1]++]>>15-t[i]);return o}),Fd=new ml(288);for(var En=0;En<144;++En)Fd[En]=8;for(var En=144;En<256;++En)Fd[En]=9;for(var En=256;En<280;++En)Fd[En]=7;for(var En=280;En<288;++En)Fd[En]=8;var Gv=new ml(32);for(var En=0;En<32;++En)Gv[En]=5;var Y1e=wg(Fd,9,0),K1e=wg(Gv,5,0),E$=function(t){return(t+7)/8|0},X1e=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new ml(t.subarray(e,r))},qc=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Vm=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},sw=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:L$,l:0};if(i==1){var a=new ml(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(P,F){return P.f-F.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,h=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};h!=i-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=h&&r[c].f<r[f].f?c++:f++],r[h++]={s:-1,f:o.f+l.f,l:o,r:l};for(var g=s[0].s,n=1;n<i;++n)s[n].s>g&&(g=s[n].s);var p=new Ka(g+1),v=R_(r[h-1],p,0);if(v>e){var n=0,x=0,b=v-e,_=1<<b;for(s.sort(function(F,D){return p[D.s]-p[F.s]||F.f-D.f});n<i;++n){var k=s[n].s;if(p[k]>e)x+=_-(1<<v-p[k]),p[k]=e;else break}for(x>>=b;x>0;){var N=s[n].s;p[N]<e?x-=1<<e-p[N]++-1:++n}for(;n>=0&&x;--n){var j=s[n].s;p[j]==e&&(--p[j],++x)}v=e}return{t:new ml(p),l:v}},R_=function(t,e,r){return t.s==-1?Math.max(R_(t.l,e,r+1),R_(t.r,e,r+1)):e[t.s]=r},L4=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Ka(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},Hm=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},j$=function(t,e,r){var n=r.length,i=E$(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},P4=function(t,e,r,n,i,s,a,o,l,c,h){qc(e,h++,r),++i[256];for(var f=sw(i,15),g=f.t,p=f.l,v=sw(s,15),x=v.t,b=v.l,_=L4(g),k=_.c,N=_.n,j=L4(x),P=j.c,F=j.n,D=new Ka(19),U=0;U<k.length;++U)++D[k[U]&31];for(var U=0;U<P.length;++U)++D[P[U]&31];for(var z=sw(D,7),K=z.t,B=z.l,q=19;q>4&&!K[E4[q-1]];--q);var W=c+5<<3,$=Hm(i,Fd)+Hm(s,Gv)+a,Q=Hm(i,g)+Hm(s,x)+a+14+3*q+Hm(D,K)+2*D[16]+3*D[17]+7*D[18];if(l>=0&&W<=$&&W<=Q)return j$(e,h,t.subarray(l,l+c));var ee,se,V,re;if(qc(e,h,1+(Q<$)),h+=2,Q<$){ee=wg(g,p,0),se=g,V=wg(x,b,0),re=x;var pe=wg(K,B,0);qc(e,h,N-257),qc(e,h+5,F-1),qc(e,h+10,q-4),h+=14;for(var U=0;U<q;++U)qc(e,h+3*U,K[E4[U]]);h+=3*q;for(var X=[k,P],O=0;O<2;++O)for(var Y=X[O],U=0;U<Y.length;++U){var ne=Y[U]&31;qc(e,h,pe[ne]),h+=K[ne],ne>15&&(qc(e,h,Y[U]>>5&127),h+=Y[U]>>12)}}else ee=Y1e,se=Fd,V=K1e,re=Gv;for(var U=0;U<o;++U){var oe=n[U];if(oe>255){var ne=oe>>18&31;Vm(e,h,ee[ne+257]),h+=se[ne+257],ne>7&&(qc(e,h,oe>>23&31),h+=Ok[ne]);var ue=oe&31;Vm(e,h,V[ue]),h+=re[ue],ue>3&&(Vm(e,h,oe>>5&8191),h+=Ik[ue])}else Vm(e,h,ee[oe]),h+=se[oe]}return Vm(e,h,ee[256]),h+se[256]},J1e=new Mk([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),L$=new ml(0),Z1e=function(t,e,r,n,i,s){var a=s.z||t.length,o=new ml(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),c=s.l,h=(s.r||0)&7;if(e){h&&(l[0]=s.r>>3);for(var f=J1e[e-1],g=f>>13,p=f&8191,v=(1<<r)-1,x=s.p||new Ka(32768),b=s.h||new Ka(v+1),_=Math.ceil(r/3),k=2*_,N=function(nt){return(t[nt]^t[nt+1]<<_^t[nt+2]<<k)&v},j=new Mk(25e3),P=new Ka(288),F=new Ka(32),D=0,U=0,z=s.i||0,K=0,B=s.w||0,q=0;z+2<a;++z){var W=N(z),$=z&32767,Q=b[W];if(x[$]=Q,b[W]=$,B<=z){var ee=a-z;if((D>7e3||K>24576)&&(ee>423||!c)){h=P4(t,l,0,j,P,F,U,K,q,z-q,h),K=D=U=0,q=z;for(var se=0;se<286;++se)P[se]=0;for(var se=0;se<30;++se)F[se]=0}var V=2,re=0,pe=p,X=$-Q&32767;if(ee>2&&W==N(z-X))for(var O=Math.min(g,ee)-1,Y=Math.min(32767,z),ne=Math.min(258,ee);X<=Y&&--pe&&$!=Q;){if(t[z+V]==t[z+V-X]){for(var oe=0;oe<ne&&t[z+oe]==t[z+oe-X];++oe);if(oe>V){if(V=oe,re=X,oe>O)break;for(var ue=Math.min(X,oe-2),de=0,se=0;se<ue;++se){var be=z-X+se&32767,Se=x[be],ke=be-Se&32767;ke>de&&(de=ke,Q=be)}}}$=Q,Q=x[$],X+=$-Q&32767}if(re){j[K++]=268435456|L_[V]<<18|j4[re];var De=L_[V]&31,Ye=j4[re]&31;U+=Ok[De]+Ik[Ye],++P[257+De],++F[Ye],B=z+V,++D}else j[K++]=t[z],++P[t[z]]}}for(z=Math.max(z,B);z<a;++z)j[K++]=t[z],++P[t[z]];h=P4(t,l,c,j,P,F,U,K,q,z-q,h),c||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=b,s.p=x,s.i=z,s.w=B)}else{for(var z=s.w||0;z<a+c;z+=65535){var We=z+65535;We>=a&&(l[h/8|0]=c,We=a),h=j$(l,h+1,t.subarray(z,We))}s.i=a}return X1e(o,0,n+E$(h)+i)},P$=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Q1e=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new ml(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return Z1e(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},R$=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},eve=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=P$();i.p(e.dictionary),R$(t,2,i.d())}};function M_(t,e){e||(e={});var r=P$();r.p(t);var n=Q1e(t,e,e.dictionary?6:2,4);return eve(n,e),R$(n,n.length-4,r.d()),n}var tve=typeof TextDecoder<"u"&&new TextDecoder,rve=0;try{tve.decode(L$,{stream:!0}),rve=1}catch{}function nve(t){if(Array.isArray(t))return t}function ive(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function R4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function sve(t,e){if(t){if(typeof t=="string")return R4(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R4(t,e):void 0}}function ave(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M4(t,e){return nve(t)||ive(t,e)||sve(t,e)||ave()}function O4(t,e="utf8"){return new TextDecoder(e).decode(t)}const ove=new TextEncoder;function lve(t){return ove.encode(t)}const cve=1024*8,uve=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),aw={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Dk{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=cve,r={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof Dk)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=aw[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===uve&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new aw[r](o.buffer);return this.offset+=n,l.reverse(),l}const a=new aw[r](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return O4(this.readBytes(e))}decodeText(e=1,r="utf8"){return O4(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(lve(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function em(t){let e=t.length;for(;--e>=0;)t[e]=0}const hve=3,dve=258,M$=29,fve=256,pve=fve+1+M$,O$=30,mve=512,gve=new Array((pve+2)*2);em(gve);const yve=new Array(O$*2);em(yve);const vve=new Array(mve);em(vve);const xve=new Array(dve-hve+1);em(xve);const bve=new Array(M$);em(bve);const wve=new Array(O$);em(wve);const _ve=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var O_=_ve;const Sve=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},Cve=new Uint32Array(Sve()),kve=(t,e,r,n)=>{const i=Cve,s=n+r;t^=-1;for(let a=n;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var zl=kve,I_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},I$={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Nve=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Tve=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Nve(r,n)&&(t[n]=r[n])}}return t},Ave=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let a=t[n];r.set(a,i),i+=a.length}return r},D$={assign:Tve,flattenChunks:Ave};let B$=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{B$=!1}const Jg=new Uint8Array(256);for(let t=0;t<256;t++)Jg[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Jg[254]=Jg[254]=1;var Eve=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,a=t.length,o=0;for(i=0;i<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const jve=(t,e)=>{if(e<65534&&t.subarray&&B$)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var Lve=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let a=t[n++];if(a<128){s[i++]=a;continue}let o=Jg[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<r;)a=a<<6|t[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return jve(s,i)},Pve=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Jg[t[r]]>e?r:e},D_={string2buf:Eve,buf2string:Lve,utf8border:Pve};function Rve(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Mve=Rve;const Xy=16209,Ove=16191;var Ive=function(e,r){let n,i,s,a,o,l,c,h,f,g,p,v,x,b,_,k,N,j,P,F,D,U,z,K;const B=e.state;n=e.next_in,z=e.input,i=n+(e.avail_in-5),s=e.next_out,K=e.output,a=s-(r-e.avail_out),o=s+(e.avail_out-257),l=B.dmax,c=B.wsize,h=B.whave,f=B.wnext,g=B.window,p=B.hold,v=B.bits,x=B.lencode,b=B.distcode,_=(1<<B.lenbits)-1,k=(1<<B.distbits)-1;e:do{v<15&&(p+=z[n++]<<v,v+=8,p+=z[n++]<<v,v+=8),N=x[p&_];t:for(;;){if(j=N>>>24,p>>>=j,v-=j,j=N>>>16&255,j===0)K[s++]=N&65535;else if(j&16){P=N&65535,j&=15,j&&(v<j&&(p+=z[n++]<<v,v+=8),P+=p&(1<<j)-1,p>>>=j,v-=j),v<15&&(p+=z[n++]<<v,v+=8,p+=z[n++]<<v,v+=8),N=b[p&k];r:for(;;){if(j=N>>>24,p>>>=j,v-=j,j=N>>>16&255,j&16){if(F=N&65535,j&=15,v<j&&(p+=z[n++]<<v,v+=8,v<j&&(p+=z[n++]<<v,v+=8)),F+=p&(1<<j)-1,F>l){e.msg="invalid distance too far back",B.mode=Xy;break e}if(p>>>=j,v-=j,j=s-a,F>j){if(j=F-j,j>h&&B.sane){e.msg="invalid distance too far back",B.mode=Xy;break e}if(D=0,U=g,f===0){if(D+=c-j,j<P){P-=j;do K[s++]=g[D++];while(--j);D=s-F,U=K}}else if(f<j){if(D+=c+f-j,j-=f,j<P){P-=j;do K[s++]=g[D++];while(--j);if(D=0,f<P){j=f,P-=j;do K[s++]=g[D++];while(--j);D=s-F,U=K}}}else if(D+=f-j,j<P){P-=j;do K[s++]=g[D++];while(--j);D=s-F,U=K}for(;P>2;)K[s++]=U[D++],K[s++]=U[D++],K[s++]=U[D++],P-=3;P&&(K[s++]=U[D++],P>1&&(K[s++]=U[D++]))}else{D=s-F;do K[s++]=K[D++],K[s++]=K[D++],K[s++]=K[D++],P-=3;while(P>2);P&&(K[s++]=K[D++],P>1&&(K[s++]=K[D++]))}}else if((j&64)===0){N=b[(N&65535)+(p&(1<<j)-1)];continue r}else{e.msg="invalid distance code",B.mode=Xy;break e}break}}else if((j&64)===0){N=x[(N&65535)+(p&(1<<j)-1)];continue t}else if(j&32){B.mode=Ove;break e}else{e.msg="invalid literal/length code",B.mode=Xy;break e}break}}while(n<i&&s<o);P=v>>3,n-=P,v-=P<<3,p&=(1<<v)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<o?257+(o-s):257-(s-o),B.hold=p,B.bits=v};const Mf=15,I4=852,D4=592,B4=0,ow=1,F4=2,Dve=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Bve=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Fve=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),$ve=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),zve=(t,e,r,n,i,s,a,o)=>{const l=o.bits;let c=0,h=0,f=0,g=0,p=0,v=0,x=0,b=0,_=0,k=0,N,j,P,F,D,U=null,z;const K=new Uint16Array(Mf+1),B=new Uint16Array(Mf+1);let q=null,W,$,Q;for(c=0;c<=Mf;c++)K[c]=0;for(h=0;h<n;h++)K[e[r+h]]++;for(p=l,g=Mf;g>=1&&K[g]===0;g--);if(p>g&&(p=g),g===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<g&&K[f]===0;f++);for(p<f&&(p=f),b=1,c=1;c<=Mf;c++)if(b<<=1,b-=K[c],b<0)return-1;if(b>0&&(t===B4||g!==1))return-1;for(B[1]=0,c=1;c<Mf;c++)B[c+1]=B[c]+K[c];for(h=0;h<n;h++)e[r+h]!==0&&(a[B[e[r+h]]++]=h);if(t===B4?(U=q=a,z=20):t===ow?(U=Dve,q=Bve,z=257):(U=Fve,q=$ve,z=0),k=0,h=0,c=f,D=s,v=p,x=0,P=-1,_=1<<p,F=_-1,t===ow&&_>I4||t===F4&&_>D4)return 1;for(;;){W=c-x,a[h]+1<z?($=0,Q=a[h]):a[h]>=z?($=q[a[h]-z],Q=U[a[h]-z]):($=96,Q=0),N=1<<c-x,j=1<<v,f=j;do j-=N,i[D+(k>>x)+j]=W<<24|$<<16|Q|0;while(j!==0);for(N=1<<c-1;k&N;)N>>=1;if(N!==0?(k&=N-1,k+=N):k=0,h++,--K[c]===0){if(c===g)break;c=e[r+a[h]]}if(c>p&&(k&F)!==P){for(x===0&&(x=p),D+=f,v=c-x,b=1<<v;v+x<g&&(b-=K[v+x],!(b<=0));)v++,b<<=1;if(_+=1<<v,t===ow&&_>I4||t===F4&&_>D4)return 1;P=k&F,i[P]=p<<24|v<<16|D-s|0}}return k!==0&&(i[D+k]=c-x<<24|64<<16|0),o.bits=p,0};var _g=zve;const Uve=0,F$=1,$$=2,{Z_FINISH:$4,Z_BLOCK:qve,Z_TREES:Jy,Z_OK:$d,Z_STREAM_END:Wve,Z_NEED_DICT:Vve,Z_STREAM_ERROR:jo,Z_DATA_ERROR:z$,Z_MEM_ERROR:U$,Z_BUF_ERROR:Hve,Z_DEFLATED:z4}=I$,t2=16180,U4=16181,q4=16182,W4=16183,V4=16184,H4=16185,G4=16186,Y4=16187,K4=16188,X4=16189,Yv=16190,Wc=16191,lw=16192,J4=16193,cw=16194,Z4=16195,Q4=16196,ej=16197,tj=16198,Zy=16199,Qy=16200,rj=16201,nj=16202,ij=16203,sj=16204,aj=16205,uw=16206,oj=16207,lj=16208,Dn=16209,q$=16210,W$=16211,Gve=852,Yve=592,Kve=15,Xve=Kve,cj=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Jve(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Yd=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<t2||e.mode>W$?1:0},V$=t=>{if(Yd(t))return jo;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=t2,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Gve),e.distcode=e.distdyn=new Int32Array(Yve),e.sane=1,e.back=-1,$d},H$=t=>{if(Yd(t))return jo;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,V$(t)},G$=(t,e)=>{let r;if(Yd(t))return jo;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?jo:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,H$(t))},Y$=(t,e)=>{if(!t)return jo;const r=new Jve;t.state=r,r.strm=t,r.window=null,r.mode=t2;const n=G$(t,e);return n!==$d&&(t.state=null),n},Zve=t=>Y$(t,Xve);let uj=!0,hw,dw;const Qve=t=>{if(uj){hw=new Int32Array(512),dw=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(_g(F$,t.lens,0,288,hw,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;_g($$,t.lens,0,32,dw,0,t.work,{bits:5}),uj=!1}t.lencode=hw,t.lenbits=9,t.distcode=dw,t.distbits=5},K$=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},exe=(t,e)=>{let r,n,i,s,a,o,l,c,h,f,g,p,v,x,b=0,_,k,N,j,P,F,D,U;const z=new Uint8Array(4);let K,B;const q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Yd(t)||!t.output||!t.input&&t.avail_in!==0)return jo;r=t.state,r.mode===Wc&&(r.mode=lw),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,c=r.hold,h=r.bits,f=o,g=l,U=$d;e:for(;;)switch(r.mode){case t2:if(r.wrap===0){r.mode=lw;break}for(;h<16;){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,z[0]=c&255,z[1]=c>>>8&255,r.check=zl(r.check,z,2,0),c=0,h=0,r.mode=U4;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=Dn;break}if((c&15)!==z4){t.msg="unknown compression method",r.mode=Dn;break}if(c>>>=4,h-=4,D=(c&15)+8,r.wbits===0&&(r.wbits=D),D>15||D>r.wbits){t.msg="invalid window size",r.mode=Dn;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=c&512?X4:Wc,c=0,h=0;break;case U4:for(;h<16;){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}if(r.flags=c,(r.flags&255)!==z4){t.msg="unknown compression method",r.mode=Dn;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Dn;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(z[0]=c&255,z[1]=c>>>8&255,r.check=zl(r.check,z,2,0)),c=0,h=0,r.mode=q4;case q4:for(;h<32;){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(z[0]=c&255,z[1]=c>>>8&255,z[2]=c>>>16&255,z[3]=c>>>24&255,r.check=zl(r.check,z,4,0)),c=0,h=0,r.mode=W4;case W4:for(;h<16;){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(z[0]=c&255,z[1]=c>>>8&255,r.check=zl(r.check,z,2,0)),c=0,h=0,r.mode=V4;case V4:if(r.flags&1024){for(;h<16;){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(z[0]=c&255,z[1]=c>>>8&255,r.check=zl(r.check,z,2,0)),c=0,h=0}else r.head&&(r.head.extra=null);r.mode=H4;case H4:if(r.flags&1024&&(p=r.length,p>o&&(p=o),p&&(r.head&&(D=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+p),D)),r.flags&512&&r.wrap&4&&(r.check=zl(r.check,n,p,s)),o-=p,s+=p,r.length-=p),r.length))break e;r.length=0,r.mode=G4;case G4:if(r.flags&2048){if(o===0)break e;p=0;do D=n[s+p++],r.head&&D&&r.length<65536&&(r.head.name+=String.fromCharCode(D));while(D&&p<o);if(r.flags&512&&r.wrap&4&&(r.check=zl(r.check,n,p,s)),o-=p,s+=p,D)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Y4;case Y4:if(r.flags&4096){if(o===0)break e;p=0;do D=n[s+p++],r.head&&D&&r.length<65536&&(r.head.comment+=String.fromCharCode(D));while(D&&p<o);if(r.flags&512&&r.wrap&4&&(r.check=zl(r.check,n,p,s)),o-=p,s+=p,D)break e}else r.head&&(r.head.comment=null);r.mode=K4;case K4:if(r.flags&512){for(;h<16;){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}if(r.wrap&4&&c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Dn;break}c=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Wc;break;case X4:for(;h<32;){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}t.adler=r.check=cj(c),c=0,h=0,r.mode=Yv;case Yv:if(r.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=c,r.bits=h,Vve;t.adler=r.check=1,r.mode=Wc;case Wc:if(e===qve||e===Jy)break e;case lw:if(r.last){c>>>=h&7,h-=h&7,r.mode=uw;break}for(;h<3;){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}switch(r.last=c&1,c>>>=1,h-=1,c&3){case 0:r.mode=J4;break;case 1:if(Qve(r),r.mode=Zy,e===Jy){c>>>=2,h-=2;break e}break;case 2:r.mode=Q4;break;case 3:t.msg="invalid block type",r.mode=Dn}c>>>=2,h-=2;break;case J4:for(c>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Dn;break}if(r.length=c&65535,c=0,h=0,r.mode=cw,e===Jy)break e;case cw:r.mode=Z4;case Z4:if(p=r.length,p){if(p>o&&(p=o),p>l&&(p=l),p===0)break e;i.set(n.subarray(s,s+p),a),o-=p,s+=p,l-=p,a+=p,r.length-=p;break}r.mode=Wc;break;case Q4:for(;h<14;){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}if(r.nlen=(c&31)+257,c>>>=5,h-=5,r.ndist=(c&31)+1,c>>>=5,h-=5,r.ncode=(c&15)+4,c>>>=4,h-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Dn;break}r.have=0,r.mode=ej;case ej:for(;r.have<r.ncode;){for(;h<3;){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}r.lens[q[r.have++]]=c&7,c>>>=3,h-=3}for(;r.have<19;)r.lens[q[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,K={bits:r.lenbits},U=_g(Uve,r.lens,0,19,r.lencode,0,r.work,K),r.lenbits=K.bits,U){t.msg="invalid code lengths set",r.mode=Dn;break}r.have=0,r.mode=tj;case tj:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[c&(1<<r.lenbits)-1],_=b>>>24,k=b>>>16&255,N=b&65535,!(_<=h);){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}if(N<16)c>>>=_,h-=_,r.lens[r.have++]=N;else{if(N===16){for(B=_+2;h<B;){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}if(c>>>=_,h-=_,r.have===0){t.msg="invalid bit length repeat",r.mode=Dn;break}D=r.lens[r.have-1],p=3+(c&3),c>>>=2,h-=2}else if(N===17){for(B=_+3;h<B;){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}c>>>=_,h-=_,D=0,p=3+(c&7),c>>>=3,h-=3}else{for(B=_+7;h<B;){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}c>>>=_,h-=_,D=0,p=11+(c&127),c>>>=7,h-=7}if(r.have+p>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Dn;break}for(;p--;)r.lens[r.have++]=D}}if(r.mode===Dn)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Dn;break}if(r.lenbits=9,K={bits:r.lenbits},U=_g(F$,r.lens,0,r.nlen,r.lencode,0,r.work,K),r.lenbits=K.bits,U){t.msg="invalid literal/lengths set",r.mode=Dn;break}if(r.distbits=6,r.distcode=r.distdyn,K={bits:r.distbits},U=_g($$,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,K),r.distbits=K.bits,U){t.msg="invalid distances set",r.mode=Dn;break}if(r.mode=Zy,e===Jy)break e;case Zy:r.mode=Qy;case Qy:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=c,r.bits=h,Ive(t,g),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,c=r.hold,h=r.bits,r.mode===Wc&&(r.back=-1);break}for(r.back=0;b=r.lencode[c&(1<<r.lenbits)-1],_=b>>>24,k=b>>>16&255,N=b&65535,!(_<=h);){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}if(k&&(k&240)===0){for(j=_,P=k,F=N;b=r.lencode[F+((c&(1<<j+P)-1)>>j)],_=b>>>24,k=b>>>16&255,N=b&65535,!(j+_<=h);){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}c>>>=j,h-=j,r.back+=j}if(c>>>=_,h-=_,r.back+=_,r.length=N,k===0){r.mode=aj;break}if(k&32){r.back=-1,r.mode=Wc;break}if(k&64){t.msg="invalid literal/length code",r.mode=Dn;break}r.extra=k&15,r.mode=rj;case rj:if(r.extra){for(B=r.extra;h<B;){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=nj;case nj:for(;b=r.distcode[c&(1<<r.distbits)-1],_=b>>>24,k=b>>>16&255,N=b&65535,!(_<=h);){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}if((k&240)===0){for(j=_,P=k,F=N;b=r.distcode[F+((c&(1<<j+P)-1)>>j)],_=b>>>24,k=b>>>16&255,N=b&65535,!(j+_<=h);){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}c>>>=j,h-=j,r.back+=j}if(c>>>=_,h-=_,r.back+=_,k&64){t.msg="invalid distance code",r.mode=Dn;break}r.offset=N,r.extra=k&15,r.mode=ij;case ij:if(r.extra){for(B=r.extra;h<B;){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Dn;break}r.mode=sj;case sj:if(l===0)break e;if(p=g-l,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Dn;break}p>r.wnext?(p-=r.wnext,v=r.wsize-p):v=r.wnext-p,p>r.length&&(p=r.length),x=r.window}else x=i,v=a-r.offset,p=r.length;p>l&&(p=l),l-=p,r.length-=p;do i[a++]=x[v++];while(--p);r.length===0&&(r.mode=Qy);break;case aj:if(l===0)break e;i[a++]=r.length,l--,r.mode=Qy;break;case uw:if(r.wrap){for(;h<32;){if(o===0)break e;o--,c|=n[s++]<<h,h+=8}if(g-=l,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?zl(r.check,i,g,a-g):O_(r.check,i,g,a-g)),g=l,r.wrap&4&&(r.flags?c:cj(c))!==r.check){t.msg="incorrect data check",r.mode=Dn;break}c=0,h=0}r.mode=oj;case oj:if(r.wrap&&r.flags){for(;h<32;){if(o===0)break e;o--,c+=n[s++]<<h,h+=8}if(r.wrap&4&&c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Dn;break}c=0,h=0}r.mode=lj;case lj:U=Wve;break e;case Dn:U=z$;break e;case q$:return U$;case W$:default:return jo}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=c,r.bits=h,(r.wsize||g!==t.avail_out&&r.mode<Dn&&(r.mode<uw||e!==$4))&&K$(t,t.output,t.next_out,g-t.avail_out),f-=t.avail_in,g-=t.avail_out,t.total_in+=f,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?zl(r.check,i,g,t.next_out-g):O_(r.check,i,g,t.next_out-g)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Wc?128:0)+(r.mode===Zy||r.mode===cw?256:0),(f===0&&g===0||e===$4)&&U===$d&&(U=Hve),U},txe=t=>{if(Yd(t))return jo;let e=t.state;return e.window&&(e.window=null),t.state=null,$d},rxe=(t,e)=>{if(Yd(t))return jo;const r=t.state;return(r.wrap&2)===0?jo:(r.head=e,e.done=!1,$d)},nxe=(t,e)=>{const r=e.length;let n,i,s;return Yd(t)||(n=t.state,n.wrap!==0&&n.mode!==Yv)?jo:n.mode===Yv&&(i=1,i=O_(i,e,r,0),i!==n.check)?z$:(s=K$(t,e,r,r),s?(n.mode=q$,U$):(n.havedict=1,$d))};var ixe=H$,sxe=G$,axe=V$,oxe=Zve,lxe=Y$,cxe=exe,uxe=txe,hxe=rxe,dxe=nxe,fxe="pako inflate (from Nodeca project)",Xc={inflateReset:ixe,inflateReset2:sxe,inflateResetKeep:axe,inflateInit:oxe,inflateInit2:lxe,inflate:cxe,inflateEnd:uxe,inflateGetHeader:hxe,inflateSetDictionary:dxe,inflateInfo:fxe};function pxe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var mxe=pxe;const X$=Object.prototype.toString,{Z_NO_FLUSH:gxe,Z_FINISH:yxe,Z_OK:Zg,Z_STREAM_END:fw,Z_NEED_DICT:pw,Z_STREAM_ERROR:vxe,Z_DATA_ERROR:hj,Z_MEM_ERROR:xxe}=I$;function A0(t){this.options=D$.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Mve,this.strm.avail_out=0;let r=Xc.inflateInit2(this.strm,e.windowBits);if(r!==Zg)throw new Error(I_[r]);if(this.header=new mxe,Xc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=D_.string2buf(e.dictionary):X$.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Xc.inflateSetDictionary(this.strm,e.dictionary),r!==Zg)))throw new Error(I_[r])}A0.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?yxe:gxe,X$.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=Xc.inflate(r,a),s===pw&&i&&(s=Xc.inflateSetDictionary(r,i),s===Zg?s=Xc.inflate(r,a):s===hj&&(s=pw));r.avail_in>0&&s===fw&&r.state.wrap>0&&t[r.next_in]!==0;)Xc.inflateReset(r),s=Xc.inflate(r,a);switch(s){case vxe:case hj:case pw:case xxe:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||s===fw))if(this.options.to==="string"){let l=D_.utf8border(r.output,r.next_out),c=r.next_out-l,h=D_.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===Zg&&o===0)){if(s===fw)return s=Xc.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};A0.prototype.onData=function(t){this.chunks.push(t)};A0.prototype.onEnd=function(t){t===Zg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=D$.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function bxe(t,e){const r=new A0(e);if(r.push(t),r.err)throw r.msg||I_[r.err];return r.result}var wxe=A0,_xe=bxe,Sxe={Inflate:wxe,inflate:_xe};const{Inflate:Cxe,inflate:kxe}=Sxe;var dj=Cxe,Nxe=kxe;const J$=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;J$[t]=e}const fj=4294967295;function Txe(t,e,r){let n=t;for(let i=0;i<r;i++)n=J$[(n^e[i])&255]^n>>>8;return n}function Axe(t,e){return(Txe(fj,t,e)^fj)>>>0}function pj(t,e,r){const n=t.readUint32(),i=Axe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function Z$(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function Q$(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function e9(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function t9(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-i]+r[s]>>1)&255}}function r9(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+Exe(e[s-i],r[s],r[s-i])&255}}function Exe(t,e,r){const n=t+e-r,i=Math.abs(n-t),s=Math.abs(n-e),a=Math.abs(n-r);return i<=s&&i<=a?t:s<=a?e:r}function jxe(t,e,r,n,i,s){switch(t){case 0:Z$(e,r,i);break;case 1:Q$(e,r,i,s);break;case 2:e9(e,r,n,i);break;case 3:t9(e,r,n,i,s);break;case 4:r9(e,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Lxe=new Uint16Array([255]),Pxe=new Uint8Array(Lxe.buffer),Rxe=Pxe[0]===255;function Mxe(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(n*r*o);let c=0;for(let h=0;h<7;h++){const f=a[h],g=Math.ceil((r-f.x)/f.xStep),p=Math.ceil((n-f.y)/f.yStep);if(g<=0||p<=0)continue;const v=g*o,x=new Uint8Array(v);for(let b=0;b<p;b++){const _=e[c++],k=e.subarray(c,c+v);c+=v;const N=new Uint8Array(v);jxe(_,k,N,x,v,o),x.set(N);for(let j=0;j<g;j++){const P=f.x+j*f.xStep,F=f.y+b*f.yStep;if(!(P>=r||F>=n))for(let D=0;D<o;D++)l[(F*r+P)*o+D]=N[j*o+D]}}}if(s===16){const h=new Uint16Array(l.buffer);if(Rxe)for(let f=0;f<h.length;f++)h[f]=Oxe(h[f]);return h}else return l}function Oxe(t){return(t&255)<<8|t>>8&255}const Ixe=new Uint16Array([255]),Dxe=new Uint8Array(Ixe.buffer),Bxe=Dxe[0]===255,Fxe=new Uint8Array(0);function mj(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*r),l=new Uint8Array(n*o);let c=Fxe,h=0,f,g;for(let p=0;p<n;p++){switch(f=e.subarray(h+1,h+1+o),g=l.subarray(p*o,(p+1)*o),e[h]){case 0:Z$(f,g,o);break;case 1:Q$(f,g,o,a);break;case 2:e9(f,g,c,o);break;case 3:t9(f,g,c,o,a);break;case 4:r9(f,g,c,o,a);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}c=g,h+=o+1}if(s===16){const p=new Uint16Array(l.buffer);if(Bxe)for(let v=0;v<p.length;v++)p[v]=$xe(p[v]);return p}else return l}function $xe(t){return(t&255)<<8|t>>8&255}const I1=Uint8Array.of(137,80,78,71,13,10,26,10);function gj(t){if(!zxe(t.readBytes(I1.length)))throw new Error("wrong PNG signature")}function zxe(t){if(t.length<I1.length)return!1;for(let e=0;e<I1.length;e++)if(t[e]!==I1[e])return!1;return!0}const Uxe="tEXt",qxe=0,n9=new TextDecoder("latin1");function Wxe(t){if(Hxe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Vxe=/^[\u0000-\u00FF]*$/;function Hxe(t){if(!Vxe.test(t))throw new Error("invalid latin1 text")}function Gxe(t,e,r){const n=i9(e);t[n]=Yxe(e,r-n.length-1)}function i9(t){for(t.mark();t.readByte()!==qxe;);const e=t.offset;t.reset();const r=n9.decode(t.readBytes(e-t.offset-1));return t.skip(1),Wxe(r),r}function Yxe(t,e){return n9.decode(t.readBytes(e))}const Ua={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},mw={UNKNOWN:-1,DEFLATE:0},yj={UNKNOWN:-1,ADAPTIVE:0},gw={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},e1={NONE:0,BACKGROUND:1,PREVIOUS:2},yw={SOURCE:0,OVER:1};class Kxe extends Dk{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new dj,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=mw.UNKNOWN,this._filterMethod=yj.UNKNOWN,this._interlaceMethod=gw.UNKNOWN,this._colorType=Ua.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(gj(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(gj(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Uxe:Gxe(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?pj(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?pj(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Xxe(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Ua.GREYSCALE:n=1;break;case Ua.TRUECOLOUR:n=3;break;case Ua.INDEXED_COLOUR:n=1;break;case Ua.GREYSCALE_ALPHA:n=2;break;case Ua.TRUECOLOUR_ALPHA:n=4;break;case Ua.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==mw.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<r;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Ua.GREYSCALE:case Ua.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case Ua.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ua.UNKNOWN:case Ua.GREYSCALE_ALPHA:case Ua.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=i9(this),n=this.readUint8();if(n!==mw.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Nxe(i)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=mj({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,n){switch(e.disposeOp){case e1.NONE:break;case e1.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const a=(i*e.width+s)*this._png.channels;for(let o=0;o<this._png.channels;o++)n.data[a+o]=0}break;case e1.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const n=1<<this._png.depth,i=(s,a)=>{const o=((s+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,l=(s*r.width+a)*this._png.channels;return{index:o,frameIndex:l}};switch(r.blendOp){case yw.SOURCE:for(let s=0;s<r.height;s++)for(let a=0;a<r.width;a++){const{index:o,frameIndex:l}=i(s,a);for(let c=0;c<this._png.channels;c++)e.data[o+c]=r.data[l+c]}break;case yw.OVER:for(let s=0;s<r.height;s++)for(let a=0;a<r.width;a++){const{index:o,frameIndex:l}=i(s,a);for(let c=0;c<this._png.channels;c++){const h=r.data[l+this._png.channels-1]/n,f=c%(this._png.channels-1)===0?1:r.data[l+c],g=Math.floor(h*f+(1-h)*e.data[o+c]);e.data[o+c]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==yj.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===gw.NO_INTERLACE)this._png.data=mj({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===gw.ADAM7)this._png.data=Mxe({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:e1.NONE,blendOp:yw.SOURCE,data:e}),this._inflator=new dj,this._writingDataChunks=!1}}function Xxe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var vj;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(vj||(vj={}));function Jxe(t,e){return new Kxe(t,e).decode()}var cr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function vw(){cr.console&&typeof cr.console.log=="function"&&cr.console.log.apply(cr.console,arguments)}var gn={log:vw,warn:function(t){cr.console&&(typeof cr.console.warn=="function"?cr.console.warn.apply(cr.console,arguments):vw.call(null,arguments))},error:function(t){cr.console&&(typeof cr.console.error=="function"?cr.console.error.apply(cr.console,arguments):vw(t))}};function xw(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){id(n.response,e,r)},n.onerror=function(){gn.error("could not download file")},n.send()}function xj(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function t1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var id=cr.saveAs||((typeof window>"u"?"undefined":ln(window))!=="object"||window!==cr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=cr.URL||cr.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?xj(i.href)?xw(t,e,r):t1(i,i.target="_blank"):t1(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){t1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(xj(t))xw(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){t1(n)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:ln(s)!=="object"&&(gn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return xw(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(cr.HTMLElement)||cr.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":ln(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=a?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},o.readAsDataURL(t)}else{var l=cr.URL||cr.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function s9(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var D1=cr.atob.bind(cr),bj=cr.btoa.bind(cr);function bw(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=Ss(r,n,i,s,e[0],7,-680876936),s=Ss(s,r,n,i,e[1],12,-389564586),i=Ss(i,s,r,n,e[2],17,606105819),n=Ss(n,i,s,r,e[3],22,-1044525330),r=Ss(r,n,i,s,e[4],7,-176418897),s=Ss(s,r,n,i,e[5],12,1200080426),i=Ss(i,s,r,n,e[6],17,-1473231341),n=Ss(n,i,s,r,e[7],22,-45705983),r=Ss(r,n,i,s,e[8],7,1770035416),s=Ss(s,r,n,i,e[9],12,-1958414417),i=Ss(i,s,r,n,e[10],17,-42063),n=Ss(n,i,s,r,e[11],22,-1990404162),r=Ss(r,n,i,s,e[12],7,1804603682),s=Ss(s,r,n,i,e[13],12,-40341101),i=Ss(i,s,r,n,e[14],17,-1502002290),r=Cs(r,n=Ss(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Cs(s,r,n,i,e[6],9,-1069501632),i=Cs(i,s,r,n,e[11],14,643717713),n=Cs(n,i,s,r,e[0],20,-373897302),r=Cs(r,n,i,s,e[5],5,-701558691),s=Cs(s,r,n,i,e[10],9,38016083),i=Cs(i,s,r,n,e[15],14,-660478335),n=Cs(n,i,s,r,e[4],20,-405537848),r=Cs(r,n,i,s,e[9],5,568446438),s=Cs(s,r,n,i,e[14],9,-1019803690),i=Cs(i,s,r,n,e[3],14,-187363961),n=Cs(n,i,s,r,e[8],20,1163531501),r=Cs(r,n,i,s,e[13],5,-1444681467),s=Cs(s,r,n,i,e[2],9,-51403784),i=Cs(i,s,r,n,e[7],14,1735328473),r=ks(r,n=Cs(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=ks(s,r,n,i,e[8],11,-2022574463),i=ks(i,s,r,n,e[11],16,1839030562),n=ks(n,i,s,r,e[14],23,-35309556),r=ks(r,n,i,s,e[1],4,-1530992060),s=ks(s,r,n,i,e[4],11,1272893353),i=ks(i,s,r,n,e[7],16,-155497632),n=ks(n,i,s,r,e[10],23,-1094730640),r=ks(r,n,i,s,e[13],4,681279174),s=ks(s,r,n,i,e[0],11,-358537222),i=ks(i,s,r,n,e[3],16,-722521979),n=ks(n,i,s,r,e[6],23,76029189),r=ks(r,n,i,s,e[9],4,-640364487),s=ks(s,r,n,i,e[12],11,-421815835),i=ks(i,s,r,n,e[15],16,530742520),r=Ns(r,n=ks(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Ns(s,r,n,i,e[7],10,1126891415),i=Ns(i,s,r,n,e[14],15,-1416354905),n=Ns(n,i,s,r,e[5],21,-57434055),r=Ns(r,n,i,s,e[12],6,1700485571),s=Ns(s,r,n,i,e[3],10,-1894986606),i=Ns(i,s,r,n,e[10],15,-1051523),n=Ns(n,i,s,r,e[1],21,-2054922799),r=Ns(r,n,i,s,e[8],6,1873313359),s=Ns(s,r,n,i,e[15],10,-30611744),i=Ns(i,s,r,n,e[6],15,-1560198380),n=Ns(n,i,s,r,e[13],21,1309151649),r=Ns(r,n,i,s,e[4],6,-145523070),s=Ns(s,r,n,i,e[11],10,-1120210379),i=Ns(i,s,r,n,e[2],15,718787259),n=Ns(n,i,s,r,e[9],21,-343485551),t[0]=th(r,t[0]),t[1]=th(n,t[1]),t[2]=th(i,t[2]),t[3]=th(s,t[3])}function r2(t,e,r,n,i,s){return e=th(th(e,t),th(n,s)),th(e<<i|e>>>32-i,r)}function Ss(t,e,r,n,i,s,a){return r2(e&r|~e&n,t,e,i,s,a)}function Cs(t,e,r,n,i,s,a){return r2(e&n|r&~n,t,e,i,s,a)}function ks(t,e,r,n,i,s,a){return r2(e^r^n,t,e,i,s,a)}function Ns(t,e,r,n,i,s,a){return r2(r^(e|~n),t,e,i,s,a)}function a9(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)bw(n,Zxe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(bw(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,bw(n,i),n}function Zxe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var wj="0123456789abcdef".split("");function Qxe(t){for(var e="",r=0;r<4;r++)e+=wj[t>>8*r+4&15]+wj[t>>8*r&15];return e}function e2e(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function B_(t){return a9(t).map(e2e).join("")}var t2e=(function(t){for(var e=0;e<t.length;e++)t[e]=Qxe(t[e]);return t.join("")})(a9("hello"))!="5d41402abc4b2a76b9719d911017c592";function th(t,e){if(t2e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}function F_(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var h=o[l];c=(c+h+a.charCodeAt(l))%256,o[l]=o[c],o[c]=h}r=t,n=o}else o=n;var f=e.length,g=0,p=0,v="";for(l=0;l<f;l++)p=(p+(h=o[g=(g+1)%256]))%256,o[g]=o[p],o[p]=h,a=o[(o[g]+o[p])%256],v+=String.fromCharCode(e.charCodeAt(l)^a);return v}var _j={print:4,modify:8,copy:16,"annot-forms":32};function Uf(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(_j.perm!==void 0)throw new Error("Invalid permission: "+o);i+=_j[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=B_(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=F_(this.encryptionKey,this.padding)}function qf(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function Sj(t){if(ln(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){cr.console&&gn.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Kv(t){if(!(this instanceof Kv))return new Kv(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function o9(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ld(t,e,r,n,i){if(!(this instanceof ld))return new ld(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,o9.call(this,n,i)}function Xf(t,e,r,n,i){if(!(this instanceof Xf))return new Xf(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,o9.call(this,n,i)}function Ft(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",h=null;ln(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=Sj;var v="1.3",x=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(T){v=T};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return b};var _=p.__private__.getPageFormat=function(T){return b[T]};i=i||"a4";var k="compat",N="advanced",j=k;function P(){this.saveGraphicsState(),le(new ct(zt,0,0,-zt,0,la()*zt).toString()+" cm"),this.setFontSize(this.getFontSize()/zt),c="n",j=N}function F(){this.restoreGraphicsState(),c="S",j=k}var D=p.__private__.combineFontStyleAndFontWeight=function(T,G){if(T=="bold"&&G=="normal"||T=="bold"&&G==400||T=="normal"&&G=="italic"||T=="bold"&&G=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return G&&(T=G==400||G==="normal"?T==="italic"?"italic":"normal":G!=700&&G!=="bold"||T!=="normal"?(G==700?"bold":G)+""+T:"bold"),T};p.advancedAPI=function(T){var G=j===k;return G&&P.call(this),typeof T!="function"||(T(this),G&&F.call(this)),this},p.compatAPI=function(T){var G=j===N;return G&&F.call(this),typeof T!="function"||(T(this),G&&P.call(this)),this},p.isAdvancedAPI=function(){return j===N};var U,z=function(T){if(j!==N)throw new Error(T+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=p.roundToPrecision=p.__private__.roundToPrecision=function(T,G){var fe=e||G;if(isNaN(T)||isNaN(fe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return T.toFixed(fe).replace(/0+$/,"")};U=p.hpf=p.__private__.hpf=typeof l=="number"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return K(T,l)}:l==="smart"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return K(T,T>-1&&T<1?16:5)}:function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return K(T,16)};var B=p.f2=p.__private__.f2=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f2");return K(T,2)},q=p.__private__.f3=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f3");return K(T,3)},W=p.scale=p.__private__.scale=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.scale");return j===k?T*zt:j===N?T:void 0},$=function(T){return W((function(G){return j===k?la()-G:j===N?G:void 0})(T))};p.__private__.setPrecision=p.setPrecision=function(T){typeof parseInt(T,10)=="number"&&(e=parseInt(T,10))};var Q,ee="00000000000000000000000000000000",se=p.__private__.getFileId=function(){return ee},V=p.__private__.setFileId=function(T){return ee=T!==void 0&&/^[a-fA-F0-9]{32}$/.test(T)?T.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(di=new Uf(h.userPermissions,h.userPassword,h.ownerPassword,ee)),ee};p.setFileId=function(T){return V(T),this},p.getFileId=function(){return se()};var re=p.__private__.convertDateToPDFDate=function(T){var G=T.getTimezoneOffset(),fe=G<0?"+":"-",ge=Math.floor(Math.abs(G/60)),Ce=Math.abs(G%60),Be=[fe,ne(ge),"'",ne(Ce),"'"].join("");return["D:",T.getFullYear(),ne(T.getMonth()+1),ne(T.getDate()),ne(T.getHours()),ne(T.getMinutes()),ne(T.getSeconds()),Be].join("")},pe=p.__private__.convertPDFDateToDate=function(T){var G=parseInt(T.substr(2,4),10),fe=parseInt(T.substr(6,2),10)-1,ge=parseInt(T.substr(8,2),10),Ce=parseInt(T.substr(10,2),10),Be=parseInt(T.substr(12,2),10),qe=parseInt(T.substr(14,2),10);return new Date(G,fe,ge,Ce,Be,qe,0)},X=p.__private__.setCreationDate=function(T){var G;if(T===void 0&&(T=new Date),T instanceof Date)G=re(T);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(T))throw new Error("Invalid argument passed to jsPDF.setCreationDate");G=T}return Q=G},O=p.__private__.getCreationDate=function(T){var G=Q;return T==="jsDate"&&(G=pe(Q)),G};p.setCreationDate=function(T){return X(T),this},p.getCreationDate=function(T){return O(T)};var Y,ne=p.__private__.padd2=function(T){return("0"+parseInt(T)).slice(-2)},oe=p.__private__.padd2Hex=function(T){return("00"+(T=T.toString())).substr(T.length)},ue=0,de=[],be=[],Se=0,ke=[],De=[],Ye=!1,We=be;p.__private__.setCustomOutputDestination=function(T){Ye=!0,We=T};var nt=function(T){Ye||(We=T)};p.__private__.resetCustomOutputDestination=function(){Ye=!1,We=be};var le=p.__private__.out=function(T){return T=T.toString(),Se+=T.length+1,We.push(T),We},Ze=p.__private__.write=function(T){return le(arguments.length===1?T.toString():Array.prototype.join.call(arguments," "))},er=p.__private__.getArrayBuffer=function(T){for(var G=T.length,fe=new ArrayBuffer(G),ge=new Uint8Array(fe);G--;)ge[G]=T.charCodeAt(G);return fe},vt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return vt};var ze=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(T){return ze=j===N?T/zt:T,this};var xt,tt=p.__private__.getFontSize=p.getFontSize=function(){return j===k?ze:ze*zt},jt=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(T){return jt=T,this},p.__private__.getR2L=p.getR2L=function(){return jt};var dt,_r=p.__private__.setZoomMode=function(T){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(T))xt=T;else if(isNaN(T)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(T)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+T+'" is not recognized.');xt=T}else xt=parseInt(T,10)};p.__private__.getZoomMode=function(){return xt};var or,mt=p.__private__.setPageMode=function(T){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(T)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+T+'" is not recognized.');dt=T};p.__private__.getPageMode=function(){return dt};var Gt=p.__private__.setLayoutMode=function(T){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(T)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+T+'" is not recognized.');or=T};p.__private__.getLayoutMode=function(){return or},p.__private__.setDisplayMode=p.setDisplayMode=function(T,G,fe){return _r(T),Gt(G),mt(fe),this};var hr={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(T){if(Object.keys(hr).indexOf(T)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return hr[T]},p.__private__.getDocumentProperties=function(){return hr},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(T){for(var G in hr)hr.hasOwnProperty(G)&&T[G]&&(hr[G]=T[G]);return this},p.__private__.setDocumentProperty=function(T,G){if(Object.keys(hr).indexOf(T)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return hr[T]=G};var ft,zt,ot,rn,fr,Vt={},Ht={},xr=[],Tt={},Rr={},Dt={},qt={},kr=null,Jt=0,lt=[],Ar=new Sj(p),Ut=t.hotfixes||[],pt={},mr={},cn=[],ct=function T(G,fe,ge,Ce,Be,qe){if(!(this instanceof T))return new T(G,fe,ge,Ce,Be,qe);isNaN(G)&&(G=1),isNaN(fe)&&(fe=0),isNaN(ge)&&(ge=0),isNaN(Ce)&&(Ce=1),isNaN(Be)&&(Be=0),isNaN(qe)&&(qe=0),this._matrix=[G,fe,ge,Ce,Be,qe]};Object.defineProperty(ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ct.prototype.join=function(T){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(T)},ct.prototype.multiply=function(T){var G=T.sx*this.sx+T.shy*this.shx,fe=T.sx*this.shy+T.shy*this.sy,ge=T.shx*this.sx+T.sy*this.shx,Ce=T.shx*this.shy+T.sy*this.sy,Be=T.tx*this.sx+T.ty*this.shx+this.tx,qe=T.tx*this.shy+T.ty*this.sy+this.ty;return new ct(G,fe,ge,Ce,Be,qe)},ct.prototype.decompose=function(){var T=this.sx,G=this.shy,fe=this.shx,ge=this.sy,Ce=this.tx,Be=this.ty,qe=Math.sqrt(T*T+G*G),bt=(T/=qe)*fe+(G/=qe)*ge;fe-=T*bt,ge-=G*bt;var Rt=Math.sqrt(fe*fe+ge*ge);return bt/=Rt,T*(ge/=Rt)<G*(fe/=Rt)&&(T=-T,G=-G,bt=-bt,qe=-qe),{scale:new ct(qe,0,0,Rt,0,0),translate:new ct(1,0,0,1,Ce,Be),rotate:new ct(T,G,-G,T,0,0),skew:new ct(1,0,bt,1,0,0)}},ct.prototype.toString=function(T){return this.join(" ")},ct.prototype.inversed=function(){var T=this.sx,G=this.shy,fe=this.shx,ge=this.sy,Ce=this.tx,Be=this.ty,qe=1/(T*ge-G*fe),bt=ge*qe,Rt=-G*qe,sr=-fe*qe,dr=T*qe;return new ct(bt,Rt,sr,dr,-bt*Ce-sr*Be,-Rt*Ce-dr*Be)},ct.prototype.applyToPoint=function(T){var G=T.x*this.sx+T.y*this.shx+this.tx,fe=T.x*this.shy+T.y*this.sy+this.ty;return new sa(G,fe)},ct.prototype.applyToRectangle=function(T){var G=this.applyToPoint(T),fe=this.applyToPoint(new sa(T.x+T.w,T.y+T.h));return new yc(G.x,G.y,fe.x-G.x,fe.y-G.y)},ct.prototype.clone=function(){var T=this.sx,G=this.shy,fe=this.shx,ge=this.sy,Ce=this.tx,Be=this.ty;return new ct(T,G,fe,ge,Ce,Be)},p.Matrix=ct;var un=p.matrixMult=function(T,G){return G.multiply(T)},Ln=new ct(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ln;var $r=function(T,G){if(!Rr[T]){var fe=(G instanceof ld?"Sh":"P")+(Object.keys(Tt).length+1).toString(10);G.id=fe,Rr[T]=fe,Tt[fe]=G,Ar.publish("addPattern",G)}};p.ShadingPattern=ld,p.TilingPattern=Xf,p.addShadingPattern=function(T,G){return z("addShadingPattern()"),$r(T,G),this},p.beginTilingPattern=function(T){z("beginTilingPattern()"),aa(T.boundingBox[0],T.boundingBox[1],T.boundingBox[2]-T.boundingBox[0],T.boundingBox[3]-T.boundingBox[1],T.matrix)},p.endTilingPattern=function(T,G){z("endTilingPattern()"),G.stream=De[Y].join(`
`),$r(T,G),Ar.publish("endTilingPattern",G),cn.pop().restore()};var _n,Sr=p.__private__.newObject=function(){var T=Yr();return Sn(T,!0),T},Yr=p.__private__.newObjectDeferred=function(){return ue++,de[ue]=function(){return Se},ue},Sn=function(T,G){return G=typeof G=="boolean"&&G,de[T]=Se,G&&le(T+" 0 obj"),T},ta=p.__private__.newAdditionalObject=function(){var T={objId:Yr(),content:""};return ke.push(T),T},ra=Yr(),us=Yr(),Qn=p.__private__.decodeColorString=function(T){var G=T.split(" ");if(G.length!==2||G[1]!=="g"&&G[1]!=="G")G.length!==5||G[4]!=="k"&&G[4]!=="K"||(G=[(1-G[0])*(1-G[3]),(1-G[1])*(1-G[3]),(1-G[2])*(1-G[3]),"r"]);else{var fe=parseFloat(G[0]);G=[fe,fe,fe,"r"]}for(var ge="#",Ce=0;Ce<3;Ce++)ge+=("0"+Math.floor(255*parseFloat(G[Ce])).toString(16)).slice(-2);return ge},ei=p.__private__.encodeColorString=function(T){var G;typeof T=="string"&&(T={ch1:T});var fe=T.ch1,ge=T.ch2,Ce=T.ch3,Be=T.ch4,qe=T.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof fe=="string"&&fe.charAt(0)!=="#"){var bt=new s9(fe);if(bt.ok)fe=bt.toHex();else if(!/^\d*\.?\d*$/.test(fe))throw new Error('Invalid color "'+fe+'" passed to jsPDF.encodeColorString.')}if(typeof fe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(fe)&&(fe="#"+fe[1]+fe[1]+fe[2]+fe[2]+fe[3]+fe[3]),typeof fe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(fe)){var Rt=parseInt(fe.substr(1),16);fe=Rt>>16&255,ge=Rt>>8&255,Ce=255&Rt}if(ge===void 0||Be===void 0&&fe===ge&&ge===Ce)G=typeof fe=="string"?fe+" "+qe[0]:T.precision===2?B(fe/255)+" "+qe[0]:q(fe/255)+" "+qe[0];else if(Be===void 0||ln(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return["1.","1.","1.",qe[1]].join(" ");G=typeof fe=="string"?[fe,ge,Ce,qe[1]].join(" "):T.precision===2?[B(fe/255),B(ge/255),B(Ce/255),qe[1]].join(" "):[q(fe/255),q(ge/255),q(Ce/255),qe[1]].join(" ")}else G=typeof fe=="string"?[fe,ge,Ce,Be,qe[2]].join(" "):T.precision===2?[B(fe),B(ge),B(Ce),B(Be),qe[2]].join(" "):[q(fe),q(ge),q(Ce),q(Be),qe[2]].join(" ");return G},Qi=p.__private__.getFilters=function(){return a},Ui=p.__private__.putStream=function(T){var G=(T=T||{}).data||"",fe=T.filters||Qi(),ge=T.alreadyAppliedFilters||[],Ce=T.addLength1||!1,Be=G.length,qe=T.objectId,bt=function(fi){return fi};if(h!==null&&qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(bt=di.encryptor(qe,0));var Rt={};fe===!0&&(fe=["FlateEncode"]);var sr=T.additionalKeyValues||[],dr=(Rt=Ft.API.processDataByFilters!==void 0?Ft.API.processDataByFilters(G,fe):{data:G,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(Rt.data.length!==0&&(sr.push({key:"Length",value:Rt.data.length}),Ce===!0&&sr.push({key:"Length1",value:Be})),dr.length!=0)if(dr.split("/").length-1==1)sr.push({key:"Filter",value:dr});else{sr.push({key:"Filter",value:"["+dr+"]"});for(var Mr=0;Mr<sr.length;Mr+=1)if(sr[Mr].key==="DecodeParms"){for(var kn=[],ni=0;ni<Rt.reverseChain.split("/").length-1;ni+=1)kn.push("null");kn.push(sr[Mr].value),sr[Mr].value="["+kn.join(" ")+"]"}}le("<<");for(var hn=0;hn<sr.length;hn++)le("/"+sr[hn].key+" "+sr[hn].value);le(">>"),Rt.data.length!==0&&(le("stream"),le(bt(Rt.data)),le("endstream"))},eo=p.__private__.putPage=function(T){var G=T.number,fe=T.data,ge=T.objId,Ce=T.contentsObjId;Sn(ge,!0),le("<</Type /Page"),le("/Parent "+T.rootDictionaryObjId+" 0 R"),le("/Resources "+T.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(U(T.mediaBox.bottomLeftX))+" "+parseFloat(U(T.mediaBox.bottomLeftY))+" "+U(T.mediaBox.topRightX)+" "+U(T.mediaBox.topRightY)+"]"),T.cropBox!==null&&le("/CropBox ["+U(T.cropBox.bottomLeftX)+" "+U(T.cropBox.bottomLeftY)+" "+U(T.cropBox.topRightX)+" "+U(T.cropBox.topRightY)+"]"),T.bleedBox!==null&&le("/BleedBox ["+U(T.bleedBox.bottomLeftX)+" "+U(T.bleedBox.bottomLeftY)+" "+U(T.bleedBox.topRightX)+" "+U(T.bleedBox.topRightY)+"]"),T.trimBox!==null&&le("/TrimBox ["+U(T.trimBox.bottomLeftX)+" "+U(T.trimBox.bottomLeftY)+" "+U(T.trimBox.topRightX)+" "+U(T.trimBox.topRightY)+"]"),T.artBox!==null&&le("/ArtBox ["+U(T.artBox.bottomLeftX)+" "+U(T.artBox.bottomLeftY)+" "+U(T.artBox.topRightX)+" "+U(T.artBox.topRightY)+"]"),typeof T.userUnit=="number"&&T.userUnit!==1&&le("/UserUnit "+T.userUnit),Ar.publish("putPage",{objId:ge,pageContext:lt[G],pageNumber:G,page:fe}),le("/Contents "+Ce+" 0 R"),le(">>"),le("endobj");var Be=fe.join(`
`);return j===N&&(Be+=`
Q`),Sn(Ce,!0),Ui({data:Be,filters:Qi(),objectId:Ce}),le("endobj"),ge},Os=p.__private__.putPages=function(){var T,G,fe=[];for(T=1;T<=Jt;T++)lt[T].objId=Yr(),lt[T].contentsObjId=Yr();for(T=1;T<=Jt;T++)fe.push(eo({number:T,data:De[T],objId:lt[T].objId,contentsObjId:lt[T].contentsObjId,mediaBox:lt[T].mediaBox,cropBox:lt[T].cropBox,bleedBox:lt[T].bleedBox,trimBox:lt[T].trimBox,artBox:lt[T].artBox,userUnit:lt[T].userUnit,rootDictionaryObjId:ra,resourceDictionaryObjId:us}));Sn(ra,!0),le("<</Type /Pages");var ge="/Kids [";for(G=0;G<Jt;G++)ge+=fe[G]+" 0 R ";le(ge+"]"),le("/Count "+Jt),le(">>"),le("endobj"),Ar.publish("postPutPages")},gt=function(T){Ar.publish("putFont",{font:T,out:le,newObject:Sr,putStream:Ui}),T.isAlreadyPutted!==!0&&(T.objectNumber=Sr(),le("<<"),le("/Type /Font"),le("/BaseFont /"+qf(T.postScriptName)),le("/Subtype /Type1"),typeof T.encoding=="string"&&le("/Encoding /"+T.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},ye=function(T){T.objectNumber=Sr();var G=[];G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Form"}),G.push({key:"BBox",value:"["+[U(T.x),U(T.y),U(T.x+T.width),U(T.y+T.height)].join(" ")+"]"}),G.push({key:"Matrix",value:"["+T.matrix.toString()+"]"});var fe=T.pages[1].join(`
`);Ui({data:fe,additionalKeyValues:G,objectId:T.objectNumber}),le("endobj")},Ge=function(T,G){G||(G=21);var fe=Sr(),ge=(function(qe,bt){var Rt,sr=[],dr=1/(bt-1);for(Rt=0;Rt<1;Rt+=dr)sr.push(Rt);if(sr.push(1),qe[0].offset!=0){var Mr={offset:0,color:qe[0].color};qe.unshift(Mr)}if(qe[qe.length-1].offset!=1){var kn={offset:1,color:qe[qe.length-1].color};qe.push(kn)}for(var ni="",hn=0,fi=0;fi<sr.length;fi++){for(Rt=sr[fi];Rt>qe[hn+1].offset;)hn++;var Wn=qe[hn].offset,Pi=(Rt-Wn)/(qe[hn+1].offset-Wn),Io=qe[hn].color,La=qe[hn+1].color;ni+=oe(Math.round((1-Pi)*Io[0]+Pi*La[0]).toString(16))+oe(Math.round((1-Pi)*Io[1]+Pi*La[1]).toString(16))+oe(Math.round((1-Pi)*Io[2]+Pi*La[2]).toString(16))}return ni.trim()})(T.colors,G),Ce=[];Ce.push({key:"FunctionType",value:"0"}),Ce.push({key:"Domain",value:"[0.0 1.0]"}),Ce.push({key:"Size",value:"["+G+"]"}),Ce.push({key:"BitsPerSample",value:"8"}),Ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ui({data:ge,additionalKeyValues:Ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:fe}),le("endobj"),T.objectNumber=Sr(),le("<< /ShadingType "+T.type),le("/ColorSpace /DeviceRGB");var Be="/Coords ["+U(parseFloat(T.coords[0]))+" "+U(parseFloat(T.coords[1]))+" ";T.type===2?Be+=U(parseFloat(T.coords[2]))+" "+U(parseFloat(T.coords[3])):Be+=U(parseFloat(T.coords[2]))+" "+U(parseFloat(T.coords[3]))+" "+U(parseFloat(T.coords[4]))+" "+U(parseFloat(T.coords[5])),le(Be+="]"),T.matrix&&le("/Matrix ["+T.matrix.toString()+"]"),le("/Function "+fe+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},st=function(T,G){var fe=Yr(),ge=Sr();G.push({resourcesOid:fe,objectOid:ge}),T.objectNumber=ge;var Ce=[];Ce.push({key:"Type",value:"/Pattern"}),Ce.push({key:"PatternType",value:"1"}),Ce.push({key:"PaintType",value:"1"}),Ce.push({key:"TilingType",value:"1"}),Ce.push({key:"BBox",value:"["+T.boundingBox.map(U).join(" ")+"]"}),Ce.push({key:"XStep",value:U(T.xStep)}),Ce.push({key:"YStep",value:U(T.yStep)}),Ce.push({key:"Resources",value:fe+" 0 R"}),T.matrix&&Ce.push({key:"Matrix",value:"["+T.matrix.toString()+"]"}),Ui({data:T.stream,additionalKeyValues:Ce,objectId:T.objectNumber}),le("endobj")},Xr=function(T){for(var G in T.objectNumber=Sr(),le("<<"),T)switch(G){case"opacity":le("/ca "+B(T[G]));break;case"stroke-opacity":le("/CA "+B(T[G]))}le(">>"),le("endobj")},gr=function(T){Sn(T.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var G in le("/Font <<"),Vt)Vt.hasOwnProperty(G)&&(f===!1||f===!0&&g.hasOwnProperty(G))&&le("/"+G+" "+Vt[G].objectNumber+" 0 R");le(">>")})(),(function(){if(Object.keys(Tt).length>0){for(var G in le("/Shading <<"),Tt)Tt.hasOwnProperty(G)&&Tt[G]instanceof ld&&Tt[G].objectNumber>=0&&le("/"+G+" "+Tt[G].objectNumber+" 0 R");Ar.publish("putShadingPatternDict"),le(">>")}})(),(function(G){if(Object.keys(Tt).length>0){for(var fe in le("/Pattern <<"),Tt)Tt.hasOwnProperty(fe)&&Tt[fe]instanceof p.TilingPattern&&Tt[fe].objectNumber>=0&&Tt[fe].objectNumber<G&&le("/"+fe+" "+Tt[fe].objectNumber+" 0 R");Ar.publish("putTilingPatternDict"),le(">>")}})(T.objectOid),(function(){if(Object.keys(Dt).length>0){var G;for(G in le("/ExtGState <<"),Dt)Dt.hasOwnProperty(G)&&Dt[G].objectNumber>=0&&le("/"+G+" "+Dt[G].objectNumber+" 0 R");Ar.publish("putGStateDict"),le(">>")}})(),(function(){for(var G in le("/XObject <<"),pt)pt.hasOwnProperty(G)&&pt[G].objectNumber>=0&&le("/"+G+" "+pt[G].objectNumber+" 0 R");Ar.publish("putXobjectDict"),le(">>")})(),le(">>"),le("endobj")},pn=function(T){Ht[T.fontName]=Ht[T.fontName]||{},Ht[T.fontName][T.fontStyle]=T.id},qn=function(T,G,fe,ge,Ce){var Be={id:"F"+(Object.keys(Vt).length+1).toString(10),postScriptName:T,fontName:G,fontStyle:fe,encoding:ge,isStandardFont:Ce||!1,metadata:{}};return Ar.publish("addFont",{font:Be,instance:this}),Vt[Be.id]=Be,pn(Be),Be.id},Cn=p.__private__.pdfEscape=p.pdfEscape=function(T,G){return(function(fe,ge){var Ce,Be,qe,bt,Rt,sr,dr,Mr,kn;if(qe=(ge=ge||{}).sourceEncoding||"Unicode",Rt=ge.outputEncoding,(ge.autoencode||Rt)&&Vt[ft].metadata&&Vt[ft].metadata[qe]&&Vt[ft].metadata[qe].encoding&&(bt=Vt[ft].metadata[qe].encoding,!Rt&&Vt[ft].encoding&&(Rt=Vt[ft].encoding),!Rt&&bt.codePages&&(Rt=bt.codePages[0]),typeof Rt=="string"&&(Rt=bt[Rt]),Rt)){for(dr=!1,sr=[],Ce=0,Be=fe.length;Ce<Be;Ce++)(Mr=Rt[fe.charCodeAt(Ce)])?sr.push(String.fromCharCode(Mr)):sr.push(fe[Ce]),sr[Ce].charCodeAt(0)>>8&&(dr=!0);fe=sr.join("")}for(Ce=fe.length;dr===void 0&&Ce!==0;)fe.charCodeAt(Ce-1)>>8&&(dr=!0),Ce--;if(!dr)return fe;for(sr=ge.noBOM?[]:[254,255],Ce=0,Be=fe.length;Ce<Be;Ce++){if((kn=(Mr=fe.charCodeAt(Ce))>>8)>>8)throw new Error("Character at position "+Ce+" of string '"+fe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");sr.push(kn),sr.push(Mr-(kn<<8))}return String.fromCharCode.apply(void 0,sr)})(T,G).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},es=p.__private__.beginPage=function(T){De[++Jt]=[],lt[Jt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(T[0]),topRightY:Number(T[1])}},to(Jt),nt(De[Y])},_l=function(T,G){var fe,ge,Ce;switch(r=G||r,typeof T=="string"&&(fe=_(T.toLowerCase()),Array.isArray(fe)&&(ge=fe[0],Ce=fe[1])),Array.isArray(T)&&(ge=T[0]*zt,Ce=T[1]*zt),isNaN(ge)&&(ge=i[0],Ce=i[1]),(ge>14400||Ce>14400)&&(gn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),Ce=Math.min(14400,Ce)),i=[ge,Ce],r.substr(0,1)){case"l":Ce>ge&&(i=[Ce,ge]);break;case"p":ge>Ce&&(i=[Ce,ge])}es(i),Zt(ia),le(mc),kh!==0&&le(kh+" J"),Nh!==0&&le(Nh+" j"),Ar.publish("addPage",{pageNumber:Jt})},yn=function(T){T>0&&T<=Jt&&(De.splice(T,1),lt.splice(T,1),Jt--,Y>Jt&&(Y=Jt),this.setPage(Y))},to=function(T){T>0&&T<=Jt&&(Y=T)},qi=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return De.length-1},Xd=function(T,G,fe){var ge,Ce=void 0;return fe=fe||{},T=T!==void 0?T:Vt[ft].fontName,G=G!==void 0?G:Vt[ft].fontStyle,ge=T.toLowerCase(),Ht[ge]!==void 0&&Ht[ge][G]!==void 0?Ce=Ht[ge][G]:Ht[T]!==void 0&&Ht[T][G]!==void 0?Ce=Ht[T][G]:fe.disableWarning===!1&&gn.warn("Unable to look up font label for font '"+T+"', '"+G+"'. Refer to getFontList() for available fonts."),Ce||fe.noFallback||(Ce=Ht.times[G])==null&&(Ce=Ht.times.normal),Ce},ti=p.__private__.putInfo=function(){var T=Sr(),G=function(ge){return ge};for(var fe in h!==null&&(G=di.encryptor(T,0)),le("<<"),le("/Producer ("+Cn(G("jsPDF "+Ft.version))+")"),hr)hr.hasOwnProperty(fe)&&hr[fe]&&le("/"+fe.substr(0,1).toUpperCase()+fe.substr(1)+" ("+Cn(G(hr[fe]))+")");le("/CreationDate ("+Cn(G(Q))+")"),le(">>"),le("endobj")},du=p.__private__.putCatalog=function(T){var G=(T=T||{}).rootDictionaryObjId||ra;switch(Sr(),le("<<"),le("/Type /Catalog"),le("/Pages "+G+" 0 R"),xt||(xt="fullwidth"),xt){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var fe=""+xt;fe.substr(fe.length-1)==="%"&&(xt=parseInt(xt)/100),typeof xt=="number"&&le("/OpenAction [3 0 R /XYZ null null "+B(xt)+"]")}switch(or||(or="continuous"),or){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}dt&&le("/PageMode /"+dt),Ar.publish("putCatalog"),le(">>"),le("endobj")},tm=p.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(ue+1)),le("/Root "+ue+" 0 R"),le("/Info "+(ue-1)+" 0 R"),h!==null&&le("/Encrypt "+di.oid+" 0 R"),le("/ID [ <"+ee+"> <"+ee+"> ]"),le(">>")},ri=p.__private__.putHeader=function(){le("%PDF-"+v),le("%")},uc=p.__private__.putXRef=function(){var T="0000000000";le("xref"),le("0 "+(ue+1)),le("0000000000 65535 f ");for(var G=1;G<=ue;G++)typeof de[G]=="function"?le((T+de[G]()).slice(-10)+" 00000 n "):de[G]!==void 0?le((T+de[G]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},Is=p.__private__.buildDocument=function(){var T;ue=0,Se=0,be=[],de=[],ke=[],ra=Yr(),us=Yr(),nt(be),Ar.publish("buildDocument"),ri(),Os(),(function(){Ar.publish("putAdditionalObjects");for(var fe=0;fe<ke.length;fe++){var ge=ke[fe];Sn(ge.objId,!0),le(ge.content),le("endobj")}Ar.publish("postPutAdditionalObjects")})(),T=[],(function(){for(var fe in Vt)Vt.hasOwnProperty(fe)&&(f===!1||f===!0&&g.hasOwnProperty(fe))&&gt(Vt[fe])})(),(function(){var fe;for(fe in Dt)Dt.hasOwnProperty(fe)&&Xr(Dt[fe])})(),(function(){for(var fe in pt)pt.hasOwnProperty(fe)&&ye(pt[fe])})(),(function(fe){var ge;for(ge in Tt)Tt.hasOwnProperty(ge)&&(Tt[ge]instanceof ld?Ge(Tt[ge]):Tt[ge]instanceof Xf&&st(Tt[ge],fe))})(T),Ar.publish("putResources"),T.forEach(gr),gr({resourcesOid:us,objectOid:Number.MAX_SAFE_INTEGER}),Ar.publish("postPutResources"),h!==null&&(di.oid=Sr(),le("<<"),le("/Filter /Standard"),le("/V "+di.v),le("/R "+di.r),le("/U <"+di.toHexString(di.U)+">"),le("/O <"+di.toHexString(di.O)+">"),le("/P "+di.P),le(">>"),le("endobj")),ti(),du();var G=Se;return uc(),tm(),le("startxref"),le(""+G),le("%%EOF"),nt(De[Y]),be.join(`
`)},ro=p.__private__.getBlob=function(T){return new Blob([er(T)],{type:"application/pdf"})},hc=p.output=p.__private__.output=(_n=function(T,G){switch(typeof(G=G||{})=="string"?G={filename:G}:G.filename=G.filename||"generated.pdf",T){case void 0:return Is();case"save":p.save(G.filename);break;case"arraybuffer":return er(Is());case"blob":return ro(Is());case"bloburi":case"bloburl":if(cr.URL!==void 0&&typeof cr.URL.createObjectURL=="function")return cr.URL&&cr.URL.createObjectURL(ro(Is()))||void 0;gn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var fe="",ge=Is();try{fe=bj(ge)}catch{fe=bj(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+G.filename+";base64,"+fe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(cr)==="[object Window]"){var Ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';G.pdfObjectUrl&&(Ce=G.pdfObjectUrl,Be="");var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ce+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(G)+");<\/script></body></html>",bt=cr.open();return bt!==null&&bt.document.write(qe),bt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(cr)==="[object Window]"){var Rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(G.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+G.filename+'" width="500px" height="400px" /></body></html>',sr=cr.open();if(sr!==null){sr.document.write(Rt);var dr=this;sr.document.documentElement.querySelector("#pdfViewer").onload=function(){sr.document.title=G.filename,sr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(dr.output("bloburl"))}}return sr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(cr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Mr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",G)+'"></iframe></body></html>',kn=cr.open();if(kn!==null&&(kn.document.write(Mr),kn.document.title=G.filename),kn||typeof safari>"u")return kn;break;case"datauri":case"dataurl":return cr.document.location.href=this.output("datauristring",G);default:return null}},_n.foo=function(){try{return _n.apply(this,arguments)}catch(fe){var T=fe.stack||"";~T.indexOf(" at ")&&(T=T.split(" at ")[1]);var G="Error in function "+T.split(`
`)[0].split("<")[0]+": "+fe.message;if(!cr.console)throw new Error(G);cr.console.error(G,fe),cr.alert&&alert(G)}},_n.foo.bar=_n,_n.foo),na=function(T){return Array.isArray(Ut)===!0&&Ut.indexOf(T)>-1};switch(n){case"pt":zt=1;break;case"mm":zt=72/25.4;break;case"cm":zt=72/2.54;break;case"in":zt=72;break;case"px":zt=na("px_scaling")==1?.75:96/72;break;case"pc":case"em":zt=12;break;case"ex":zt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);zt=n}var di=null;X(),V();var Ea=p.__private__.getPageInfo=p.getPageInfo=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lt[T].objId,pageNumber:T,pageContext:lt[T]}},wh=p.__private__.getPageInfoByObjId=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var G in lt)if(lt[G].objId===T)break;return Ea(G)},_h=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:lt[Y].objId,pageNumber:Y,pageContext:lt[Y]}};p.addPage=function(){return _l.apply(this,arguments),this},p.setPage=function(){return to.apply(this,arguments),nt.call(this,De[Y]),this},p.insertPage=function(T){return this.addPage(),this.movePage(Y,T),this},p.movePage=function(T,G){var fe,ge;if(T>G){fe=De[T],ge=lt[T];for(var Ce=T;Ce>G;Ce--)De[Ce]=De[Ce-1],lt[Ce]=lt[Ce-1];De[G]=fe,lt[G]=ge,this.setPage(G)}else if(T<G){fe=De[T],ge=lt[T];for(var Be=T;Be<G;Be++)De[Be]=De[Be+1],lt[Be]=lt[Be+1];De[G]=fe,lt[G]=ge,this.setPage(G)}return this},p.deletePage=function(){return yn.apply(this,arguments),this},p.__private__.text=p.text=function(T,G,fe,ge,Ce){var Be,qe,bt,Rt,sr,dr,Mr,kn,ni,hn=(ge=ge||{}).scope||this;if(typeof T=="number"&&typeof G=="number"&&(typeof fe=="string"||Array.isArray(fe))){var fi=fe;fe=G,G=T,T=fi}if(arguments[3]instanceof ct==0?(bt=arguments[4],Rt=arguments[5],ln(Mr=arguments[3])==="object"&&Mr!==null||(typeof bt=="string"&&(Rt=bt,bt=null),typeof Mr=="string"&&(Rt=Mr,Mr=null),typeof Mr=="number"&&(bt=Mr,Mr=null),ge={flags:Mr,angle:bt,align:Rt})):(z("The transform parameter of text() with a Matrix value"),ni=Ce),isNaN(G)||isNaN(fe)||T==null)throw new Error("Invalid arguments passed to jsPDF.text");if(T.length===0)return hn;var Wn,Pi="",Io=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:ds,La=hn.internal.scaleFactor;function Do(zr){return zr=zr.split("	").join(Array(ge.TabLen||9).join(" ")),Cn(zr,Mr)}function bc(zr){for(var Jr,Rn=zr.concat(),ii=[],Ma=Rn.length;Ma--;)typeof(Jr=Rn.shift())=="string"?ii.push(Jr):Array.isArray(zr)&&(Jr.length===1||Jr[1]===void 0&&Jr[2]===void 0)?ii.push(Jr[0]):ii.push([Jr[0],Jr[1],Jr[2]]);return ii}function bu(zr,Jr){var Rn;if(typeof zr=="string")Rn=Jr(zr)[0];else if(Array.isArray(zr)){for(var ii,Ma,jh=zr.concat(),ku=[],Uo=jh.length;Uo--;)typeof(ii=jh.shift())=="string"?ku.push(Jr(ii)[0]):Array.isArray(ii)&&typeof ii[0]=="string"&&(Ma=Jr(ii[0],ii[1],ii[2]),ku.push([Ma[0],Ma[1],Ma[2]]));Rn=ku}return Rn}var kl=!1,wc=!0;if(typeof T=="string")kl=!0;else if(Array.isArray(T)){var Nl=T.concat();qe=[];for(var Tl,Ri=Nl.length;Ri--;)(typeof(Tl=Nl.shift())!="string"||Array.isArray(Tl)&&typeof Tl[0]!="string")&&(wc=!1);kl=wc}if(kl===!1)throw new Error('Type of text must be string or Array. "'+T+'" is not recognized.');typeof T=="string"&&(T=T.match(/[\r?\n]/)?T.split(/\r\n|\r|\n/g):[T]);var _c=ze/hn.internal.scaleFactor,Sc=_c*(Io-1);switch(ge.baseline){case"bottom":fe-=Sc;break;case"top":fe+=_c-Sc;break;case"hanging":fe+=_c-2*Sc;break;case"middle":fe+=_c/2-Sc}if((dr=ge.maxWidth||0)>0&&(typeof T=="string"?T=hn.splitTextToSize(T,dr):Object.prototype.toString.call(T)==="[object Array]"&&(T=T.reduce(function(zr,Jr){return zr.concat(hn.splitTextToSize(Jr,dr))},[]))),Be={text:T,x:G,y:fe,options:ge,mutex:{pdfEscape:Cn,activeFontKey:ft,fonts:Vt,activeFontSize:ze}},Ar.publish("preProcessText",Be),T=Be.text,bt=(ge=Be.options).angle,ni instanceof ct==0&&bt&&typeof bt=="number"){bt*=Math.PI/180,ge.rotationDirection===0&&(bt=-bt),j===N&&(bt=-bt);var Ah=Math.cos(bt),Eh=Math.sin(bt);ni=new ct(Ah,Eh,-Eh,Ah,0,0)}else bt&&bt instanceof ct&&(ni=bt);j!==N||ni||(ni=Ln),(sr=ge.charSpace||fs)!==void 0&&(Pi+=U(W(sr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(kn=ge.horizontalScale)!==void 0&&(Pi+=U(100*kn)+` Tz
`),ge.lang;var ts=-1,Pa=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,oo=hn.internal.getCurrentPageInfo().pageContext;switch(Pa){case 0:case!1:case"fill":ts=0;break;case 1:case!0:case"stroke":ts=1;break;case 2:case"fillThenStroke":ts=2;break;case 3:case"invisible":ts=3;break;case 4:case"fillAndAddForClipping":ts=4;break;case 5:case"strokeAndAddPathForClipping":ts=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ts=6;break;case 7:case"addToPathForClipping":ts=7}var tf=oo.usedRenderingMode!==void 0?oo.usedRenderingMode:-1;ts!==-1?Pi+=ts+` Tr
`:tf!==-1&&(Pi+=`0 Tr
`),ts!==-1&&(oo.usedRenderingMode=ts),Rt=ge.align||"left";var Bs,Al=ze*Io,wu=hn.internal.pageSize.getWidth(),_u=Vt[ft];sr=ge.charSpace||fs,dr=ge.maxWidth||0,Mr=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var Bo=[],ca=function(zr){return hn.getStringUnitWidth(zr,{font:_u,charSpace:sr,fontSize:ze,doKerning:!1})*ze/La};if(Object.prototype.toString.call(T)==="[object Array]"){var Fs;qe=bc(T),Rt!=="left"&&(Bs=qe.map(ca));var $s,El=0;if(Rt==="right"){G-=Bs[0],T=[],Ri=qe.length;for(var lo=0;lo<Ri;lo++)lo===0?($s=Ds(G),Fs=Mo(fe)):($s=W(El-Bs[lo]),Fs=-Al),T.push([qe[lo],$s,Fs]),El=Bs[lo]}else if(Rt==="center"){G-=Bs[0]/2,T=[],Ri=qe.length;for(var Fo=0;Fo<Ri;Fo++)Fo===0?($s=Ds(G),Fs=Mo(fe)):($s=W((El-Bs[Fo])/2),Fs=-Al),T.push([qe[Fo],$s,Fs]),El=Bs[Fo]}else if(Rt==="left"){T=[],Ri=qe.length;for(var $o=0;$o<Ri;$o++)T.push(qe[$o])}else if(Rt==="justify"&&_u.encoding==="Identity-H"){T=[],Ri=qe.length,dr=dr!==0?dr:wu;for(var co=0,Vn=0;Vn<Ri;Vn++)if(Fs=Vn===0?Mo(fe):-Al,$s=Vn===0?Ds(G):co,Vn<Ri-1){var Cc=W((dr-Bs[Vn])/(qe[Vn].split(" ").length-1)),uo=qe[Vn].split(" ");T.push([uo[0]+" ",$s,Fs]),co=0;for(var Ra=1;Ra<uo.length;Ra++){var kc=(ca(uo[Ra-1]+" "+uo[Ra])-ca(uo[Ra]))*La+Cc;Ra==uo.length-1?T.push([uo[Ra],kc,0]):T.push([uo[Ra]+" ",kc,0]),co-=kc}}else T.push([qe[Vn],$s,Fs]);T.push(["",co,0])}else{if(Rt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(T=[],Ri=qe.length,dr=dr!==0?dr:wu,Vn=0;Vn<Ri;Vn++){Fs=Vn===0?Mo(fe):-Al,$s=Vn===0?Ds(G):0;var Nc=qe[Vn].split(" ").length-1,Su=Nc>0?(dr-Bs[Vn])/Nc:0;Vn<Ri-1?Bo.push(U(W(Su))):Bo.push(0),T.push([qe[Vn],$s,Fs])}}}(typeof ge.R2L=="boolean"?ge.R2L:jt)===!0&&(T=bu(T,function(zr,Jr,Rn){return[zr.split("").reverse().join(""),Jr,Rn]})),Be={text:T,x:G,y:fe,options:ge,mutex:{pdfEscape:Cn,activeFontKey:ft,fonts:Vt,activeFontSize:ze}},Ar.publish("postProcessText",Be),T=Be.text,Wn=Be.mutex.isHex||!1;var Cu=Vt[ft].encoding;Cu!=="WinAnsiEncoding"&&Cu!=="StandardEncoding"||(T=bu(T,function(zr,Jr,Rn){return[Do(zr),Jr,Rn]})),qe=bc(T),T=[];for(var zo,jl,Ll,Tc=Array.isArray(qe[0])?1:0,Pl="",Ac=function(zr,Jr,Rn){var ii="";return Rn instanceof ct?(Rn=typeof ge.angle=="number"?un(Rn,new ct(1,0,0,1,zr,Jr)):un(new ct(1,0,0,1,zr,Jr),Rn),j===N&&(Rn=un(new ct(1,0,0,-1,0,0),Rn)),ii=Rn.join(" ")+` Tm
`):ii=U(zr)+" "+U(Jr)+` Td
`,ii},Pn=0;Pn<qe.length;Pn++){switch(Pl="",Tc){case 1:Ll=(Wn?"<":"(")+qe[Pn][0]+(Wn?">":")"),zo=parseFloat(qe[Pn][1]),jl=parseFloat(qe[Pn][2]);break;case 0:Ll=(Wn?"<":"(")+qe[Pn]+(Wn?">":")"),zo=Ds(G),jl=Mo(fe)}Bo!==void 0&&Bo[Pn]!==void 0&&(Pl=Bo[Pn]+` Tw
`),Pn===0?T.push(Pl+Ac(zo,jl,ni)+Ll):Tc===0?T.push(Pl+Ll):Tc===1&&T.push(Pl+Ac(zo,jl,ni)+Ll)}T=Tc===0?T.join(` Tj
T* `):T.join(` Tj
`),T+=` Tj
`;var ps=`BT
/`;return ps+=ft+" "+ze+` Tf
`,ps+=U(ze*Io)+` TL
`,ps+=ja+`
`,ps+=Pi,ps+=T,le(ps+="ET"),g[ft]=!0,hn};var dc=p.__private__.clip=p.clip=function(T){return le(T==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return dc("evenodd")},p.__private__.discardPath=p.discardPath=function(){return le("n"),this};var no=p.__private__.isValidStyle=function(T){var G=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(T)!==-1&&(G=!0),G};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(T){return no(T)&&(c=T),this};var fu=p.__private__.getStyle=p.getStyle=function(T){var G=c;switch(T){case"D":case"S":G="S";break;case"F":G="f";break;case"FD":case"DF":G="B";break;case"f":case"f*":case"B":case"B*":G=T}return G},Ir=p.close=function(){return le("h"),this};p.stroke=function(){return le("S"),this},p.fill=function(T){return fc("f",T),this},p.fillEvenOdd=function(T){return fc("f*",T),this},p.fillStroke=function(T){return fc("B",T),this},p.fillStrokeEvenOdd=function(T){return fc("B*",T),this};var fc=function(T,G){ln(G)==="object"?Jd(G,T):le(T)},Sl=function(T){T===null||j===N&&T===void 0||(T=fu(T),le(T))};function Sh(T,G,fe,ge,Ce){var Be=new Xf(G||this.boundingBox,fe||this.xStep,ge||this.yStep,this.gState,Ce||this.matrix);Be.stream=this.stream;var qe=T+"$$"+this.cloneIndex+++"$$";return $r(qe,Be),Be}var Jd=function(T,G){var fe=Rr[T.key],ge=Tt[fe];if(ge instanceof ld)le("q"),le(Zd(G)),ge.gState&&p.setGState(ge.gState),le(T.matrix.toString()+" cm"),le("/"+fe+" sh"),le("Q");else if(ge instanceof Xf){var Ce=new ct(1,0,0,-1,0,la());T.matrix&&(Ce=Ce.multiply(T.matrix||Ln),fe=Sh.call(ge,T.key,T.boundingBox,T.xStep,T.yStep,Ce).id),le("q"),le("/Pattern cs"),le("/"+fe+" scn"),ge.gState&&p.setGState(ge.gState),le(G),le("Q")}},Zd=function(T){switch(T){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},pu=p.moveTo=function(T,G){return le(U(W(T))+" "+U($(G))+" m"),this},mu=p.lineTo=function(T,G){return le(U(W(T))+" "+U($(G))+" l"),this},hs=p.curveTo=function(T,G,fe,ge,Ce,Be){return le([U(W(T)),U($(G)),U(W(fe)),U($(ge)),U(W(Ce)),U($(Be)),"c"].join(" ")),this};p.__private__.line=p.line=function(T,G,fe,ge,Ce){if(isNaN(T)||isNaN(G)||isNaN(fe)||isNaN(ge)||!no(Ce))throw new Error("Invalid arguments passed to jsPDF.line");return j===k?this.lines([[fe-T,ge-G]],T,G,[1,1],Ce||"S"):this.lines([[fe-T,ge-G]],T,G,[1,1]).stroke()},p.__private__.lines=p.lines=function(T,G,fe,ge,Ce,Be){var qe,bt,Rt,sr,dr,Mr,kn,ni,hn,fi,Wn,Pi;if(typeof T=="number"&&(Pi=fe,fe=G,G=T,T=Pi),ge=ge||[1,1],Be=Be||!1,isNaN(G)||isNaN(fe)||!Array.isArray(T)||!Array.isArray(ge)||!no(Ce)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(pu(G,fe),qe=ge[0],bt=ge[1],sr=T.length,fi=G,Wn=fe,Rt=0;Rt<sr;Rt++)(dr=T[Rt]).length===2?(fi=dr[0]*qe+fi,Wn=dr[1]*bt+Wn,mu(fi,Wn)):(Mr=dr[0]*qe+fi,kn=dr[1]*bt+Wn,ni=dr[2]*qe+fi,hn=dr[3]*bt+Wn,fi=dr[4]*qe+fi,Wn=dr[5]*bt+Wn,hs(Mr,kn,ni,hn,fi,Wn));return Be&&Ir(),Sl(Ce),this},p.path=function(T){for(var G=0;G<T.length;G++){var fe=T[G],ge=fe.c;switch(fe.op){case"m":pu(ge[0],ge[1]);break;case"l":mu(ge[0],ge[1]);break;case"c":hs.apply(this,ge);break;case"h":Ir()}}return this},p.__private__.rect=p.rect=function(T,G,fe,ge,Ce){if(isNaN(T)||isNaN(G)||isNaN(fe)||isNaN(ge)||!no(Ce))throw new Error("Invalid arguments passed to jsPDF.rect");return j===k&&(ge=-ge),le([U(W(T)),U($(G)),U(W(fe)),U(W(ge)),"re"].join(" ")),Sl(Ce),this},p.__private__.triangle=p.triangle=function(T,G,fe,ge,Ce,Be,qe){if(isNaN(T)||isNaN(G)||isNaN(fe)||isNaN(ge)||isNaN(Ce)||isNaN(Be)||!no(qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[fe-T,ge-G],[Ce-fe,Be-ge],[T-Ce,G-Be]],T,G,[1,1],qe,!0),this},p.__private__.roundedRect=p.roundedRect=function(T,G,fe,ge,Ce,Be,qe){if(isNaN(T)||isNaN(G)||isNaN(fe)||isNaN(ge)||isNaN(Ce)||isNaN(Be)||!no(qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var bt=4/3*(Math.SQRT2-1);return Ce=Math.min(Ce,.5*fe),Be=Math.min(Be,.5*ge),this.lines([[fe-2*Ce,0],[Ce*bt,0,Ce,Be-Be*bt,Ce,Be],[0,ge-2*Be],[0,Be*bt,-Ce*bt,Be,-Ce,Be],[2*Ce-fe,0],[-Ce*bt,0,-Ce,-Be*bt,-Ce,-Be],[0,2*Be-ge],[0,-Be*bt,Ce*bt,-Be,Ce,-Be]],T+Ce,G,[1,1],qe,!0),this},p.__private__.ellipse=p.ellipse=function(T,G,fe,ge,Ce){if(isNaN(T)||isNaN(G)||isNaN(fe)||isNaN(ge)||!no(Ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*fe,qe=4/3*(Math.SQRT2-1)*ge;return pu(T+fe,G),hs(T+fe,G-qe,T+Be,G-ge,T,G-ge),hs(T-Be,G-ge,T-fe,G-qe,T-fe,G),hs(T-fe,G+qe,T-Be,G+ge,T,G+ge),hs(T+Be,G+ge,T+fe,G+qe,T+fe,G),Sl(Ce),this},p.__private__.circle=p.circle=function(T,G,fe,ge){if(isNaN(T)||isNaN(G)||isNaN(fe)||!no(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(T,G,fe,fe,ge)},p.setFont=function(T,G,fe){return fe&&(G=D(G,fe)),ft=Xd(T,G,{disableWarning:!1}),this};var io=p.__private__.getFont=p.getFont=function(){return Vt[Xd.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var T,G,fe={};for(T in Ht)if(Ht.hasOwnProperty(T))for(G in fe[T]=[],Ht[T])Ht[T].hasOwnProperty(G)&&fe[T].push(G);return fe},p.addFont=function(T,G,fe,ge,Ce){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?Ce=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(fe=D(fe,ge)),qn.call(this,T,G,fe,Ce=Ce||"Identity-H")};var ds,ia=t.lineWidth||.200025,pc=p.__private__.getLineWidth=p.getLineWidth=function(){return ia},Zt=p.__private__.setLineWidth=p.setLineWidth=function(T){return ia=T,le(U(W(T))+" w"),this};p.__private__.setLineDash=Ft.API.setLineDash=Ft.API.setLineDashPattern=function(T,G){if(T=T||[],G=G||0,isNaN(G)||!Array.isArray(T))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return T=T.map(function(fe){return U(W(fe))}).join(" "),G=U(W(G)),le("["+T+"] "+G+" d"),this};var so=p.__private__.getLineHeight=p.getLineHeight=function(){return ze*ds};p.__private__.getLineHeight=p.getLineHeight=function(){return ze*ds};var rm=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(T){return typeof(T=T||1.15)=="number"&&(ds=T),this},Qd=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ds};rm(t.lineHeight);var Ds=p.__private__.getHorizontalCoordinate=function(T){return W(T)},Mo=p.__private__.getVerticalCoordinate=function(T){return j===N?T:lt[Y].mediaBox.topRightY-lt[Y].mediaBox.bottomLeftY-W(T)},ef=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(T){return U(Ds(T))},gu=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(T){return U(Mo(T))},mc=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Qn(mc)},p.__private__.setStrokeColor=p.setDrawColor=function(T,G,fe,ge){return mc=ei({ch1:T,ch2:G,ch3:fe,ch4:ge,pdfColorType:"draw",precision:2}),le(mc),this};var Ch=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Qn(Ch)},p.__private__.setFillColor=p.setFillColor=function(T,G,fe,ge){return Ch=ei({ch1:T,ch2:G,ch3:fe,ch4:ge,pdfColorType:"fill",precision:2}),le(Ch),this};var ja=t.textColor||"0 g",gc=p.__private__.getTextColor=p.getTextColor=function(){return Qn(ja)};p.__private__.setTextColor=p.setTextColor=function(T,G,fe,ge){return ja=ei({ch1:T,ch2:G,ch3:fe,ch4:ge,pdfColorType:"text",precision:3}),this};var fs=t.charSpace,yu=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(fs||0)};p.__private__.setCharSpace=p.setCharSpace=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return fs=T,this};var kh=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(T){var G=p.CapJoinStyles[T];if(G===void 0)throw new Error("Line cap style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return kh=G,le(G+" J"),this};var Nh=0;p.__private__.setLineJoin=p.setLineJoin=function(T){var G=p.CapJoinStyles[T];if(G===void 0)throw new Error("Line join style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nh=G,le(G+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(T){if(T=T||0,isNaN(T))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(U(W(T))+" M"),this},p.GState=Kv,p.setGState=function(T){(T=typeof T=="string"?Dt[qt[T]]:vu(null,T)).equals(kr)||(le("/"+T.id+" gs"),kr=T)};var vu=function(T,G){if(!T||!qt[T]){var fe=!1;for(var ge in Dt)if(Dt.hasOwnProperty(ge)&&Dt[ge].equals(G)){fe=!0;break}if(fe)G=Dt[ge];else{var Ce="GS"+(Object.keys(Dt).length+1).toString(10);Dt[Ce]=G,G.id=Ce}return T&&(qt[T]=G.id),Ar.publish("addGState",G),G}};p.addGState=function(T,G){return vu(T,G),this},p.saveGraphicsState=function(){return le("q"),xr.push({key:ft,size:ze,color:ja}),this},p.restoreGraphicsState=function(){le("Q");var T=xr.pop();return ft=T.key,ze=T.size,ja=T.color,kr=null,this},p.setCurrentTransformationMatrix=function(T){return le(T.toString()+" cm"),this},p.comment=function(T){return le("#"+T),this};var sa=function(T,G){var fe=T||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return fe},set:function(Be){isNaN(Be)||(fe=parseFloat(Be))}});var ge=G||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(Be){isNaN(Be)||(ge=parseFloat(Be))}});var Ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ce},set:function(Be){Ce=Be.toString()}}),this},yc=function(T,G,fe,ge){sa.call(this,T,G),this.type="rect";var Ce=fe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ce},set:function(qe){isNaN(qe)||(Ce=parseFloat(qe))}});var Be=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(qe){isNaN(qe)||(Be=parseFloat(qe))}}),this},vc=function(){this.page=Jt,this.currentPage=Y,this.pages=De.slice(0),this.pagesContext=lt.slice(0),this.x=ot,this.y=rn,this.matrix=fr,this.width=Cl(Y),this.height=xc(Y),this.outputDestination=We,this.id="",this.objectNumber=-1};vc.prototype.restore=function(){Jt=this.page,Y=this.currentPage,lt=this.pagesContext,De=this.pages,ot=this.x,rn=this.y,fr=this.matrix,Th(Y,this.width),oa(Y,this.height),We=this.outputDestination};var aa=function(T,G,fe,ge,Ce){cn.push(new vc),Jt=Y=0,De=[],ot=T,rn=G,fr=Ce,es([fe,ge])};for(var Oo in p.beginFormObject=function(T,G,fe,ge,Ce){return aa(T,G,fe,ge,Ce),this},p.endFormObject=function(T){return(function(G){if(mr[G])cn.pop().restore();else{var fe=new vc,ge="Xo"+(Object.keys(pt).length+1).toString(10);fe.id=ge,mr[G]=ge,pt[ge]=fe,Ar.publish("addFormObject",fe),cn.pop().restore()}})(T),this},p.doFormObject=function(T,G){var fe=pt[mr[T]];return le("q"),le(G.toString()+" cm"),le("/"+fe.id+" Do"),le("Q"),this},p.getFormObject=function(T){var G=pt[mr[T]];return{x:G.x,y:G.y,width:G.width,height:G.height,matrix:G.matrix}},p.save=function(T,G){return T=T||"generated.pdf",(G=G||{}).returnPromise=G.returnPromise||!1,G.returnPromise===!1?(id(ro(Is()),T),typeof id.unload=="function"&&cr.setTimeout&&setTimeout(id.unload,911),this):new Promise(function(fe,ge){try{var Ce=id(ro(Is()),T);typeof id.unload=="function"&&cr.setTimeout&&setTimeout(id.unload,911),fe(Ce)}catch(Be){ge(Be.message)}})},Ft.API)Ft.API.hasOwnProperty(Oo)&&(Oo==="events"&&Ft.API.events.length?(function(T,G){var fe,ge,Ce;for(Ce=G.length-1;Ce!==-1;Ce--)fe=G[Ce][0],ge=G[Ce][1],T.subscribe.apply(T,[fe].concat(typeof ge=="function"?[ge]:ge))})(Ar,Ft.API.events):p[Oo]=Ft.API[Oo]);function Cl(T){return lt[T].mediaBox.topRightX-lt[T].mediaBox.bottomLeftX}function Th(T,G){lt[T].mediaBox.topRightX=G+lt[T].mediaBox.bottomLeftX}function xc(T){return lt[T].mediaBox.topRightY-lt[T].mediaBox.bottomLeftY}function oa(T,G){lt[T].mediaBox.topRightY=G+lt[T].mediaBox.bottomLeftY}var ao=p.getPageWidth=function(T){return Cl(T=T||Y)/zt},Wi=p.setPageWidth=function(T,G){Th(T,G*zt)},la=p.getPageHeight=function(T){return xc(T=T||Y)/zt},xu=p.setPageHeight=function(T,G){oa(T,G*zt)};return p.internal={pdfEscape:Cn,getStyle:fu,getFont:io,getFontSize:tt,getCharSpace:yu,getTextColor:gc,getLineHeight:so,getLineHeightFactor:Qd,getLineWidth:pc,write:Ze,getHorizontalCoordinate:Ds,getVerticalCoordinate:Mo,getCoordinateString:ef,getVerticalCoordinateString:gu,collections:{},newObject:Sr,newAdditionalObject:ta,newObjectDeferred:Yr,newObjectDeferredBegin:Sn,getFilters:Qi,putStream:Ui,events:Ar,scaleFactor:zt,pageSize:{getWidth:function(){return ao(Y)},setWidth:function(T){Wi(Y,T)},getHeight:function(){return la(Y)},setHeight:function(T){xu(Y,T)}},encryptionOptions:h,encryption:di,getEncryptor:function(T){return h!==null?di.encryptor(T,0):function(G){return G}},output:hc,getNumberOfPages:qi,get pages(){return De},out:le,f2:B,f3:q,getPageInfo:Ea,getPageInfoByObjId:wh,getCurrentPageInfo:_h,getPDFVersion:x,Point:sa,Rectangle:yc,Matrix:ct,hasHotfix:na},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return ao(Y)},set:function(T){Wi(Y,T)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return la(Y)},set:function(T){xu(Y,T)},enumerable:!0,configurable:!0}),(function(T){for(var G=0,fe=vt.length;G<fe;G++){var ge=qn.call(this,T[G][0],T[G][1],T[G][2],vt[G][3],!0);f===!1&&(g[ge]=!0);var Ce=T[G][0].split("-");pn({id:ge,fontName:Ce[0],fontStyle:Ce[1]||""})}Ar.publish("addFonts",{fonts:Vt,dictionary:Ht})}).call(p,vt),ft="F1",_l(i,r),Ar.publish("initialized"),p}Uf.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Uf.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Uf.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Uf.prototype.processOwnerPassword=function(t,e){return F_(B_(e).substr(0,5),t)},Uf.prototype.encryptor=function(t,e){var r=B_(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return F_(r,n)}},Kv.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||ln(t)!==ln(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Ft.API={events:[]},Ft.version="3.0.4";var ci=Ft.API,Bk=1,Kd=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Of=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},vr=function(t){return t.toFixed(2)},Yu=function(t){return t.toFixed(5)};ci.__acroform__={};var Aa=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Cj=function(t){return t*Bk},Wl=function(t){var e=new c9,r=St.internal.getHeight(t)||0,n=St.internal.getWidth(t)||0;return e.BBox=[0,0,Number(vr(n)),Number(vr(r))],e},r2e=ci.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},n2e=ci.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},i2e=ci.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},bi=ci.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return i2e(t,e-1)},wi=ci.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return r2e(t,e-1)},_i=ci.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return n2e(t,e-1)},s2e=ci.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(vr(l.lowerLeft_X)),Number(vr(l.lowerLeft_Y)),Number(vr(l.upperRight_X)),Number(vr(l.upperRight_Y))]},a2e=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=$_(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+vr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Wl(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},$_=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(B){return B.split(`
`)}):i.map(function(B){return[B]});var s=r,a=St.internal.getHeight(t)||0;a=a<0?-a:a;var o=St.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(B,q,W){if(B+1<i.length){var $=q+" "+i[B+1][0];return r1($,t,W).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,h,f=r1("3",t,s).height,g=t.multiline?a-s:(a-f)/2,p=g+=2,v=0,x=0,b=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+r1(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var _="",k=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var j=!1;if(i[N].length!==1&&b!==i[N].length-1){if((f+2)*(k+2)+2>a)continue e;_+=i[N][b],j=!0,x=N,N--}else{_=(_+=i[N][b]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var P=parseInt(N),F=l(P,_,s),D=N>=i.length-1;if(F&&!D){_+=" ",b=0;continue}if(F||D){if(D)x=P;else if(t.multiline&&(f+2)*(k+2)+2>a)continue e}else{if(!t.multiline||(f+2)*(k+2)+2>a)continue e;x=P}}for(var U="",z=v;z<=x;z++){var K=i[z];if(t.multiline){if(z===x){U+=K[b]+" ",b=(b+1)%K.length;continue}if(z===v){U+=K[K.length-1]+" ";continue}}U+=K[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,h=r1(U,t,s).width,t.textAlign){case"right":c=o-h-2;break;case"center":c=(o-h)/2;break;default:c=2}e+=vr(c)+" "+vr(p)+` Td
`,e+="("+Kd(U)+`) Tj
`,e+=-vr(c)+` 0 Td
`,p=-(s+2),h=0,v=j?x:x+1,k++,_=""}break}return n.text=e,n.fontSize=s,n},r1=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},o2e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},l2e=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},c2e=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(bl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(o2e)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Bk=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new u9,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&l2e(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=s2e(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=St.createDefaultAppearanceStream(o),ln(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=a2e(o);l.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var f="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var p=o.appearanceStreamContent[g];if(f+="/"+g+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var v=p[a];typeof v=="function"&&(v=v.call(i,o)),f+="/"+a+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(i,o)),f+="/"+a+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&(function(x,b){for(var _ in x)if(x.hasOwnProperty(_)){var k=_,N=x[_];b.internal.newObjectDeferredBegin(N.objId,!0),ln(N)==="object"&&typeof N.putStream=="function"&&N.putStream(),delete x[k]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},l9=ci.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),ln(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Kd(n(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ww=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Kd(n(t))+")"},Gl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Gl.prototype.toString=function(){return this.objId+" 0 R"},Gl.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Gl.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:l9(i,this.objId,this.scope)}):i instanceof Gl?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var c9=function(){Gl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Aa(c9,Gl);var u9=function(){Gl.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Kd(r(t))+")"}},set:function(r){t=r}})};Aa(u9,Gl);var bl=function t(){Gl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!bi(e,3)},set:function(_){_?this.F=wi(e,3):this.F=_i(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');r=_}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(_){n=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(_){n[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(_){n[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(_){n[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(_){n[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Xv)return;s="FieldObject"+t.FieldNum++}var _=function(k){return k};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Kd(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Bk:c},set:function(_){c=_}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(_){h=_}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Xv||this instanceof Cd))return ww(f,this.objId,this.scope)},set:function(_){_=_.toString(),f=_}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ji==0?ww(g,this.objId,this.scope):g},set:function(_){_=_.toString(),g=this instanceof Ji==0?_.substr(0,1)==="("?Of(_.substr(1,_.length-2)):Of(_):_}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ji==1?Of(g.substr(1,g.length-1)):g},set:function(_){_=_.toString(),g=this instanceof Ji==1?"/"+_:_}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ji==0?ww(p,this.objId,this.scope):p},set:function(_){_=_.toString(),p=this instanceof Ji==0?_.substr(0,1)==="("?Of(_.substr(1,_.length-2)):Of(_):_}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ji==1?Of(p.substr(1,p.length-1)):p},set:function(_){_=_.toString(),p=this instanceof Ji==1?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(_){_=!!_,x=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(_){v=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,1)},set:function(_){_?this.Ff=wi(this.Ff,1):this.Ff=_i(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,2)},set:function(_){_?this.Ff=wi(this.Ff,2):this.Ff=_i(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,3)},set:function(_){_?this.Ff=wi(this.Ff,3):this.Ff=_i(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');b=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(b){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};Aa(bl,Gl);var ap=function(){bl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return l9(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,18)},set:function(r){r?this.Ff=wi(this.Ff,18):this.Ff=_i(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=wi(this.Ff,19):this.Ff=_i(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,20)},set:function(r){r?(this.Ff=wi(this.Ff,20),e.sort()):this.Ff=_i(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,22)},set:function(r){r?this.Ff=wi(this.Ff,22):this.Ff=_i(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,23)},set:function(r){r?this.Ff=wi(this.Ff,23):this.Ff=_i(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,27)},set:function(r){r?this.Ff=wi(this.Ff,27):this.Ff=_i(this.Ff,27)}}),this.hasAppearanceStream=!1};Aa(ap,bl);var op=function(){ap.call(this),this.fontName="helvetica",this.combo=!1};Aa(op,ap);var lp=function(){op.call(this),this.combo=!0};Aa(lp,op);var B1=function(){lp.call(this),this.edit=!0};Aa(B1,lp);var Ji=function(){bl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,15)},set:function(r){r?this.Ff=wi(this.Ff,15):this.Ff=_i(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,16)},set:function(r){r?this.Ff=wi(this.Ff,16):this.Ff=_i(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,17)},set:function(r){r?this.Ff=wi(this.Ff,17):this.Ff=_i(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,26)},set:function(r){r?this.Ff=wi(this.Ff,26):this.Ff=_i(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Kd(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){ln(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Aa(Ji,bl);var F1=function(){Ji.call(this),this.pushButton=!0};Aa(F1,Ji);var cp=function(){Ji.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Aa(cp,Ji);var Xv=function(){var t,e;bl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Kd(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){ln(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=St.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Aa(Xv,bl),cp.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},cp.prototype.createOption=function(t){var e=new Xv;return e.Parent=this,e.optionName=t,this.Kids.push(e),u2e.call(this.scope,e),e};var $1=function(){Ji.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=St.CheckBox.createAppearanceStream()};Aa($1,Ji);var Cd=function(){bl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,13)},set:function(e){e?this.Ff=wi(this.Ff,13):this.Ff=_i(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,21)},set:function(e){e?this.Ff=wi(this.Ff,21):this.Ff=_i(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,23)},set:function(e){e?this.Ff=wi(this.Ff,23):this.Ff=_i(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,24)},set:function(e){e?this.Ff=wi(this.Ff,24):this.Ff=_i(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,25)},set:function(e){e?this.Ff=wi(this.Ff,25):this.Ff=_i(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,26)},set:function(e){e?this.Ff=wi(this.Ff,26):this.Ff=_i(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Aa(Cd,bl);var z1=function(){Cd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,14)},set:function(t){t?this.Ff=wi(this.Ff,14):this.Ff=_i(this.Ff,14)}}),this.password=!0};Aa(z1,Cd);var St={CheckBox:{createAppearanceStream:function(){return{N:{On:St.CheckBox.YesNormal},D:{On:St.CheckBox.YesPushDown,Off:St.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=$_(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+vr(St.internal.getWidth(t))+" "+vr(St.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+vr(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Wl(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=St.internal.getHeight(t),a=St.internal.getWidth(t),o=$_(t,t.caption);return i.push("1 g"),i.push("0 0 "+vr(a)+" "+vr(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+vr(a-1)+" "+vr(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+vr(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+vr(St.internal.getWidth(t))+" "+vr(St.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:St.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=St.RadioButton.Circle.YesNormal,e.D[t]=St.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Wl(t);e.scope=t.scope;var r=[],n=St.internal.getWidth(t)<=St.internal.getHeight(t)?St.internal.getWidth(t)/4:St.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=St.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Yu(St.internal.getWidth(t)/2)+" "+Yu(St.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=[],n=St.internal.getWidth(t)<=St.internal.getHeight(t)?St.internal.getWidth(t)/4:St.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*St.internal.Bezier_C).toFixed(5)),a=Number((n*St.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Yu(St.internal.getWidth(t)/2)+" "+Yu(St.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Yu(St.internal.getWidth(t)/2)+" "+Yu(St.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=[],n=St.internal.getWidth(t)<=St.internal.getHeight(t)?St.internal.getWidth(t)/4:St.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*St.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Yu(St.internal.getWidth(t)/2)+" "+Yu(St.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:St.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=St.RadioButton.Cross.YesNormal,e.D[t]=St.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Wl(t);e.scope=t.scope;var r=[],n=St.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+vr(St.internal.getWidth(t)-2)+" "+vr(St.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(vr(n.x1.x)+" "+vr(n.x1.y)+" m"),r.push(vr(n.x2.x)+" "+vr(n.x2.y)+" l"),r.push(vr(n.x4.x)+" "+vr(n.x4.y)+" m"),r.push(vr(n.x3.x)+" "+vr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=St.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+vr(St.internal.getWidth(t))+" "+vr(St.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+vr(St.internal.getWidth(t)-2)+" "+vr(St.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(vr(r.x1.x)+" "+vr(r.x1.y)+" m"),n.push(vr(r.x2.x)+" "+vr(r.x2.y)+" l"),n.push(vr(r.x4.x)+" "+vr(r.x4.y)+" m"),n.push(vr(r.x3.x)+" "+vr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+vr(St.internal.getWidth(t))+" "+vr(St.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};St.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=St.internal.getWidth(t),r=St.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},St.internal.getWidth=function(t){var e=0;return ln(t)==="object"&&(e=Cj(t.Rect[2])),e},St.internal.getHeight=function(t){var e=0;return ln(t)==="object"&&(e=Cj(t.Rect[3])),e};var u2e=ci.addField=function(t){if(c2e(this,t),!(t instanceof bl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ci.AcroFormChoiceField=ap,ci.AcroFormListBox=op,ci.AcroFormComboBox=lp,ci.AcroFormEditBox=B1,ci.AcroFormButton=Ji,ci.AcroFormPushButton=F1,ci.AcroFormRadioButton=cp,ci.AcroFormCheckBox=$1,ci.AcroFormTextField=Cd,ci.AcroFormPasswordField=z1,ci.AcroFormAppearance=St,ci.AcroForm={ChoiceField:ap,ListBox:op,ComboBox:lp,EditBox:B1,Button:Ji,PushButton:F1,RadioButton:cp,CheckBox:$1,TextField:Cd,PasswordField:z1,Appearance:St},Ft.AcroForm={ChoiceField:ap,ListBox:op,ComboBox:lp,EditBox:B1,Button:Ji,PushButton:F1,RadioButton:cp,CheckBox:$1,TextField:Cd,PasswordField:z1,Appearance:St};Ft.AcroForm;function h9(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(B,q){var W,$,Q,ee,se,V=r;if((q=q||r)==="RGBA"||B.data!==void 0&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(F(B))for(se in n)for(Q=n[se],W=0;W<Q.length;W+=1){for(ee=!0,$=0;$<Q[W].length;$+=1)if(Q[W][$]!==void 0&&Q[W][$]!==B[$]){ee=!1;break}if(ee===!0){V=se;break}}else for(se in n)for(Q=n[se],W=0;W<Q.length;W+=1){for(ee=!0,$=0;$<Q[W].length;$+=1)if(Q[W][$]!==void 0&&Q[W][$]!==B.charCodeAt($)){ee=!1;break}if(ee===!0){V=se;break}}return V===r&&q!==r&&(V=q),V},s=function B(q){for(var W=this.internal.write,$=this.internal.putStream,Q=(0,this.internal.getFilters)();Q.indexOf("FlateEncode")!==-1;)Q.splice(Q.indexOf("FlateEncode"),1);q.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:q.width}),ee.push({key:"Height",value:q.height}),q.colorSpace===_.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(q.palette.length/3-1)+" "+("sMask"in q&&q.sMask!==void 0?q.objectId+2:q.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+q.colorSpace}),q.colorSpace===_.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:q.bitsPerComponent}),"decodeParameters"in q&&q.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+q.decodeParameters+">>"}),"transparency"in q&&Array.isArray(q.transparency)&&q.transparency.length>0){for(var se="",V=0,re=q.transparency.length;V<re;V++)se+=q.transparency[V]+" "+q.transparency[V]+" ";ee.push({key:"Mask",value:"["+se+"]"})}q.sMask!==void 0&&ee.push({key:"SMask",value:q.objectId+1+" 0 R"});var pe=q.filter!==void 0?["/"+q.filter]:void 0;if($({data:q.data,additionalKeyValues:ee,alreadyAppliedFilters:pe,objectId:q.objectId}),W("endobj"),"sMask"in q&&q.sMask!==void 0){var X,O=(X=q.sMaskBitsPerComponent)!==null&&X!==void 0?X:q.bitsPerComponent,Y={width:q.width,height:q.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:q.sMask};"filter"in q&&(Y.decodeParameters="/Predictor ".concat(q.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(q.width),Y.filter=q.filter),B.call(this,Y)}if(q.colorSpace===_.INDEXED){var ne=this.internal.newObject();$({data:U(new Uint8Array(q.palette)),objectId:ne}),W("endobj")}},a=function(){var B=this.internal.collections[e+"images"];for(var q in B)s.call(this,B[q])},o=function(){var B,q=this.internal.collections[e+"images"],W=this.internal.write;for(var $ in q)W("/I"+(B=q[$]).index,B.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var B=this.internal.collections[e+"images"];return l.call(this),B},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(B){return typeof t["process"+B.toUpperCase()]=="function"},g=function(B){return ln(B)==="object"&&B.nodeType===1},p=function(B,q){if(B.nodeName==="IMG"&&B.hasAttribute("src")){var W=""+B.getAttribute("src");if(W.indexOf("data:image/")===0)return D1(unescape(W).split("base64,").pop());var $=t.loadFile(W,!0);if($!==void 0)return $}if(B.nodeName==="CANVAS"){if(B.width===0||B.height===0)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var Q;switch(q){case"PNG":Q="image/png";break;case"WEBP":Q="image/webp";break;default:Q="image/jpeg"}return D1(B.toDataURL(Q,1).split("base64,").pop())}},v=function(B){var q=this.internal.collections[e+"images"];if(q){for(var W in q)if(B===q[W].alias)return q[W]}},x=function(B,q,W){return B||q||(B=-96,q=-96),B<0&&(B=-1*W.width*72/B/this.internal.scaleFactor),q<0&&(q=-1*W.height*72/q/this.internal.scaleFactor),B===0&&(B=q*W.width/W.height),q===0&&(q=B*W.height/W.width),[B,q]},b=function(B,q,W,$,Q,ee){var se=x.call(this,W,$,Q),V=this.internal.getCoordinateString,re=this.internal.getVerticalCoordinateString,pe=c.call(this);if(W=se[0],$=se[1],pe[Q.index]=Q,ee){ee*=Math.PI/180;var X=Math.cos(ee),O=Math.sin(ee),Y=function(oe){return oe.toFixed(4)},ne=[Y(X),Y(O),Y(-1*O),Y(X),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,V(B),re(q+$),"cm"].join(" ")),this.internal.write(ne.join(" ")),this.internal.write([V(W),"0","0",V($),"0","0","cm"].join(" "))):this.internal.write([V(W),"0","0",V($),V(B),re(q+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Q.index+" Do"),this.internal.write("Q")},_=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var k=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=t.__addimage__.sHashCode=function(B){var q,W,$=0;if(typeof B=="string")for(W=B.length,q=0;q<W;q++)$=($<<5)-$+B.charCodeAt(q),$|=0;else if(F(B))for(W=B.byteLength/2,q=0;q<W;q++)$=($<<5)-$+B[q],$|=0;return $},j=t.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var q=!0;return B.length===0&&(q=!1),B.length%4!=0&&(q=!1),/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))===!1&&(q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))===!1&&(q=!1),q},P=t.__addimage__.extractImageFromDataUrl=function(B){if(B==null||!(B=B.trim()).startsWith("data:"))return null;var q=B.indexOf(",");return q<0?null:B.substring(0,q).trim().endsWith("base64")?B.substring(q+1):null};t.__addimage__.isArrayBuffer=function(B){return B instanceof ArrayBuffer};var F=t.__addimage__.isArrayBufferView=function(B){return B instanceof Int8Array||B instanceof Uint8Array||B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array},D=t.__addimage__.binaryStringToUint8Array=function(B){for(var q=B.length,W=new Uint8Array(q),$=0;$<q;$++)W[$]=B.charCodeAt($);return W},U=t.__addimage__.arrayBufferToBinaryString=function(B){for(var q="",W=F(B)?B:new Uint8Array(B),$=0;$<W.length;$+=8192)q+=String.fromCharCode.apply(null,W.subarray($,$+8192));return q};t.addImage=function(){var B,q,W,$,Q,ee,se,V,re;if(typeof arguments[1]=="number"?(q=r,W=arguments[1],$=arguments[2],Q=arguments[3],ee=arguments[4],se=arguments[5],V=arguments[6],re=arguments[7]):(q=arguments[1],W=arguments[2],$=arguments[3],Q=arguments[4],ee=arguments[5],se=arguments[6],V=arguments[7],re=arguments[8]),ln(B=arguments[0])==="object"&&!g(B)&&"imageData"in B){var pe=B;B=pe.imageData,q=pe.format||q||r,W=pe.x||W||0,$=pe.y||$||0,Q=pe.w||pe.width||Q,ee=pe.h||pe.height||ee,se=pe.alias||se,V=pe.compression||V,re=pe.rotation||pe.angle||re}var X=this.internal.getFilters();if(V===void 0&&X.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(W)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var O=z.call(this,B,q,se,V);return b.call(this,W,$,Q,ee,O,re),this};var z=function(B,q,W,$){var Q,ee,se;if(typeof B=="string"&&i(B)===r){B=unescape(B);var V=K(B,!1);(V!==""||(V=t.loadFile(B,!0))!==void 0)&&(B=V)}if(g(B)&&(B=p(B,q)),q=i(B,q),!f(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(((se=W)==null||se.length===0)&&(W=(function(re){return typeof re=="string"||F(re)?N(re):F(re.data)?N(re.data):null})(B)),(Q=v.call(this,W))||(B instanceof Uint8Array||q==="RGBA"||(ee=B,B=D(B)),Q=this["process"+q.toUpperCase()](B,h.call(this),W,(function(re){return re&&typeof re=="string"&&(re=re.toUpperCase()),re in t.image_compression?re:k.NONE})($),ee)),!Q)throw new Error("An unknown error occurred whilst processing the image.");return Q},K=t.__addimage__.convertBase64ToBinaryString=function(B,q){q=typeof q!="boolean"||q;var W,$="";if(typeof B=="string"){var Q;W=(Q=P(B))!==null&&Q!==void 0?Q:B;try{$=D1(W)}catch(ee){if(q)throw j(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};t.getImageProperties=function(B){var q,W,$="";if(g(B)&&(B=p(B)),typeof B=="string"&&i(B)===r&&(($=K(B,!1))===""&&($=t.loadFile(B)||""),B=$),W=i(B),!f(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(B instanceof Uint8Array||(B=D(B)),!(q=this["process"+W.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return q.fileType=W,q}})(Ft.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Ft.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,h=!1,f=0;f<c.length&&!h;f++)switch((n=c[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){n=c[g];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(x.objId),k=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(_(n.contents))+")",s+=" /Popup "+b.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(_(k))+") >>",x.content=s;var N=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(s+=" /Open true"),s+=" >>",b.content=s,this.internal.write(x.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(v(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var F=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+F+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var h=this.splitTextToSize(r,o).length;a=Math.ceil(c*h)}else o=l,a=c;return this.text(r,n,i,s),i+=.2*c,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-c,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Ft.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},o=t.__arabicParser__.isArabicEndLetter=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(x){return a(x)&&i.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(x){var b=0,_=r,k="",N=0;for(b=0;b<x.length;b+=1)_[x.charCodeAt(b)]!==void 0?(N++,typeof(_=_[x.charCodeAt(b)])=="number"&&(k+=String.fromCharCode(_),_=r,N=0),b===x.length-1&&(_=r,k+=x.charAt(b-(N-1)),b-=N-1,N=0)):(_=r,k+=x.charAt(b-N),b-=N,N=0);return k};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(x,b,_){return a(x)?s(x)===!1?-1:!c(x)||!a(b)&&!a(_)||!a(_)&&o(b)||o(x)&&!a(b)||o(x)&&l(b)||o(x)&&o(b)?0:h(x)&&a(b)&&!o(b)&&a(_)&&c(_)?3:o(x)||!a(_)?1:2:-1},p=function(x){var b=0,_=0,k=0,N="",j="",P="",F=(x=x||"").split("\\s+"),D=[];for(b=0;b<F.length;b+=1){for(D.push(""),_=0;_<F[b].length;_+=1)N=F[b][_],j=F[b][_-1],P=F[b][_+1],a(N)?(k=g(N,j,P),D[b]+=k!==-1?String.fromCharCode(e[N.charCodeAt(0)][k]):N):D[b]+=N;D[b]=f(D[b])}return D.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var x,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(b)){var k=0;for(_=[],k=0;k<b.length;k+=1)Array.isArray(b[k])?_.push([p(b[k][0]),b[k][1],b[k][2]]):_.push([p(b[k])]);x=_}else x=p(b);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",v])})(Ft.API),Ft.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ft.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(x){v=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,p=0,v=0,x=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=c.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(N,j){return N.concat(b.splitTextToSize(j,_))},[])):l=Array.isArray(l)?l:[l];for(var k=0;k<l.length;k++)p<(x=this.getStringUnitWidth(l[k],{font:f})*h)&&(p=x);return p!==0&&(v=l.length),{w:p/=g,h:Math.max((v*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,h,f,g){if(n.call(this),!h)throw new Error("No data for PDF table.");var p,v,x,b,_=[],k=[],N=[],j={},P={},F=[],D=[],U=(g=g||{}).autoSize||!1,z=g.printHeaders!==!1,K=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,B=g.margins||Object.assign({width:this.getPageWidth()},e),q=typeof g.padding=="number"?g.padding:3,W=g.headerBackgroundColor||"#c8c8c8",$=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=z,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=q,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=$,this.setFontSize(K),f==null)k=_=Object.keys(h[0]),N=_.map(function(){return"left"});else if(Array.isArray(f)&&ln(f[0])==="object")for(_=f.map(function(pe){return pe.name}),k=f.map(function(pe){return pe.prompt||pe.name||""}),N=f.map(function(pe){return pe.align||"left"}),p=0;p<f.length;p+=1)P[f[p].name]=.7499990551181103*f[p].width;else Array.isArray(f)&&typeof f[0]=="string"&&(k=_=f,N=_.map(function(){return"left"}));if(U||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<_.length;p+=1){for(j[b=_[p]]=h.map(function(pe){return pe[b]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(k[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=j[b],this.setFont(void 0,"normal"),x=0;x<v.length;x+=1)F.push(this.getTextDimensions(v[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[b]=Math.max.apply(null,F)+q+q,F=[]}if(z){var Q={};for(p=0;p<_.length;p+=1)Q[_[p]]={},Q[_[p]].text=k[p],Q[_[p]].align=N[p];var ee=o.call(this,Q,P);D=_.map(function(pe){return new s(l,c,P[pe],ee,Q[pe].text,void 0,Q[pe].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var se=f.reduce(function(pe,X){return pe[X.name]=X.align,pe},{});for(p=0;p<h.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:h[p]},this);var V=o.call(this,h[p],P);for(x=0;x<_.length;x+=1){var re=h[p][_[x]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:x,data:re},this),a.call(this,new s(l,c,P[_[x]],V,re,p+2,se[_[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(p){var v=l[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,c[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/g+h+h},this).reduce(function(p,v){return Math.max(p,v)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,h),this.setTextColor(v)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}})(Ft.API);var d9={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},f9=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],z_=h9(f9),p9=[100,200,300,400,500,600,700,800,900],h2e=h9(p9);function _w(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(s){return d9[s=s||"normal"]?s:"normal"})(t.style),n=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(t.weight),i=(function(s){return typeof z_[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function kj(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var d2e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Nj={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Tj(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Aj(t){return t.trimLeft()}function f2e(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function p2e(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var n1,Ej,jj,If,i1,Lj,Pj,Rj,Sw=["times"];function Mj(t,e,r,n,i){var s=4,a=Ij;switch(i){case Ft.API.image_compression.FAST:s=1,a=Oj;break;case Ft.API.image_compression.MEDIUM:s=6,a=Dj;break;case Ft.API.image_compression.SLOW:s=9,a=Bj}t=(function(l,c,h,f){for(var g,p=l.length/c,v=new Uint8Array(l.length+p),x=[m2e,Oj,Ij,Dj,Bj],b=0;b<p;b+=1){var _=b*c,k=l.subarray(_,_+c);if(f)v.set(f(k,h,g),_+b);else{for(var N=x.length,j=[],P=0;P<N;P+=1)j[P]=x[P](k,h,g);var F=y2e(j.concat());v.set(j[F],_+b)}g=k}return v})(t,e,Math.ceil(r*n/8),a);var o=M_(t,{level:s});return Ft.API.__addimage__.arrayBufferToBinaryString(o)}function m2e(t){var e=Array.apply([],t);return e.unshift(0),e}function Oj(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=t[i-e]||0;n[i+1]=t[i]-s+256&255}return n}function Ij(t,e,r){var n=t.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=r&&r[s]||0;i[s+1]=t[s]-a+256&255}return i}function Dj(t,e,r){var n=t.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=t[s-e]||0,o=r&&r[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function Bj(t,e,r){var n=t.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=g2e(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function g2e(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=i&&n<=s?t:i<=s?e:r}function y2e(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Cw(t,e,r){var n=e*r,i=Math.floor(n/8),s=16-(n-8*i+r),a=(1<<r)-1;return m9(t,i)>>s&a}function Fj(t,e,r,n){var i=r*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,l=(e&o)<<a;(function(c,h,f){if(h+1<c.byteLength)c.setUint16(h,f,!1);else{var g=f>>8&255;c.setUint8(h,g)}})(t,s,m9(t,s)&~(o<<a)&65535|l)}function m9(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function v2e(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,h=[],f=0,g=null,p=0,v=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((B=t[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];f=t[e++]|t[e++]<<8,g=t[e++],1&x||(g=null),p=x>>2&7,e++;break;case 254:for(;;){if(!((B=t[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,j=t[e++],P=j>>6&1,F=1<<1+(7&j),D=o,U=l,z=!1;j>>7&&(z=!0,D=e,U=F,e+=3*F);var K=e;for(e++;;){var B;if(!((B=t[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}h.push({x:b,y:_,width:k,height:N,has_local_palette:z,palette_offset:D,palette_size:U,data_offset:K,data_length:e-K,transparent_index:g,interlaced:!!P,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return v},this.frameInfo=function(q){if(q<0||q>=h.length)throw new Error("Frame index out of range.");return h[q]},this.decodeAndBlitFrameBGRA=function(q,W){var $=this.frameInfo(q),Q=$.width*$.height,ee=new Uint8Array(Q);$j(t,$.data_offset,ee,Q);var se=$.palette_offset,V=$.transparent_index;V===null&&(V=256);var re=$.width,pe=r-re,X=re,O=4*($.y*r+$.x),Y=4*(($.y+$.height)*r+$.x),ne=O,oe=4*pe;$.interlaced===!0&&(oe+=4*r*7);for(var ue=8,de=0,be=ee.length;de<be;++de){var Se=ee[de];if(X===0&&(X=re,(ne+=oe)>=Y&&(oe=4*pe+4*r*(ue-1),ne=O+(re+pe)*(ue<<1),ue>>=1)),Se===V)ne+=4;else{var ke=t[se+3*Se],De=t[se+3*Se+1],Ye=t[se+3*Se+2];W[ne++]=Ye,W[ne++]=De,W[ne++]=ke,W[ne++]=255}--X}},this.decodeAndBlitFrameRGBA=function(q,W){var $=this.frameInfo(q),Q=$.width*$.height,ee=new Uint8Array(Q);$j(t,$.data_offset,ee,Q);var se=$.palette_offset,V=$.transparent_index;V===null&&(V=256);var re=$.width,pe=r-re,X=re,O=4*($.y*r+$.x),Y=4*(($.y+$.height)*r+$.x),ne=O,oe=4*pe;$.interlaced===!0&&(oe+=4*r*7);for(var ue=8,de=0,be=ee.length;de<be;++de){var Se=ee[de];if(X===0&&(X=re,(ne+=oe)>=Y&&(oe=4*pe+4*r*(ue-1),ne=O+(re+pe)*(ue<<1),ue>>=1)),Se===V)ne+=4;else{var ke=t[se+3*Se],De=t[se+3*Se+1],Ye=t[se+3*Se+2];W[ne++]=ke,W[ne++]=De,W[ne++]=Ye,W[ne++]=255}--X}}}function $j(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,h=0,f=0,g=0,p=t[e++],v=new Int32Array(4096),x=null;;){for(;h<16&&p!==0;)f|=t[e++]<<h,h+=8,p===1?p=t[e++]:--p;if(h<l)break;var b=f&c;if(f>>=l,h-=l,b!==s){if(b===a)break;for(var _=b<o?b:x,k=0,N=_;N>s;)N=v[N]>>8,++k;var j=N;if(g+k+(_!==b?1:0)>n)return void gn.log("Warning, gif stream longer than expected.");r[g++]=j;var P=g+=k;for(_!==b&&(r[g++]=j),N=_;k--;)N=v[N],r[--P]=255&N,N>>=8;x!==null&&o<4096&&(v[o++]=x<<8|j,o>=c+1&&l<12&&(++l,c=c<<1|1)),x=b}else o=a+1,c=(1<<(l=i+1))-1,x=null}return g!==n&&gn.log("Warning, gif stream shorter than expected."),r}function kw(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),h=new Array(64),f=new Array(65535),g=new Array(65535),p=new Array(64),v=new Array(64),x=[],b=0,_=7,k=new Array(64),N=new Array(64),j=new Array(64),P=new Array(256),F=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(O,Y){for(var ne=0,oe=0,ue=new Array,de=1;de<=16;de++){for(var be=1;be<=O[de];be++)ue[Y[oe]]=[],ue[Y[oe]][0]=ne,ue[Y[oe]][1]=de,oe++,ne++;ne*=2}return ue}function se(O){for(var Y=O[0],ne=O[1]-1;ne>=0;)Y&1<<ne&&(b|=1<<_),ne--,--_<0&&(b==255?(V(255),V(0)):V(b),_=7,b=0)}function V(O){x.push(O)}function re(O){V(O>>8&255),V(255&O)}function pe(O,Y,ne,oe,ue){for(var de,be=ue[0],Se=ue[240],ke=(function(ze,xt){var tt,jt,dt,_r,or,mt,Gt,hr,ft,zt,ot=0;for(ft=0;ft<8;++ft){tt=ze[ot],jt=ze[ot+1],dt=ze[ot+2],_r=ze[ot+3],or=ze[ot+4],mt=ze[ot+5],Gt=ze[ot+6];var rn=tt+(hr=ze[ot+7]),fr=tt-hr,Vt=jt+Gt,Ht=jt-Gt,xr=dt+mt,Tt=dt-mt,Rr=_r+or,Dt=_r-or,qt=rn+Rr,kr=rn-Rr,Jt=Vt+xr,lt=Vt-xr;ze[ot]=qt+Jt,ze[ot+4]=qt-Jt;var Ar=.707106781*(lt+kr);ze[ot+2]=kr+Ar,ze[ot+6]=kr-Ar;var Ut=.382683433*((qt=Dt+Tt)-(lt=Ht+fr)),pt=.5411961*qt+Ut,mr=1.306562965*lt+Ut,cn=.707106781*(Jt=Tt+Ht),ct=fr+cn,un=fr-cn;ze[ot+5]=un+pt,ze[ot+3]=un-pt,ze[ot+1]=ct+mr,ze[ot+7]=ct-mr,ot+=8}for(ot=0,ft=0;ft<8;++ft){tt=ze[ot],jt=ze[ot+8],dt=ze[ot+16],_r=ze[ot+24],or=ze[ot+32],mt=ze[ot+40],Gt=ze[ot+48];var Ln=tt+(hr=ze[ot+56]),$r=tt-hr,_n=jt+Gt,Sr=jt-Gt,Yr=dt+mt,Sn=dt-mt,ta=_r+or,ra=_r-or,us=Ln+ta,Qn=Ln-ta,ei=_n+Yr,Qi=_n-Yr;ze[ot]=us+ei,ze[ot+32]=us-ei;var Ui=.707106781*(Qi+Qn);ze[ot+16]=Qn+Ui,ze[ot+48]=Qn-Ui;var eo=.382683433*((us=ra+Sn)-(Qi=Sr+$r)),Os=.5411961*us+eo,gt=1.306562965*Qi+eo,ye=.707106781*(ei=Sn+Sr),Ge=$r+ye,st=$r-ye;ze[ot+40]=st+Os,ze[ot+24]=st-Os,ze[ot+8]=Ge+gt,ze[ot+56]=Ge-gt,ot++}for(ft=0;ft<64;++ft)zt=ze[ft]*xt[ft],p[ft]=zt>0?zt+.5|0:zt-.5|0;return p})(O,Y),De=0;De<64;++De)v[D[De]]=ke[De];var Ye=v[0]-ne;ne=v[0],Ye==0?se(oe[0]):(se(oe[g[de=32767+Ye]]),se(f[de]));for(var We=63;We>0&&v[We]==0;)We--;if(We==0)return se(be),ne;for(var nt,le=1;le<=We;){for(var Ze=le;v[le]==0&&le<=We;)++le;var er=le-Ze;if(er>=16){nt=er>>4;for(var vt=1;vt<=nt;++vt)se(Se);er&=15}de=32767+v[le],se(ue[(er<<4)+g[de]]),se(f[de]),le++}return We!=63&&se(be),ne}function X(O){O=Math.min(Math.max(O,1),100),s!=O&&((function(Y){for(var ne=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var ue=a((ne[oe]*Y+50)/100);ue=Math.min(Math.max(ue,1),255),o[D[oe]]=ue}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var Se=a((de[be]*Y+50)/100);Se=Math.min(Math.max(Se,1),255),l[D[be]]=Se}for(var ke=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,Ye=0;Ye<8;Ye++)for(var We=0;We<8;We++)c[De]=1/(o[D[De]]*ke[Ye]*ke[We]*8),h[De]=1/(l[D[De]]*ke[Ye]*ke[We]*8),De++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),s=O)}this.encode=function(O,Y){Y&&X(Y),x=new Array,b=0,_=7,re(65496),re(65504),re(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),re(1),re(1),V(0),V(0),(function(){re(65499),re(132),V(0);for(var jt=0;jt<64;jt++)V(o[jt]);V(1);for(var dt=0;dt<64;dt++)V(l[dt])})(),(function(jt,dt){re(65472),re(17),V(8),re(dt),re(jt),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)})(O.width,O.height),(function(){re(65476),re(418),V(0);for(var jt=0;jt<16;jt++)V(U[jt+1]);for(var dt=0;dt<=11;dt++)V(z[dt]);V(16);for(var _r=0;_r<16;_r++)V(K[_r+1]);for(var or=0;or<=161;or++)V(B[or]);V(1);for(var mt=0;mt<16;mt++)V(q[mt+1]);for(var Gt=0;Gt<=11;Gt++)V(W[Gt]);V(17);for(var hr=0;hr<16;hr++)V($[hr+1]);for(var ft=0;ft<=161;ft++)V(Q[ft])})(),re(65498),re(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var ne=0,oe=0,ue=0;b=0,_=7,this.encode.displayName="_encode_";for(var de,be,Se,ke,De,Ye,We,nt,le,Ze=O.data,er=O.width,vt=O.height,ze=4*er,xt=0;xt<vt;){for(de=0;de<ze;){for(De=ze*xt+de,We=-1,nt=0,le=0;le<64;le++)Ye=De+(nt=le>>3)*ze+(We=4*(7&le)),xt+nt>=vt&&(Ye-=ze*(xt+1+nt-vt)),de+We>=ze&&(Ye-=de+We-ze+4),be=Ze[Ye++],Se=Ze[Ye++],ke=Ze[Ye++],k[le]=(F[be]+F[Se+256|0]+F[ke+512|0]>>16)-128,N[le]=(F[be+768|0]+F[Se+1024|0]+F[ke+1280|0]>>16)-128,j[le]=(F[be+1280|0]+F[Se+1536|0]+F[ke+1792|0]>>16)-128;ne=pe(k,c,ne,e,n),oe=pe(N,h,oe,r,i),ue=pe(j,h,ue,r,i),de+=32}xt+=8}if(_>=0){var tt=[];tt[1]=_+1,tt[0]=(1<<_+1)-1,se(tt)}return re(65497),new Uint8Array(x)},t=t||50,(function(){for(var O=String.fromCharCode,Y=0;Y<256;Y++)P[Y]=O(Y)})(),e=ee(U,z),r=ee(q,W),n=ee(K,B),i=ee($,Q),(function(){for(var O=1,Y=2,ne=1;ne<=15;ne++){for(var oe=O;oe<Y;oe++)g[32767+oe]=ne,f[32767+oe]=[],f[32767+oe][1]=ne,f[32767+oe][0]=oe;for(var ue=-(Y-1);ue<=-O;ue++)g[32767+ue]=ne,f[32767+ue]=[],f[32767+ue][1]=ne,f[32767+ue][0]=Y-1+ue;O<<=1,Y<<=1}})(),(function(){for(var O=0;O<256;O++)F[O]=19595*O,F[O+256|0]=38470*O,F[O+512|0]=7471*O+32768,F[O+768|0]=-11059*O,F[O+1024|0]=-21709*O,F[O+1280|0]=32768*O+8421375,F[O+1536|0]=-27439*O,F[O+1792|0]=-5329*O})(),X(t)}function Qo(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function zj(t){function e(z){if(!z)throw Error("assert :P")}function r(z,K,B){for(var q=0;4>q;q++)if(z[K+q]!=B.charCodeAt(q))return!0;return!1}function n(z,K,B,q,W){for(var $=0;$<W;$++)z[K+$]=B[q+$]}function i(z,K,B,q){for(var W=0;W<q;W++)z[K+W]=B}function s(z){return new Int32Array(z)}function a(z,K){for(var B=[],q=0;q<z;q++)B.push(new K);return B}function o(z,K){var B=[];return(function q(W,$,Q){for(var ee=Q[$],se=0;se<ee&&(W.push(Q.length>$+1?[]:new K),!(Q.length<$+1));se++)q(W[se],$+1,Q)})(B,0,z),B}var l=function(){var z=this;function K(w,C){for(var L=1<<C-1>>>0;w&L;)L>>>=1;return L?(w&L-1)+L:w}function B(w,C,L,I,H){e(!(I%L));do w[C+(I-=L)]=H;while(0<I)}function q(w,C,L,I,H){if(e(2328>=H),512>=H)var Z=s(512);else if((Z=s(H))==null)return 0;return(function(te,ie,ae,ce,ve,Ae){var he,we,Ne=ie,Ie=1<<ae,je=s(16),Me=s(16);for(e(ve!=0),e(ce!=null),e(te!=null),e(0<ae),we=0;we<ve;++we){if(15<ce[we])return 0;++je[ce[we]]}if(je[0]==ve)return 0;for(Me[1]=0,he=1;15>he;++he){if(je[he]>1<<he)return 0;Me[he+1]=Me[he]+je[he]}for(we=0;we<ve;++we)he=ce[we],0<ce[we]&&(Ae[Me[he]++]=we);if(Me[15]==1)return(ce=new W).g=0,ce.value=Ae[0],B(te,Ne,1,Ie,ce),Ie;var Oe,Fe=-1,$e=Ie-1,Mt=0,ut=1,pr=1,wt=1<<ae;for(we=0,he=1,ve=2;he<=ae;++he,ve<<=1){if(ut+=pr<<=1,0>(pr-=je[he]))return 0;for(;0<je[he];--je[he])(ce=new W).g=he,ce.value=Ae[we++],B(te,Ne+Mt,ve,wt,ce),Mt=K(Mt,he)}for(he=ae+1,ve=2;15>=he;++he,ve<<=1){if(ut+=pr<<=1,0>(pr-=je[he]))return 0;for(;0<je[he];--je[he]){if(ce=new W,(Mt&$e)!=Fe){for(Ne+=wt,Oe=1<<(Fe=he)-ae;15>Fe&&!(0>=(Oe-=je[Fe]));)++Fe,Oe<<=1;Ie+=wt=1<<(Oe=Fe-ae),te[ie+(Fe=Mt&$e)].g=Oe+ae,te[ie+Fe].value=Ne-ie-Fe}ce.g=he-ae,ce.value=Ae[we++],B(te,Ne+(Mt>>ae),ve,wt,ce),Mt=K(Mt,he)}}return ut!=2*Me[15]-1?0:Ie})(w,C,L,I,H,Z)}function W(){this.value=this.g=0}function $(){this.value=this.g=0}function Q(){this.G=a(5,W),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(ca,$)}function ee(w,C,L,I){e(w!=null),e(C!=null),e(2147483648>I),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=C,w.pa=L,w.Jd=C,w.Yc=L+I,w.Zc=4<=I?L+I-4+1:L,be(w)}function se(w,C){for(var L=0;0<C--;)L|=ke(w,128)<<C;return L}function V(w,C){var L=se(w,C);return Se(w)?-L:L}function re(w,C,L,I){var H,Z=0;for(e(w!=null),e(C!=null),e(4294967288>I),w.Sb=I,w.Ra=0,w.u=0,w.h=0,4<I&&(I=4),H=0;H<I;++H)Z+=C[L+H]<<8*H;w.Ra=Z,w.bb=I,w.oa=C,w.pa=L}function pe(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<El-8>>>0,++w.bb,w.u-=8;oe(w)&&(w.h=1,w.u=0)}function X(w,C){if(e(0<=C),!w.h&&C<=$s){var L=ne(w)&Fs[C];return w.u+=C,pe(w),L}return w.h=1,w.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ne(w){return w.Ra>>>(w.u&El-1)>>>0}function oe(w){return e(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>El}function ue(w,C){w.u=C,w.h=oe(w)}function de(w){w.u>=lo&&(e(w.u>=lo),pe(w))}function be(w){e(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(e(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function Se(w){return se(w,1)}function ke(w,C){var L=w.Ca;0>w.b&&be(w);var I=w.b,H=L*C>>>8,Z=(w.I>>>I>H)+0;for(Z?(L-=H,w.I-=H+1<<I>>>0):L=H+1,I=L,H=0;256<=I;)H+=8,I>>=8;return I=7^H+Fo[I],w.b-=I,w.Ca=(L<<I)-1,Z}function De(w,C,L){w[C+0]=L>>24&255,w[C+1]=L>>16&255,w[C+2]=L>>8&255,w[C+3]=255&L}function Ye(w,C){return w[C+0]|w[C+1]<<8}function We(w,C){return Ye(w,C)|w[C+2]<<16}function nt(w,C){return Ye(w,C)|Ye(w,C+2)<<16}function le(w,C){var L=1<<C;return e(w!=null),e(0<C),w.X=s(L),w.X==null?0:(w.Mb=32-C,w.Xa=C,1)}function Ze(w,C){e(w!=null),e(C!=null),e(w.Xa==C.Xa),n(C.X,0,w.X,0,1<<C.Xa)}function er(){this.X=[],this.Xa=this.Mb=0}function vt(w,C,L,I){e(L!=null),e(I!=null);var H=L[0],Z=I[0];return H==0&&(H=(w*Z+C/2)/C),Z==0&&(Z=(C*H+w/2)/w),0>=H||0>=Z?0:(L[0]=H,I[0]=Z,1)}function ze(w,C){return w+(1<<C)-1>>>C}function xt(w,C){return((4278255360&w)+(4278255360&C)>>>0&4278255360)+((16711935&w)+(16711935&C)>>>0&16711935)>>>0}function tt(w,C){z[C]=function(L,I,H,Z,te,ie,ae){var ce;for(ce=0;ce<te;++ce){var ve=z[w](ie[ae+ce-1],H,Z+ce);ie[ae+ce]=xt(L[I+ce],ve)}}}function jt(){this.ud=this.hd=this.jd=0}function dt(w,C){return((4278124286&(w^C))>>>1)+(w&C)>>>0}function _r(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function or(w,C){return _r(w+(w-C+.5>>1))}function mt(w,C,L){return Math.abs(C-L)-Math.abs(w-L)}function Gt(w,C,L,I,H,Z,te){for(I=Z[te-1],L=0;L<H;++L)Z[te+L]=I=xt(w[C+L],I)}function hr(w,C,L,I,H){var Z;for(Z=0;Z<L;++Z){var te=w[C+Z],ie=te>>8&255,ae=16711935&(ae=(ae=16711935&te)+((ie<<16)+ie));I[H+Z]=(4278255360&te)+ae>>>0}}function ft(w,C){C.jd=255&w,C.hd=w>>8&255,C.ud=w>>16&255}function zt(w,C,L,I,H,Z){var te;for(te=0;te<I;++te){var ie=C[L+te],ae=ie>>>8,ce=ie,ve=255&(ve=(ve=ie>>>16)+((w.jd<<24>>24)*(ae<<24>>24)>>>5));ce=255&(ce=(ce+=(w.hd<<24>>24)*(ae<<24>>24)>>>5)+((w.ud<<24>>24)*(ve<<24>>24)>>>5)),H[Z+te]=(4278255360&ie)+(ve<<16)+ce}}function ot(w,C,L,I,H){z[C]=function(Z,te,ie,ae,ce,ve,Ae,he,we){for(ae=Ae;ae<he;++ae)for(Ae=0;Ae<we;++Ae)ce[ve++]=H(ie[I(Z[te++])])},z[w]=function(Z,te,ie,ae,ce,ve,Ae){var he=8>>Z.b,we=Z.Ea,Ne=Z.K[0],Ie=Z.w;if(8>he)for(Z=(1<<Z.b)-1,Ie=(1<<he)-1;te<ie;++te){var je,Me=0;for(je=0;je<we;++je)je&Z||(Me=I(ae[ce++])),ve[Ae++]=H(Ne[Me&Ie]),Me>>=he}else z["VP8LMapColor"+L](ae,ce,Ne,Ie,ve,Ae,te,ie,we)}}function rn(w,C,L,I,H){for(L=C+L;C<L;){var Z=w[C++];I[H++]=Z>>16&255,I[H++]=Z>>8&255,I[H++]=255&Z}}function fr(w,C,L,I,H){for(L=C+L;C<L;){var Z=w[C++];I[H++]=Z>>16&255,I[H++]=Z>>8&255,I[H++]=255&Z,I[H++]=Z>>24&255}}function Vt(w,C,L,I,H){for(L=C+L;C<L;){var Z=(te=w[C++])>>16&240|te>>12&15,te=240&te|te>>28&15;I[H++]=Z,I[H++]=te}}function Ht(w,C,L,I,H){for(L=C+L;C<L;){var Z=(te=w[C++])>>16&248|te>>13&7,te=te>>5&224|te>>3&31;I[H++]=Z,I[H++]=te}}function xr(w,C,L,I,H){for(L=C+L;C<L;){var Z=w[C++];I[H++]=255&Z,I[H++]=Z>>8&255,I[H++]=Z>>16&255}}function Tt(w,C,L,I,H,Z){if(Z==0)for(L=C+L;C<L;)De(I,((Z=w[C++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),H+=32;else n(I,H,w,C,L)}function Rr(w,C){z[C][0]=z[w+"0"],z[C][1]=z[w+"1"],z[C][2]=z[w+"2"],z[C][3]=z[w+"3"],z[C][4]=z[w+"4"],z[C][5]=z[w+"5"],z[C][6]=z[w+"6"],z[C][7]=z[w+"7"],z[C][8]=z[w+"8"],z[C][9]=z[w+"9"],z[C][10]=z[w+"10"],z[C][11]=z[w+"11"],z[C][12]=z[w+"12"],z[C][13]=z[w+"13"],z[C][14]=z[w+"0"],z[C][15]=z[w+"0"]}function Dt(w){return w==Au||w==Lc||w==Oh||w==Ih}function qt(){this.eb=[],this.size=this.A=this.fb=0}function kr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Jt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new qt,this.f.kb=new kr,this.sd=null}function lt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ar(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ut(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function pt(w,C){var L=w.T,I=C.ba.f.RGBA,H=I.eb,Z=I.fb+w.ka*I.A,te=gs[C.ba.S],ie=w.y,ae=w.O,ce=w.f,ve=w.N,Ae=w.ea,he=w.W,we=C.cc,Ne=C.dc,Ie=C.Mc,je=C.Nc,Me=w.ka,Oe=w.ka+w.T,Fe=w.U,$e=Fe+1>>1;for(Me==0?te(ie,ae,null,null,ce,ve,Ae,he,ce,ve,Ae,he,H,Z,null,null,Fe):(te(C.ec,C.fc,ie,ae,we,Ne,Ie,je,ce,ve,Ae,he,H,Z-I.A,H,Z,Fe),++L);Me+2<Oe;Me+=2)we=ce,Ne=ve,Ie=Ae,je=he,ve+=w.Rc,he+=w.Rc,Z+=2*I.A,te(ie,(ae+=2*w.fa)-w.fa,ie,ae,we,Ne,Ie,je,ce,ve,Ae,he,H,Z-I.A,H,Z,Fe);return ae+=w.fa,w.j+Oe<w.o?(n(C.ec,C.fc,ie,ae,Fe),n(C.cc,C.dc,ce,ve,$e),n(C.Mc,C.Nc,Ae,he,$e),L--):1&Oe||te(ie,ae,null,null,ce,ve,Ae,he,ce,ve,Ae,he,H,Z+I.A,null,null,Fe),L}function mr(w,C,L){var I=w.F,H=[w.J];if(I!=null){var Z=w.U,te=C.ba.S,ie=te==Mh||te==Oh;C=C.ba.f.RGBA;var ae=[0],ce=w.ka;ae[0]=w.T,w.Kb&&(ce==0?--ae[0]:(--ce,H[0]-=w.width),w.j+w.ka+w.T==w.o&&(ae[0]=w.o-w.j-ce));var ve=C.eb;ce=C.fb+ce*C.A,w=Ph(I,H[0],w.width,Z,ae,ve,ce+(ie?0:3),C.A),e(L==ae),w&&Dt(te)&&jc(ve,ce,ie,Z,ae,C.A)}return 0}function cn(w){var C=w.ma,L=C.ba.S,I=11>L,H=L==Rl||L==Rh||L==Mh||L==nn||L==12||Dt(L);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!wu(C.Oa,w,H?11:12))return 0;if(H&&Dt(L)&&bc(),w.da)alert("todo:use_scaling");else{if(I){if(C.Ib=Ut,w.Kb){if(L=w.U+1>>1,C.memory=s(w.U+2*L),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+w.U,C.Mc=C.cc,C.Nc=C.dc+L,C.Ib=pt,bc()}}else alert("todo:EmitYUV");H&&(C.Jb=mr,I&&La())}if(I&&!Mi){for(w=0;256>w;++w)ys[w]=89858*(w-128)+Oa>>qo,vs[w]=-22014*(w-128)+Oa,Pu[w]=-45773*(w-128),Oc[w]=113618*(w-128)+Oa>>qo;for(w=Kr;w<Zr;++w)C=76283*(w-16)+Oa>>qo,cf[w-Kr]=ti(C,255),O0[w-Kr]=ti(C+8>>4,15);Mi=1}return 1}function ct(w){var C=w.ma,L=w.U,I=w.T;return e(!(1&w.ka)),0>=L||0>=I?0:(L=C.Ib(w,C),C.Jb!=null&&C.Jb(w,C,L),C.Dc+=L,1)}function un(w){w.ma.memory=null}function Ln(w,C,L,I){return X(w,8)!=47?0:(C[0]=X(w,14)+1,L[0]=X(w,14)+1,I[0]=X(w,1),X(w,3)!=0?0:!w.h)}function $r(w,C){if(4>w)return w+1;var L=w-2>>1;return(2+(1&w)<<L)+X(C,L)+1}function _n(w,C){return 120<C?C-120:1<=(L=((L=s2[C-1])>>4)*w+(8-(15&L)))?L:1;var L}function Sr(w,C,L){var I=ne(L),H=w[C+=255&I].g-8;return 0<H&&(ue(L,L.u+8),I=ne(L),C+=w[C].value,C+=I&(1<<H)-1),ue(L,L.u+w[C].g),w[C].value}function Yr(w,C,L){return L.g+=w.g,L.value+=w.value<<C>>>0,e(8>=L.g),w.g}function Sn(w,C,L){var I=w.xc;return e((C=I==0?0:w.vc[w.md*(L>>I)+(C>>I)])<w.Wb),w.Ya[C]}function ta(w,C,L,I){var H=w.ab,Z=w.c*C,te=w.C;C=te+C;var ie=L,ae=I;for(I=w.Ta,L=w.Ua;0<H--;){var ce=w.gc[H],ve=te,Ae=C,he=ie,we=ae,Ne=(ae=I,ie=L,ce.Ea);switch(e(ve<Ae),e(Ae<=ce.nc),ce.hc){case 2:Vn(he,we,(Ae-ve)*Ne,ae,ie);break;case 0:var Ie=ve,je=Ae,Me=ae,Oe=ie,Fe=(wt=ce).Ea;Ie==0&&($o(he,we,null,null,1,Me,Oe),Gt(he,we+1,0,0,Fe-1,Me,Oe+1),we+=Fe,Oe+=Fe,++Ie);for(var $e=1<<wt.b,Mt=$e-1,ut=ze(Fe,wt.b),pr=wt.K,wt=wt.w+(Ie>>wt.b)*ut;Ie<je;){var Nr=pr,Mn=wt,yr=1;for(co(he,we,Me,Oe-Fe,1,Me,Oe);yr<Fe;){var ht=(yr&~Mt)+$e;ht>Fe&&(ht=Fe),(0,Nc[Nr[Mn++]>>8&15])(he,we+ +yr,Me,Oe+yr-Fe,ht-yr,Me,Oe+yr),yr=ht}we+=Fe,Oe+=Fe,++Ie&Mt||(wt+=ut)}Ae!=ce.nc&&n(ae,ie-Ne,ae,ie+(Ae-ve-1)*Ne,Ne);break;case 1:for(Ne=he,je=we,Fe=(he=ce.Ea)-(Oe=he&~(Me=(we=1<<ce.b)-1)),Ie=ze(he,ce.b),$e=ce.K,ce=ce.w+(ve>>ce.b)*Ie;ve<Ae;){for(Mt=$e,ut=ce,pr=new jt,wt=je+Oe,Nr=je+he;je<wt;)ft(Mt[ut++],pr),Su(pr,Ne,je,we,ae,ie),je+=we,ie+=we;je<Nr&&(ft(Mt[ut++],pr),Su(pr,Ne,je,Fe,ae,ie),je+=Fe,ie+=Fe),++ve&Me||(ce+=Ie)}break;case 3:if(he==ae&&we==ie&&0<ce.b){for(je=ae,he=Ne=ie+(Ae-ve)*Ne-(Oe=(Ae-ve)*ze(ce.Ea,ce.b)),we=ae,Me=ie,Ie=[],Oe=(Fe=Oe)-1;0<=Oe;--Oe)Ie[Oe]=we[Me+Oe];for(Oe=Fe-1;0<=Oe;--Oe)je[he+Oe]=Ie[Oe];Cc(ce,ve,Ae,ae,Ne,ae,ie)}else Cc(ce,ve,Ae,he,we,ae,ie)}ie=I,ae=L}ae!=L&&n(I,L,ie,ae,Z)}function ra(w,C){var L=w.V,I=w.Ba+w.c*w.C,H=C-w.C;if(e(C<=w.l.o),e(16>=H),0<H){var Z=w.l,te=w.Ta,ie=w.Ua,ae=Z.width;if(ta(w,H,L,I),H=ie=[ie],e((L=w.C)<(I=C)),e(Z.v<Z.va),I>Z.o&&(I=Z.o),L<Z.j){var ce=Z.j-L;L=Z.j,H[0]+=ce*ae}if(L>=I?L=0:(H[0]+=4*Z.v,Z.ka=L-Z.j,Z.U=Z.va-Z.v,Z.T=I-L,L=1),L){if(ie=ie[0],11>(L=w.ca).S){var ve=L.f.RGBA,Ae=(I=L.S,H=Z.U,Z=Z.T,ce=ve.eb,ve.A),he=Z;for(ve=ve.fb+w.Ma*ve.A;0<he--;){var we=te,Ne=ie,Ie=H,je=ce,Me=ve;switch(I){case sf:Cu(we,Ne,Ie,je,Me);break;case Rl:zo(we,Ne,Ie,je,Me);break;case Au:zo(we,Ne,Ie,je,Me),jc(je,Me,0,Ie,1,0);break;case j0:Tc(we,Ne,Ie,je,Me);break;case Rh:Tt(we,Ne,Ie,je,Me,1);break;case Lc:Tt(we,Ne,Ie,je,Me,1),jc(je,Me,0,Ie,1,0);break;case Mh:Tt(we,Ne,Ie,je,Me,0);break;case Oh:Tt(we,Ne,Ie,je,Me,0),jc(je,Me,1,Ie,1,0);break;case nn:jl(we,Ne,Ie,je,Me);break;case Ih:jl(we,Ne,Ie,je,Me),im(je,Me,Ie,1,0);break;case af:Ll(we,Ne,Ie,je,Me);break;default:e(0)}ie+=ae,ve+=Ae}w.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");e(w.Ma<=L.height)}}w.C=C,e(w.C<=w.i)}function us(w){var C;if(0<w.ua)return 0;for(C=0;C<w.Wb;++C){var L=w.Ya[C].G,I=w.Ya[C].H;if(0<L[1][I[1]+0].g||0<L[2][I[2]+0].g||0<L[3][I[3]+0].g)return 0}return 1}function Qn(w,C,L,I,H,Z){if(w.Z!=0){var te=w.qd,ie=w.rd;for(e(Vi[w.Z]!=null);C<L;++C)Vi[w.Z](te,ie,I,H,I,H,Z),te=I,ie=H,H+=Z;w.qd=te,w.rd=ie}}function ei(w,C){var L=w.l.ma,I=L.Z==0||L.Z==1?w.l.j:w.C;if(I=w.C<I?I:w.C,e(C<=w.l.o),C>I){var H=w.l.width,Z=L.ca,te=L.tb+H*I,ie=w.V,ae=w.Ba+w.c*I,ce=w.gc;e(w.ab==1),e(ce[0].hc==3),Ra(ce[0],I,C,ie,ae,Z,te),Qn(L,I,C,Z,te,H)}w.C=w.Ma=C}function Qi(w,C,L,I,H,Z,te){var ie=w.$/I,ae=w.$%I,ce=w.m,ve=w.s,Ae=L+w.$,he=Ae;H=L+I*H;var we=L+I*Z,Ne=280+ve.ua,Ie=w.Pb?ie:16777216,je=0<ve.ua?ve.Wa:null,Me=ve.wc,Oe=Ae<we?Sn(ve,ae,ie):null;e(w.C<Z),e(we<=H);var Fe=!1;e:for(;;){for(;Fe||Ae<we;){var $e=0;if(ie>=Ie){var Mt=Ae-L;e((Ie=w).Pb),Ie.wd=Ie.m,Ie.xd=Mt,0<Ie.s.ua&&Ze(Ie.s.Wa,Ie.s.vb),Ie=ie+lf}if(ae&Me||(Oe=Sn(ve,ae,ie)),e(Oe!=null),Oe.Qb&&(C[Ae]=Oe.qb,Fe=!0),!Fe)if(de(ce),Oe.jc){$e=ce,Mt=C;var ut=Ae,pr=Oe.pd[ne($e)&ca-1];e(Oe.jc),256>pr.g?(ue($e,$e.u+pr.g),Mt[ut]=pr.value,$e=0):(ue($e,$e.u+pr.g-256),e(256<=pr.value),$e=pr.value),$e==0&&(Fe=!0)}else $e=Sr(Oe.G[0],Oe.H[0],ce);if(ce.h)break;if(Fe||256>$e){if(!Fe)if(Oe.nd)C[Ae]=(Oe.qb|$e<<8)>>>0;else{if(de(ce),Fe=Sr(Oe.G[1],Oe.H[1],ce),de(ce),Mt=Sr(Oe.G[2],Oe.H[2],ce),ut=Sr(Oe.G[3],Oe.H[3],ce),ce.h)break;C[Ae]=(ut<<24|Fe<<16|$e<<8|Mt)>>>0}if(Fe=!1,++Ae,++ae>=I&&(ae=0,++ie,te!=null&&ie<=Z&&!(ie%16)&&te(w,ie),je!=null))for(;he<Ae;)$e=C[he++],je.X[(506832829*$e&4294967295)>>>je.Mb]=$e}else if(280>$e){if($e=$r($e-256,ce),Mt=Sr(Oe.G[4],Oe.H[4],ce),de(ce),Mt=_n(I,Mt=$r(Mt,ce)),ce.h)break;if(Ae-L<Mt||H-Ae<$e)break e;for(ut=0;ut<$e;++ut)C[Ae+ut]=C[Ae+ut-Mt];for(Ae+=$e,ae+=$e;ae>=I;)ae-=I,++ie,te!=null&&ie<=Z&&!(ie%16)&&te(w,ie);if(e(Ae<=H),ae&Me&&(Oe=Sn(ve,ae,ie)),je!=null)for(;he<Ae;)$e=C[he++],je.X[(506832829*$e&4294967295)>>>je.Mb]=$e}else{if(!($e<Ne))break e;for(Fe=$e-280,e(je!=null);he<Ae;)$e=C[he++],je.X[(506832829*$e&4294967295)>>>je.Mb]=$e;$e=Ae,e(!(Fe>>>(Mt=je).Xa)),C[$e]=Mt.X[Fe],Fe=!0}Fe||e(ce.h==oe(ce))}if(w.Pb&&ce.h&&Ae<H)e(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&Ze(w.s.vb,w.s.Wa);else{if(ce.h)break e;te?.(w,ie>Z?Z:ie),w.a=0,w.$=Ae-L}return 1}return w.a=3,0}function Ui(w){e(w!=null),w.vc=null,w.yc=null,w.Ya=null;var C=w.Wa;C!=null&&(C.X=null),w.vb=null,e(w!=null)}function eo(){var w=new sr;return w==null?null:(w.a=0,w.xb=ju,Rr("Predictor","VP8LPredictors"),Rr("Predictor","VP8LPredictors_C"),Rr("PredictorAdd","VP8LPredictorsAdd"),Rr("PredictorAdd","VP8LPredictorsAdd_C"),Vn=hr,Su=zt,Cu=rn,zo=fr,jl=Vt,Ll=Ht,Tc=xr,z.VP8LMapColor32b=uo,z.VP8LMapColor8b=kc,w)}function Os(w,C,L,I,H){var Z=1,te=[w],ie=[C],ae=I.m,ce=I.s,ve=null,Ae=0;e:for(;;){if(L)for(;Z&&X(ae,1);){var he=te,we=ie,Ne=I,Ie=1,je=Ne.m,Me=Ne.gc[Ne.ab],Oe=X(je,2);if(Ne.Oc&1<<Oe)Z=0;else{switch(Ne.Oc|=1<<Oe,Me.hc=Oe,Me.Ea=he[0],Me.nc=we[0],Me.K=[null],++Ne.ab,e(4>=Ne.ab),Oe){case 0:case 1:Me.b=X(je,3)+2,Ie=Os(ze(Me.Ea,Me.b),ze(Me.nc,Me.b),0,Ne,Me.K),Me.K=Me.K[0];break;case 3:var Fe,$e=X(je,8)+1,Mt=16<$e?0:4<$e?1:2<$e?2:3;if(he[0]=ze(Me.Ea,Mt),Me.b=Mt,Fe=Ie=Os($e,1,0,Ne,Me.K)){var ut,pr=$e,wt=Me,Nr=1<<(8>>wt.b),Mn=s(Nr);if(Mn==null)Fe=0;else{var yr=wt.K[0],ht=wt.w;for(Mn[0]=wt.K[0][0],ut=1;ut<1*pr;++ut)Mn[ut]=xt(yr[ht+ut],Mn[ut-1]);for(;ut<4*Nr;++ut)Mn[ut]=0;wt.K[0]=null,wt.K[0]=Mn,Fe=1}}Ie=Fe;break;case 2:break;default:e(0)}Z=Ie}}if(te=te[0],ie=ie[0],Z&&X(ae,1)&&!(Z=1<=(Ae=X(ae,4))&&11>=Ae)){I.a=3;break e}var Qe;if(Qe=Z)t:{var Hn,nr,Cr,dn=I,Ci=te,si=ie,Nn=Ae,pi=L,ki=dn.m,vn=dn.s,Er=[null],Ur=1,xn=0,qr=P0[Nn];r:for(;;){if(pi&&X(ki,1)){var On=X(ki,3)+2,In=ze(Ci,On),sn=ze(si,On),Hi=In*sn;if(!Os(In,sn,0,dn,Er))break r;for(Er=Er[0],vn.xc=On,Hn=0;Hn<Hi;++Hn){var Qr=Er[Hn]>>8&65535;Er[Hn]=Qr,Qr>=Ur&&(Ur=Qr+1)}}if(ki.h)break r;for(nr=0;5>nr;++nr){var an=Pc[nr];!nr&&0<Nn&&(an+=1<<Nn),xn<an&&(xn=an)}var ai=a(Ur*qr,W),Oi=Ur,xs=a(Oi,Q);if(xs==null)var Gn=null;else e(65536>=Oi),Gn=xs;var Yn=s(xn);if(Gn==null||Yn==null||ai==null){dn.a=1;break r}var Gi=ai;for(Hn=Cr=0;Hn<Ur;++Hn){var on=Gn[Hn],Yi=on.G,da=on.H,Ia=0,Ni=1,Kn=0;for(nr=0;5>nr;++nr){an=Pc[nr],Yi[nr]=Gi,da[nr]=Cr,!nr&&0<Nn&&(an+=1<<Nn);i:{var Il,Vo=an,Ru=dn,po=Yn,D0=Gi,gm=Cr,mn=0,Da=Ru.m,ym=X(Da,1);if(i(po,0,0,Vo),ym){var vm=X(Da,1)+1,uf=X(Da,1),hf=X(Da,uf==0?1:8);po[hf]=1,vm==2&&(po[hf=X(Da,8)]=1);var mo=1}else{var bn=s(19),oi=X(Da,4)+4;if(19<oi){Ru.a=3;var Xn=0;break i}for(Il=0;Il<oi;++Il)bn[i2[Il]]=X(Da,3);var Mu=void 0,Ho=void 0,Ou=Ru,u2=bn,mi=Vo,df=po,zh=0,go=Ou.m,Ba=8,zs=a(128,W);n:for(;q(zs,0,7,u2,19);){if(X(go,1)){var Uh=2+2*X(go,3);if((Mu=2+X(go,Uh))>mi)break n}else Mu=mi;for(Ho=0;Ho<mi&&Mu--;){de(go);var ff=zs[0+(127&ne(go))];ue(go,go.u+ff.g);var Dl=ff.value;if(16>Dl)df[Ho++]=Dl,Dl!=0&&(Ba=Dl);else{var B0=Dl==16,xm=Dl-16,F0=of[xm],bm=X(go,Dh[xm])+F0;if(Ho+bm>mi)break n;for(var $0=B0?Ba:0;0<bm--;)df[Ho++]=$0}}zh=1;break n}zh||(Ou.a=3),mo=zh}(mo=mo&&!Da.h)&&(mn=q(D0,gm,8,po,Vo)),mo&&mn!=0?Xn=mn:(Ru.a=3,Xn=0)}if(Xn==0)break r;if(Ni&&L0[nr]==1&&(Ni=Gi[Cr].g==0),Ia+=Gi[Cr].g,Cr+=Xn,3>=nr){var Iu,pf=Yn[0];for(Iu=1;Iu<an;++Iu)Yn[Iu]>pf&&(pf=Yn[Iu]);Kn+=pf}}if(on.nd=Ni,on.Qb=0,Ni&&(on.qb=(Yi[3][da[3]+0].value<<24|Yi[1][da[1]+0].value<<16|Yi[2][da[2]+0].value)>>>0,Ia==0&&256>Yi[0][da[0]+0].value&&(on.Qb=1,on.qb+=Yi[0][da[0]+0].value<<8)),on.jc=!on.Qb&&6>Kn,on.jc){var qh,Us=on;for(qh=0;qh<ca;++qh){var Go=qh,Fa=Us.pd[Go],Dc=Us.G[0][Us.H[0]+Go];256<=Dc.value?(Fa.g=Dc.g+256,Fa.value=Dc.value):(Fa.g=0,Fa.value=0,Go>>=Yr(Dc,8,Fa),Go>>=Yr(Us.G[1][Us.H[1]+Go],16,Fa),Go>>=Yr(Us.G[2][Us.H[2]+Go],0,Fa),Yr(Us.G[3][Us.H[3]+Go],24,Fa))}}}vn.vc=Er,vn.Wb=Ur,vn.Ya=Gn,vn.yc=ai,Qe=1;break t}Qe=0}if(!(Z=Qe)){I.a=3;break e}if(0<Ae){if(ce.ua=1<<Ae,!le(ce.Wa,Ae)){I.a=1,Z=0;break e}}else ce.ua=0;var mf=I,gf=te,z0=ie,yf=mf.s,vf=yf.xc;if(mf.c=gf,mf.i=z0,yf.md=ze(gf,vf),yf.wc=vf==0?-1:(1<<vf)-1,L){I.xb=fo;break e}if((ve=s(te*ie))==null){I.a=1,Z=0;break e}Z=(Z=Qi(I,ve,0,te,ie,ie,null))&&!ae.h;break e}return Z?(H!=null?H[0]=ve:(e(ve==null),e(L)),I.$=0,L||Ui(ce)):Ui(ce),Z}function gt(w,C){var L=w.c*w.i,I=L+C+16*C;return e(w.c<=C),w.V=s(I),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+L+C,1)}function ye(w,C){var L=w.C,I=C-L,H=w.V,Z=w.Ba+w.c*L;for(e(C<=w.l.o);0<I;){var te=16<I?16:I,ie=w.l.ma,ae=w.l.width,ce=ae*te,ve=ie.ca,Ae=ie.tb+ae*L,he=w.Ta,we=w.Ua;ta(w,te,H,Z),sm(he,we,ve,Ae,ce),Qn(ie,L,L+te,ve,Ae,ae),I-=te,H+=te*w.c,L+=te}e(L==C),w.C=w.Ma=C}function Ge(){this.ub=this.yd=this.td=this.Rb=0}function st(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Xr(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function gr(){this.Yb=(function(){var w=[];return(function C(L,I,H){for(var Z=H[I],te=0;te<Z&&(L.push(H.length>I+1?[]:0),!(H.length<I+1));te++)C(L[te],I+1,H)})(w,0,[3,11]),w})()}function pn(){this.jb=s(3),this.Wc=o([4,8],gr),this.Xc=o([4,17],gr)}function qn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Cn(){this.ld=this.La=this.dd=this.tc=0}function es(){this.Na=this.la=0}function _l(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function yn(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function to(){this.uc=this.M=this.Nb=0,this.wa=Array(new Cn),this.Y=0,this.ya=Array(new yn),this.aa=0,this.l=new du}function qi(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Xd(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new Ge,this.Kc=new st,this.ed=new qn,this.Qa=new Xr,this.Ic=this.$c=this.Aa=0,this.D=new to,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,O),this.ia=0,this.pb=a(4,_l),this.Pa=new pn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qi),this.Hd=0,this.rb=Array(new es),this.sb=0,this.wa=Array(new Cn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new yn),this.L=this.aa=0,this.gd=o([4,2],Cn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ti(w,C){return 0>w?0:w>C?C:w}function du(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function tm(){var w=new Xd;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,Rc||(Rc=ro)),w}function ri(w,C,L){return w.a==0&&(w.a=C,w.sc=L,w.cb=0),0}function uc(w,C,L){return 3<=L&&w[C+0]==157&&w[C+1]==1&&w[C+2]==42}function Is(w,C){if(w==null)return 0;if(w.a=0,w.sc="OK",C==null)return ri(w,2,"null VP8Io passed to VP8GetHeaders()");var L=C.data,I=C.w,H=C.ha;if(4>H)return ri(w,7,"Truncated header.");var Z=L[I+0]|L[I+1]<<8|L[I+2]<<16,te=w.Od;if(te.Rb=!(1&Z),te.td=Z>>1&7,te.yd=Z>>4&1,te.ub=Z>>5,3<te.td)return ri(w,3,"Incorrect keyframe parameters.");if(!te.yd)return ri(w,4,"Frame not displayable.");I+=3,H-=3;var ie=w.Kc;if(te.Rb){if(7>H)return ri(w,7,"cannot parse picture header");if(!uc(L,I,H))return ri(w,3,"Bad code word");ie.c=16383&(L[I+4]<<8|L[I+3]),ie.Td=L[I+4]>>6,ie.i=16383&(L[I+6]<<8|L[I+5]),ie.Ud=L[I+6]>>6,I+=7,H-=7,w.za=ie.c+15>>4,w.Ub=ie.i+15>>4,C.width=ie.c,C.height=ie.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,i((Z=w.Pa).jb,0,255,Z.jb.length),e((Z=w.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,i(Z.Zb,0,0,Z.Zb.length),i(Z.Lb,0,0,Z.Lb)}if(te.ub>H)return ri(w,7,"bad partition length");ee(Z=w.m,L,I,te.ub),I+=te.ub,H-=te.ub,te.Rb&&(ie.Ld=Se(Z),ie.Kd=Se(Z)),ie=w.Qa;var ae,ce=w.Pa;if(e(Z!=null),e(ie!=null),ie.Cb=Se(Z),ie.Cb){if(ie.Bb=Se(Z),Se(Z)){for(ie.Fb=Se(Z),ae=0;4>ae;++ae)ie.Zb[ae]=Se(Z)?V(Z,7):0;for(ae=0;4>ae;++ae)ie.Lb[ae]=Se(Z)?V(Z,6):0}if(ie.Bb)for(ae=0;3>ae;++ae)ce.jb[ae]=Se(Z)?se(Z,8):255}else ie.Bb=0;if(Z.Ka)return ri(w,3,"cannot parse segment header");if((ie=w.ed).zd=Se(Z),ie.Tb=se(Z,6),ie.wb=se(Z,3),ie.Pc=Se(Z),ie.Pc&&Se(Z)){for(ce=0;4>ce;++ce)Se(Z)&&(ie.vd[ce]=V(Z,6));for(ce=0;4>ce;++ce)Se(Z)&&(ie.od[ce]=V(Z,6))}if(w.L=ie.Tb==0?0:ie.zd?1:2,Z.Ka)return ri(w,3,"cannot parse filter header");var ve=H;if(H=ae=I,I=ae+ve,ie=ve,w.Xb=(1<<se(w.m,2))-1,ve<3*(ce=w.Xb))L=7;else{for(ae+=3*ce,ie-=3*ce,ve=0;ve<ce;++ve){var Ae=L[H+0]|L[H+1]<<8|L[H+2]<<16;Ae>ie&&(Ae=ie),ee(w.Jc[+ve],L,ae,Ae),ae+=Ae,ie-=Ae,H+=3}ee(w.Jc[+ce],L,ae,ie),L=ae<I?0:5}if(L!=0)return ri(w,L,"cannot parse partitions");for(L=se(ae=w.m,7),H=Se(ae)?V(ae,4):0,I=Se(ae)?V(ae,4):0,ie=Se(ae)?V(ae,4):0,ce=Se(ae)?V(ae,4):0,ae=Se(ae)?V(ae,4):0,ve=w.Qa,Ae=0;4>Ae;++Ae){if(ve.Cb){var he=ve.Zb[Ae];ve.Fb||(he+=L)}else{if(0<Ae){w.pb[Ae]=w.pb[0];continue}he=L}var we=w.pb[Ae];we.Sc[0]=Eu[ti(he+H,127)],we.Sc[1]=Bh[ti(he+0,127)],we.Eb[0]=2*Eu[ti(he+I,127)],we.Eb[1]=101581*Bh[ti(he+ie,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=Eu[ti(he+ce,117)],we.Qc[1]=Bh[ti(he+ae,127)],we.lc=he+ae}if(!te.Rb)return ri(w,4,"Not a key frame.");for(Se(Z),te=w.Pa,L=0;4>L;++L){for(H=0;8>H;++H)for(I=0;3>I;++I)for(ie=0;11>ie;++ie)ce=ke(Z,o2[L][H][I][ie])?se(Z,8):M0[L][H][I][ie],te.Wc[L][H].Yb[I][ie]=ce;for(H=0;17>H;++H)te.Xc[L][H]=te.Wc[L][fm[H]]}return w.kc=Se(Z),w.kc&&(w.Bd=se(Z,8)),w.cb=1}function ro(w,C,L,I,H,Z,te){var ie=C[H].Yb[L];for(L=0;16>H;++H){if(!ke(w,ie[L+0]))return H;for(;!ke(w,ie[L+1]);)if(ie=C[++H].Yb[0],L=0,H==16)return 16;var ae=C[H+1].Yb;if(ke(w,ie[L+2])){var ce=w,ve=0;if(ke(ce,(he=ie)[(Ae=L)+3]))if(ke(ce,he[Ae+6])){for(ie=0,Ae=2*(ve=ke(ce,he[Ae+8]))+(he=ke(ce,he[Ae+9+ve])),ve=0,he=hm[Ae];he[ie];++ie)ve+=ve+ke(ce,he[ie]);ve+=3+(8<<Ae)}else ke(ce,he[Ae+7])?(ve=7+2*ke(ce,165),ve+=ke(ce,145)):ve=5+ke(ce,159);else ve=ke(ce,he[Ae+4])?3+ke(ce,he[Ae+5]):2;ie=ae[2]}else ve=1,ie=ae[1];ae=te+dm[H],0>(ce=w).b&&be(ce);var Ae,he=ce.b,we=(Ae=ce.Ca>>1)-(ce.I>>he)>>31;--ce.b,ce.Ca+=we,ce.Ca|=1,ce.I-=(Ae+1&we)<<he,Z[ae]=((ve^we)-we)*I[(0<H)+0]}return 16}function hc(w){var C=w.rb[w.sb-1];C.la=0,C.Na=0,i(w.zc,0,0,w.zc.length),w.ja=0}function na(w,C,L,I,H){H=w[C+L+32*I]+(H>>3),w[C+L+32*I]=-256&H?0>H?0:255:H}function di(w,C,L,I,H,Z){na(w,C,0,L,I+H),na(w,C,1,L,I+Z),na(w,C,2,L,I-Z),na(w,C,3,L,I-H)}function Ea(w){return(20091*w>>16)+w}function wh(w,C,L,I){var H,Z=0,te=s(16);for(H=0;4>H;++H){var ie=w[C+0]+w[C+8],ae=w[C+0]-w[C+8],ce=(35468*w[C+4]>>16)-Ea(w[C+12]),ve=Ea(w[C+4])+(35468*w[C+12]>>16);te[Z+0]=ie+ve,te[Z+1]=ae+ce,te[Z+2]=ae-ce,te[Z+3]=ie-ve,Z+=4,C++}for(H=Z=0;4>H;++H)ie=(w=te[Z+0]+4)+te[Z+8],ae=w-te[Z+8],ce=(35468*te[Z+4]>>16)-Ea(te[Z+12]),na(L,I,0,0,ie+(ve=Ea(te[Z+4])+(35468*te[Z+12]>>16))),na(L,I,1,0,ae+ce),na(L,I,2,0,ae-ce),na(L,I,3,0,ie-ve),Z++,I+=32}function _h(w,C,L,I){var H=w[C+0]+4,Z=35468*w[C+4]>>16,te=Ea(w[C+4]),ie=35468*w[C+1]>>16;di(L,I,0,H+te,w=Ea(w[C+1]),ie),di(L,I,1,H+Z,w,ie),di(L,I,2,H-Z,w,ie),di(L,I,3,H-te,w,ie)}function dc(w,C,L,I,H){wh(w,C,L,I),H&&wh(w,C+16,L,I+4)}function no(w,C,L,I){Ac(w,C+0,L,I,1),Ac(w,C+32,L,I+128,1)}function fu(w,C,L,I){var H;for(w=w[C+0]+4,H=0;4>H;++H)for(C=0;4>C;++C)na(L,I,C,H,w)}function Ir(w,C,L,I){w[C+0]&&zr(w,C+0,L,I),w[C+16]&&zr(w,C+16,L,I+4),w[C+32]&&zr(w,C+32,L,I+128),w[C+48]&&zr(w,C+48,L,I+128+4)}function fc(w,C,L,I){var H,Z=s(16);for(H=0;4>H;++H){var te=w[C+0+H]+w[C+12+H],ie=w[C+4+H]+w[C+8+H],ae=w[C+4+H]-w[C+8+H],ce=w[C+0+H]-w[C+12+H];Z[0+H]=te+ie,Z[8+H]=te-ie,Z[4+H]=ce+ae,Z[12+H]=ce-ae}for(H=0;4>H;++H)te=(w=Z[0+4*H]+3)+Z[3+4*H],ie=Z[1+4*H]+Z[2+4*H],ae=Z[1+4*H]-Z[2+4*H],ce=w-Z[3+4*H],L[I+0]=te+ie>>3,L[I+16]=ce+ae>>3,L[I+32]=te-ie>>3,L[I+48]=ce-ae>>3,I+=64}function Sl(w,C,L){var I,H=C-32,Z=rs,te=255-w[H-1];for(I=0;I<L;++I){var ie,ae=Z,ce=te+w[C-1];for(ie=0;ie<L;++ie)w[C+ie]=ae[ce+w[H+ie]];C+=32}}function Sh(w,C){Sl(w,C,4)}function Jd(w,C){Sl(w,C,8)}function Zd(w,C){Sl(w,C,16)}function pu(w,C){var L;for(L=0;16>L;++L)n(w,C+32*L,w,C-32,16)}function mu(w,C){var L;for(L=16;0<L;--L)i(w,C,w[C-1],16),C+=32}function hs(w,C,L){var I;for(I=0;16>I;++I)i(C,L+32*I,w,16)}function io(w,C){var L,I=16;for(L=0;16>L;++L)I+=w[C-1+32*L]+w[C+L-32];hs(I>>5,w,C)}function ds(w,C){var L,I=8;for(L=0;16>L;++L)I+=w[C-1+32*L];hs(I>>4,w,C)}function ia(w,C){var L,I=8;for(L=0;16>L;++L)I+=w[C+L-32];hs(I>>4,w,C)}function pc(w,C){hs(128,w,C)}function Zt(w,C,L){return w+2*C+L+2>>2}function so(w,C){var L,I=C-32;for(I=new Uint8Array([Zt(w[I-1],w[I+0],w[I+1]),Zt(w[I+0],w[I+1],w[I+2]),Zt(w[I+1],w[I+2],w[I+3]),Zt(w[I+2],w[I+3],w[I+4])]),L=0;4>L;++L)n(w,C+32*L,I,0,I.length)}function rm(w,C){var L=w[C-1],I=w[C-1+32],H=w[C-1+64],Z=w[C-1+96];De(w,C+0,16843009*Zt(w[C-1-32],L,I)),De(w,C+32,16843009*Zt(L,I,H)),De(w,C+64,16843009*Zt(I,H,Z)),De(w,C+96,16843009*Zt(H,Z,Z))}function Qd(w,C){var L,I=4;for(L=0;4>L;++L)I+=w[C+L-32]+w[C-1+32*L];for(I>>=3,L=0;4>L;++L)i(w,C+32*L,I,4)}function Ds(w,C){var L=w[C-1+0],I=w[C-1+32],H=w[C-1+64],Z=w[C-1-32],te=w[C+0-32],ie=w[C+1-32],ae=w[C+2-32],ce=w[C+3-32];w[C+0+96]=Zt(I,H,w[C-1+96]),w[C+1+96]=w[C+0+64]=Zt(L,I,H),w[C+2+96]=w[C+1+64]=w[C+0+32]=Zt(Z,L,I),w[C+3+96]=w[C+2+64]=w[C+1+32]=w[C+0+0]=Zt(te,Z,L),w[C+3+64]=w[C+2+32]=w[C+1+0]=Zt(ie,te,Z),w[C+3+32]=w[C+2+0]=Zt(ae,ie,te),w[C+3+0]=Zt(ce,ae,ie)}function Mo(w,C){var L=w[C+1-32],I=w[C+2-32],H=w[C+3-32],Z=w[C+4-32],te=w[C+5-32],ie=w[C+6-32],ae=w[C+7-32];w[C+0+0]=Zt(w[C+0-32],L,I),w[C+1+0]=w[C+0+32]=Zt(L,I,H),w[C+2+0]=w[C+1+32]=w[C+0+64]=Zt(I,H,Z),w[C+3+0]=w[C+2+32]=w[C+1+64]=w[C+0+96]=Zt(H,Z,te),w[C+3+32]=w[C+2+64]=w[C+1+96]=Zt(Z,te,ie),w[C+3+64]=w[C+2+96]=Zt(te,ie,ae),w[C+3+96]=Zt(ie,ae,ae)}function ef(w,C){var L=w[C-1+0],I=w[C-1+32],H=w[C-1+64],Z=w[C-1-32],te=w[C+0-32],ie=w[C+1-32],ae=w[C+2-32],ce=w[C+3-32];w[C+0+0]=w[C+1+64]=Z+te+1>>1,w[C+1+0]=w[C+2+64]=te+ie+1>>1,w[C+2+0]=w[C+3+64]=ie+ae+1>>1,w[C+3+0]=ae+ce+1>>1,w[C+0+96]=Zt(H,I,L),w[C+0+64]=Zt(I,L,Z),w[C+0+32]=w[C+1+96]=Zt(L,Z,te),w[C+1+32]=w[C+2+96]=Zt(Z,te,ie),w[C+2+32]=w[C+3+96]=Zt(te,ie,ae),w[C+3+32]=Zt(ie,ae,ce)}function gu(w,C){var L=w[C+0-32],I=w[C+1-32],H=w[C+2-32],Z=w[C+3-32],te=w[C+4-32],ie=w[C+5-32],ae=w[C+6-32],ce=w[C+7-32];w[C+0+0]=L+I+1>>1,w[C+1+0]=w[C+0+64]=I+H+1>>1,w[C+2+0]=w[C+1+64]=H+Z+1>>1,w[C+3+0]=w[C+2+64]=Z+te+1>>1,w[C+0+32]=Zt(L,I,H),w[C+1+32]=w[C+0+96]=Zt(I,H,Z),w[C+2+32]=w[C+1+96]=Zt(H,Z,te),w[C+3+32]=w[C+2+96]=Zt(Z,te,ie),w[C+3+64]=Zt(te,ie,ae),w[C+3+96]=Zt(ie,ae,ce)}function mc(w,C){var L=w[C-1+0],I=w[C-1+32],H=w[C-1+64],Z=w[C-1+96];w[C+0+0]=L+I+1>>1,w[C+2+0]=w[C+0+32]=I+H+1>>1,w[C+2+32]=w[C+0+64]=H+Z+1>>1,w[C+1+0]=Zt(L,I,H),w[C+3+0]=w[C+1+32]=Zt(I,H,Z),w[C+3+32]=w[C+1+64]=Zt(H,Z,Z),w[C+3+64]=w[C+2+64]=w[C+0+96]=w[C+1+96]=w[C+2+96]=w[C+3+96]=Z}function Ch(w,C){var L=w[C-1+0],I=w[C-1+32],H=w[C-1+64],Z=w[C-1+96],te=w[C-1-32],ie=w[C+0-32],ae=w[C+1-32],ce=w[C+2-32];w[C+0+0]=w[C+2+32]=L+te+1>>1,w[C+0+32]=w[C+2+64]=I+L+1>>1,w[C+0+64]=w[C+2+96]=H+I+1>>1,w[C+0+96]=Z+H+1>>1,w[C+3+0]=Zt(ie,ae,ce),w[C+2+0]=Zt(te,ie,ae),w[C+1+0]=w[C+3+32]=Zt(L,te,ie),w[C+1+32]=w[C+3+64]=Zt(I,L,te),w[C+1+64]=w[C+3+96]=Zt(H,I,L),w[C+1+96]=Zt(Z,H,I)}function ja(w,C){var L;for(L=0;8>L;++L)n(w,C+32*L,w,C-32,8)}function gc(w,C){var L;for(L=0;8>L;++L)i(w,C,w[C-1],8),C+=32}function fs(w,C,L){var I;for(I=0;8>I;++I)i(C,L+32*I,w,8)}function yu(w,C){var L,I=8;for(L=0;8>L;++L)I+=w[C+L-32]+w[C-1+32*L];fs(I>>4,w,C)}function kh(w,C){var L,I=4;for(L=0;8>L;++L)I+=w[C+L-32];fs(I>>3,w,C)}function Nh(w,C){var L,I=4;for(L=0;8>L;++L)I+=w[C-1+32*L];fs(I>>3,w,C)}function vu(w,C){fs(128,w,C)}function sa(w,C,L){var I=w[C-L],H=w[C+0],Z=3*(H-I)+ho[1020+w[C-2*L]-w[C+L]],te=Tu[112+(Z+4>>3)];w[C-L]=rs[255+I+Tu[112+(Z+3>>3)]],w[C+0]=rs[255+H-te]}function yc(w,C,L,I){var H=w[C+0],Z=w[C+L];return ua[255+w[C-2*L]-w[C-L]]>I||ua[255+Z-H]>I}function vc(w,C,L,I){return 4*ua[255+w[C-L]-w[C+0]]+ua[255+w[C-2*L]-w[C+L]]<=I}function aa(w,C,L,I,H){var Z=w[C-3*L],te=w[C-2*L],ie=w[C-L],ae=w[C+0],ce=w[C+L],ve=w[C+2*L],Ae=w[C+3*L];return 4*ua[255+ie-ae]+ua[255+te-ce]>I?0:ua[255+w[C-4*L]-Z]<=H&&ua[255+Z-te]<=H&&ua[255+te-ie]<=H&&ua[255+Ae-ve]<=H&&ua[255+ve-ce]<=H&&ua[255+ce-ae]<=H}function Oo(w,C,L,I){var H=2*I+1;for(I=0;16>I;++I)vc(w,C+I,L,H)&&sa(w,C+I,L)}function Cl(w,C,L,I){var H=2*I+1;for(I=0;16>I;++I)vc(w,C+I*L,1,H)&&sa(w,C+I*L,1)}function Th(w,C,L,I){var H;for(H=3;0<H;--H)Oo(w,C+=4*L,L,I)}function xc(w,C,L,I){var H;for(H=3;0<H;--H)Cl(w,C+=4,L,I)}function oa(w,C,L,I,H,Z,te,ie){for(Z=2*Z+1;0<H--;){if(aa(w,C,L,Z,te))if(yc(w,C,L,ie))sa(w,C,L);else{var ae=w,ce=C,ve=L,Ae=ae[ce-2*ve],he=ae[ce-ve],we=ae[ce+0],Ne=ae[ce+ve],Ie=ae[ce+2*ve],je=27*(Oe=ho[1020+3*(we-he)+ho[1020+Ae-Ne]])+63>>7,Me=18*Oe+63>>7,Oe=9*Oe+63>>7;ae[ce-3*ve]=rs[255+ae[ce-3*ve]+Oe],ae[ce-2*ve]=rs[255+Ae+Me],ae[ce-ve]=rs[255+he+je],ae[ce+0]=rs[255+we-je],ae[ce+ve]=rs[255+Ne-Me],ae[ce+2*ve]=rs[255+Ie-Oe]}C+=I}}function ao(w,C,L,I,H,Z,te,ie){for(Z=2*Z+1;0<H--;){if(aa(w,C,L,Z,te))if(yc(w,C,L,ie))sa(w,C,L);else{var ae=w,ce=C,ve=L,Ae=ae[ce-ve],he=ae[ce+0],we=ae[ce+ve],Ne=Tu[112+(4+(Ie=3*(he-Ae))>>3)],Ie=Tu[112+(Ie+3>>3)],je=Ne+1>>1;ae[ce-2*ve]=rs[255+ae[ce-2*ve]+je],ae[ce-ve]=rs[255+Ae+Ie],ae[ce+0]=rs[255+he-Ne],ae[ce+ve]=rs[255+we-je]}C+=I}}function Wi(w,C,L,I,H,Z){oa(w,C,L,1,16,I,H,Z)}function la(w,C,L,I,H,Z){oa(w,C,1,L,16,I,H,Z)}function xu(w,C,L,I,H,Z){var te;for(te=3;0<te;--te)ao(w,C+=4*L,L,1,16,I,H,Z)}function T(w,C,L,I,H,Z){var te;for(te=3;0<te;--te)ao(w,C+=4,1,L,16,I,H,Z)}function G(w,C,L,I,H,Z,te,ie){oa(w,C,H,1,8,Z,te,ie),oa(L,I,H,1,8,Z,te,ie)}function fe(w,C,L,I,H,Z,te,ie){oa(w,C,1,H,8,Z,te,ie),oa(L,I,1,H,8,Z,te,ie)}function ge(w,C,L,I,H,Z,te,ie){ao(w,C+4*H,H,1,8,Z,te,ie),ao(L,I+4*H,H,1,8,Z,te,ie)}function Ce(w,C,L,I,H,Z,te,ie){ao(w,C+4,1,H,8,Z,te,ie),ao(L,I+4,1,H,8,Z,te,ie)}function Be(){this.ba=new Jt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ar,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function qe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function bt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Rt(){this.ua=0,this.Wa=new er,this.vb=new er,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new W}function sr(){this.xb=this.a=0,this.l=new du,this.ca=new Jt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Rt,this.ab=0,this.gc=a(4,bt),this.Oc=0}function dr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new du,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Mr(w,C,L,I,H,Z,te){for(w=w==null?0:w[C+0],C=0;C<te;++C)H[Z+C]=w+L[I+C]&255,w=H[Z+C]}function kn(w,C,L,I,H,Z,te){var ie;if(w==null)Mr(null,null,L,I,H,Z,te);else for(ie=0;ie<te;++ie)H[Z+ie]=w[C+ie]+L[I+ie]&255}function ni(w,C,L,I,H,Z,te){if(w==null)Mr(null,null,L,I,H,Z,te);else{var ie,ae=w[C+0],ce=ae,ve=ae;for(ie=0;ie<te;++ie)ce=ve+(ae=w[C+ie])-ce,ve=L[I+ie]+(-256&ce?0>ce?0:255:ce)&255,ce=ae,H[Z+ie]=ve}}function hn(w,C,L,I){var H=C.width,Z=C.o;if(e(w!=null&&C!=null),0>L||0>=I||L+I>Z)return null;if(!w.Cc){if(w.ga==null){var te;if(w.ga=new dr,(te=w.ga==null)||(te=C.width*C.o,e(w.Gb.length==0),w.Gb=s(te),w.Uc=0,w.Gb==null?te=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,te=1),te=!te),!te){te=w.ga;var ie=w.Fa,ae=w.P,ce=w.qc,ve=w.mb,Ae=w.nb,he=ae+1,we=ce-1,Ne=te.l;if(e(ie!=null&&ve!=null&&C!=null),Vi[0]=null,Vi[1]=Mr,Vi[2]=kn,Vi[3]=ni,te.ca=ve,te.tb=Ae,te.c=C.width,te.i=C.height,e(0<te.c&&0<te.i),1>=ce)C=0;else if(te.$a=3&ie[ae+0],te.Z=ie[ae+0]>>2&3,te.Lc=ie[ae+0]>>4&3,ae=ie[ae+0]>>6&3,0>te.$a||1<te.$a||4<=te.Z||1<te.Lc||ae)C=0;else if(Ne.put=ct,Ne.ac=cn,Ne.bc=un,Ne.ma=te,Ne.width=C.width,Ne.height=C.height,Ne.Da=C.Da,Ne.v=C.v,Ne.va=C.va,Ne.j=C.j,Ne.o=C.o,te.$a)e:{e(te.$a==1),C=eo();t:for(;;){if(C==null){C=0;break e}if(e(te!=null),te.mc=C,C.c=te.c,C.i=te.i,C.l=te.l,C.l.ma=te,C.l.width=te.c,C.l.height=te.i,C.a=0,re(C.m,ie,he,we),!Os(te.c,te.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&us(C.s)?(te.ic=1,ie=C.c*C.i,C.Ta=null,C.Ua=0,C.V=s(ie),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(te.ic=0,C=gt(C,te.c)),!C))break t;C=1;break e}te.mc=null,C=0}else C=we>=te.c*te.i;te=!C}if(te)return null;w.ga.Lc!=1?w.Ga=0:I=Z-L}e(w.ga!=null),e(L+I<=Z);e:{if(C=(ie=w.ga).c,Z=ie.l.o,ie.$a==0){if(he=w.rc,we=w.Vc,Ne=w.Fa,ae=w.P+1+L*C,ce=w.mb,ve=w.nb+L*C,e(ae<=w.P+w.qc),ie.Z!=0)for(e(Vi[ie.Z]!=null),te=0;te<I;++te)Vi[ie.Z](he,we,Ne,ae,ce,ve,C),he=ce,we=ve,ve+=C,ae+=C;else for(te=0;te<I;++te)n(ce,ve,Ne,ae,C),he=ce,we=ve,ve+=C,ae+=C;w.rc=he,w.Vc=we}else{if(e(ie.mc!=null),C=L+I,e((te=ie.mc)!=null),e(C<=te.i),te.C>=C)C=1;else if(ie.ic||La(),ie.ic){ie=te.V,he=te.Ba,we=te.c;var Ie=te.i,je=(Ne=1,ae=te.$/we,ce=te.$%we,ve=te.m,Ae=te.s,te.$),Me=we*Ie,Oe=we*C,Fe=Ae.wc,$e=je<Oe?Sn(Ae,ce,ae):null;e(je<=Me),e(C<=Ie),e(us(Ae));t:for(;;){for(;!ve.h&&je<Oe;){if(ce&Fe||($e=Sn(Ae,ce,ae)),e($e!=null),de(ve),256>(Ie=Sr($e.G[0],$e.H[0],ve)))ie[he+je]=Ie,++je,++ce>=we&&(ce=0,++ae<=C&&!(ae%16)&&ei(te,ae));else{if(!(280>Ie)){Ne=0;break t}Ie=$r(Ie-256,ve);var Mt,ut=Sr($e.G[4],$e.H[4],ve);if(de(ve),!(je>=(ut=_n(we,ut=$r(ut,ve)))&&Me-je>=Ie)){Ne=0;break t}for(Mt=0;Mt<Ie;++Mt)ie[he+je+Mt]=ie[he+je+Mt-ut];for(je+=Ie,ce+=Ie;ce>=we;)ce-=we,++ae<=C&&!(ae%16)&&ei(te,ae);je<Oe&&ce&Fe&&($e=Sn(Ae,ce,ae))}e(ve.h==oe(ve))}ei(te,ae>C?C:ae);break t}!Ne||ve.h&&je<Me?(Ne=0,te.a=ve.h?5:3):te.$=je,C=Ne}else C=Qi(te,te.V,te.Ba,te.c,te.i,C,ye);if(!C){I=0;break e}}L+I>=Z&&(w.Cc=1),I=1}if(!I)return null;if(w.Cc&&((I=w.ga)!=null&&(I.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+L*H}function fi(w,C,L,I,H,Z){for(;0<H--;){var te,ie=w,ae=C+(L?1:0),ce=w,ve=C+(L?0:3);for(te=0;te<I;++te){var Ae=ce[ve+4*te];Ae!=255&&(Ae*=32897,ie[ae+4*te+0]=ie[ae+4*te+0]*Ae>>23,ie[ae+4*te+1]=ie[ae+4*te+1]*Ae>>23,ie[ae+4*te+2]=ie[ae+4*te+2]*Ae>>23)}C+=Z}}function Wn(w,C,L,I,H){for(;0<I--;){var Z;for(Z=0;Z<L;++Z){var te=w[C+2*Z+0],ie=15&(ce=w[C+2*Z+1]),ae=4369*ie,ce=(240&ce|ce>>4)*ae>>16;w[C+2*Z+0]=(240&te|te>>4)*ae>>16&240|(15&te|te<<4)*ae>>16>>4&15,w[C+2*Z+1]=240&ce|ie}C+=H}}function Pi(w,C,L,I,H,Z,te,ie){var ae,ce,ve=255;for(ce=0;ce<H;++ce){for(ae=0;ae<I;++ae){var Ae=w[C+ae];Z[te+4*ae]=Ae,ve&=Ae}C+=L,te+=ie}return ve!=255}function Io(w,C,L,I,H){var Z;for(Z=0;Z<H;++Z)L[I+Z]=w[C+Z]>>8}function La(){jc=fi,im=Wn,Ph=Pi,sm=Io}function Do(w,C,L){z[w]=function(I,H,Z,te,ie,ae,ce,ve,Ae,he,we,Ne,Ie,je,Me,Oe,Fe){var $e,Mt=Fe-1>>1,ut=ie[ae+0]|ce[ve+0]<<16,pr=Ae[he+0]|we[Ne+0]<<16;e(I!=null);var wt=3*ut+pr+131074>>2;for(C(I[H+0],255&wt,wt>>16,Ie,je),Z!=null&&(wt=3*pr+ut+131074>>2,C(Z[te+0],255&wt,wt>>16,Me,Oe)),$e=1;$e<=Mt;++$e){var Nr=ie[ae+$e]|ce[ve+$e]<<16,Mn=Ae[he+$e]|we[Ne+$e]<<16,yr=ut+Nr+pr+Mn+524296,ht=yr+2*(Nr+pr)>>3;wt=ht+ut>>1,ut=(yr=yr+2*(ut+Mn)>>3)+Nr>>1,C(I[H+2*$e-1],255&wt,wt>>16,Ie,je+(2*$e-1)*L),C(I[H+2*$e-0],255&ut,ut>>16,Ie,je+(2*$e-0)*L),Z!=null&&(wt=yr+pr>>1,ut=ht+Mn>>1,C(Z[te+2*$e-1],255&wt,wt>>16,Me,Oe+(2*$e-1)*L),C(Z[te+2*$e+0],255&ut,ut>>16,Me,Oe+(2*$e+0)*L)),ut=Nr,pr=Mn}1&Fe||(wt=3*ut+pr+131074>>2,C(I[H+Fe-1],255&wt,wt>>16,Ie,je+(Fe-1)*L),Z!=null&&(wt=3*pr+ut+131074>>2,C(Z[te+Fe-1],255&wt,wt>>16,Me,Oe+(Fe-1)*L)))}}function bc(){gs[sf]=l2,gs[Rl]=Ml,gs[j0]=c2,gs[Rh]=Lu,gs[Mh]=Mc,gs[nn]=Fh,gs[af]=pm,gs[Au]=Ml,gs[Lc]=Lu,gs[Oh]=Mc,gs[Ih]=Fh}function bu(w){return w&-16384?0>w?0:255:w>>Ol}function kl(w,C){return bu((19077*w>>8)+(26149*C>>8)-14234)}function wc(w,C,L){return bu((19077*w>>8)-(6419*C>>8)-(13320*L>>8)+8708)}function Nl(w,C){return bu((19077*w>>8)+(33050*C>>8)-17685)}function Tl(w,C,L,I,H){I[H+0]=kl(w,L),I[H+1]=wc(w,C,L),I[H+2]=Nl(w,C)}function Ri(w,C,L,I,H){I[H+0]=Nl(w,C),I[H+1]=wc(w,C,L),I[H+2]=kl(w,L)}function _c(w,C,L,I,H){var Z=wc(w,C,L);C=Z<<3&224|Nl(w,C)>>3,I[H+0]=248&kl(w,L)|Z>>5,I[H+1]=C}function Sc(w,C,L,I,H){var Z=240&Nl(w,C)|15;I[H+0]=240&kl(w,L)|wc(w,C,L)>>4,I[H+1]=Z}function Ah(w,C,L,I,H){I[H+0]=255,Tl(w,C,L,I,H+1)}function Eh(w,C,L,I,H){Ri(w,C,L,I,H),I[H+3]=255}function ts(w,C,L,I,H){Tl(w,C,L,I,H),I[H+3]=255}function Pa(w,C,L){z[w]=function(I,H,Z,te,ie,ae,ce,ve,Ae){for(var he=ve+(-2&Ae)*L;ve!=he;)C(I[H+0],Z[te+0],ie[ae+0],ce,ve),C(I[H+1],Z[te+0],ie[ae+0],ce,ve+L),H+=2,++te,++ae,ve+=2*L;1&Ae&&C(I[H+0],Z[te+0],ie[ae+0],ce,ve)}}function oo(w,C,L){return L==0?w==0?C==0?6:5:C==0?4:0:L}function tf(w,C,L,I,H){switch(w>>>30){case 3:Ac(C,L,I,H,0);break;case 2:Pn(C,L,I,H);break;case 1:zr(C,L,I,H)}}function Bs(w,C){var L,I,H=C.M,Z=C.Nb,te=w.oc,ie=w.pc+40,ae=w.oc,ce=w.pc+584,ve=w.oc,Ae=w.pc+600;for(L=0;16>L;++L)te[ie+32*L-1]=129;for(L=0;8>L;++L)ae[ce+32*L-1]=129,ve[Ae+32*L-1]=129;for(0<H?te[ie-1-32]=ae[ce-1-32]=ve[Ae-1-32]=129:(i(te,ie-32-1,127,21),i(ae,ce-32-1,127,9),i(ve,Ae-32-1,127,9)),I=0;I<w.za;++I){var he=C.ya[C.aa+I];if(0<I){for(L=-1;16>L;++L)n(te,ie+32*L-4,te,ie+32*L+12,4);for(L=-1;8>L;++L)n(ae,ce+32*L-4,ae,ce+32*L+4,4),n(ve,Ae+32*L-4,ve,Ae+32*L+4,4)}var we=w.Gd,Ne=w.Hd+I,Ie=he.ad,je=he.Hc;if(0<H&&(n(te,ie-32,we[Ne].y,0,16),n(ae,ce-32,we[Ne].f,0,8),n(ve,Ae-32,we[Ne].ea,0,8)),he.Za){var Me=te,Oe=ie-32+16;for(0<H&&(I>=w.za-1?i(Me,Oe,we[Ne].y[15],4):n(Me,Oe,we[Ne+1].y,0,4)),L=0;4>L;L++)Me[Oe+128+L]=Me[Oe+256+L]=Me[Oe+384+L]=Me[Oe+0+L];for(L=0;16>L;++L,je<<=2)Me=te,Oe=ie+mm[L],ha[he.Ob[L]](Me,Oe),tf(je,Ie,16*+L,Me,Oe)}else if(Me=oo(I,H,he.Ob[0]),ns[Me](te,ie),je!=0)for(L=0;16>L;++L,je<<=2)tf(je,Ie,16*+L,te,ie+mm[L]);for(L=he.Gc,Me=oo(I,H,he.Dd),ms[Me](ae,ce),ms[Me](ve,Ae),je=Ie,Me=ae,Oe=ce,255&(he=0|L)&&(170&he?ps(je,256,Me,Oe):Jr(je,256,Me,Oe)),he=ve,je=Ae,255&(L>>=8)&&(170&L?ps(Ie,320,he,je):Jr(Ie,320,he,je)),H<w.Ub-1&&(n(we[Ne].y,0,te,ie+480,16),n(we[Ne].f,0,ae,ce+224,8),n(we[Ne].ea,0,ve,Ae+224,8)),L=8*Z*w.B,we=w.sa,Ne=w.ta+16*I+16*Z*w.R,Ie=w.qa,he=w.ra+8*I+L,je=w.Ha,Me=w.Ia+8*I+L,L=0;16>L;++L)n(we,Ne+L*w.R,te,ie+32*L,16);for(L=0;8>L;++L)n(Ie,he+L*w.B,ae,ce+32*L,8),n(je,Me+L*w.B,ve,Ae+32*L,8)}}function Al(w,C,L,I,H,Z,te,ie,ae){var ce=[0],ve=[0],Ae=0,he=ae!=null?ae.kd:0,we=ae??new qe;if(w==null||12>L)return 7;we.data=w,we.w=C,we.ha=L,C=[C],L=[L],we.gb=[we.gb];e:{var Ne=C,Ie=L,je=we.gb;if(e(w!=null),e(Ie!=null),e(je!=null),je[0]=0,12<=Ie[0]&&!r(w,Ne[0],"RIFF")){if(r(w,Ne[0]+8,"WEBP")){je=3;break e}var Me=nt(w,Ne[0]+4);if(12>Me||4294967286<Me){je=3;break e}if(he&&Me>Ie[0]-8){je=7;break e}je[0]=Me,Ne[0]+=12,Ie[0]-=12}je=0}if(je!=0)return je;for(Me=0<we.gb[0],L=L[0];;){e:{var Oe=w;Ie=C,je=L;var Fe=ce,$e=ve,Mt=Ne=[0];if((wt=Ae=[Ae])[0]=0,8>je[0])je=7;else{if(!r(Oe,Ie[0],"VP8X")){if(nt(Oe,Ie[0]+4)!=10){je=3;break e}if(18>je[0]){je=7;break e}var ut=nt(Oe,Ie[0]+8),pr=1+We(Oe,Ie[0]+12);if(2147483648<=pr*(Oe=1+We(Oe,Ie[0]+15))){je=3;break e}Mt!=null&&(Mt[0]=ut),Fe!=null&&(Fe[0]=pr),$e!=null&&($e[0]=Oe),Ie[0]+=18,je[0]-=18,wt[0]=1}je=0}}if(Ae=Ae[0],Ne=Ne[0],je!=0)return je;if(Ie=!!(2&Ne),!Me&&Ae)return 3;if(Z!=null&&(Z[0]=!!(16&Ne)),te!=null&&(te[0]=Ie),ie!=null&&(ie[0]=0),te=ce[0],Ne=ve[0],Ae&&Ie&&ae==null){je=0;break}if(4>L){je=7;break}if(Me&&Ae||!Me&&!Ae&&!r(w,C[0],"ALPH")){L=[L],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{ut=w,je=C,Me=L;var wt=we.gb;Fe=we.na,$e=we.P,Mt=we.Sa,pr=22,e(ut!=null),e(Me!=null),Oe=je[0];var Nr=Me[0];for(e(Fe!=null),e(Mt!=null),Fe[0]=null,$e[0]=null,Mt[0]=0;;){if(je[0]=Oe,Me[0]=Nr,8>Nr){je=7;break e}var Mn=nt(ut,Oe+4);if(4294967286<Mn){je=3;break e}var yr=8+Mn+1&-2;if(pr+=yr,0<wt&&pr>wt){je=3;break e}if(!r(ut,Oe,"VP8 ")||!r(ut,Oe,"VP8L")){je=0;break e}if(Nr[0]<yr){je=7;break e}r(ut,Oe,"ALPH")||(Fe[0]=ut,$e[0]=Oe+8,Mt[0]=Mn),Oe+=yr,Nr-=yr}}if(L=L[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],je!=0)break}L=[L],we.Ja=[we.Ja],we.xa=[we.xa];e:if(wt=w,je=C,Me=L,Fe=we.gb[0],$e=we.Ja,Mt=we.xa,ut=je[0],Oe=!r(wt,ut,"VP8 "),pr=!r(wt,ut,"VP8L"),e(wt!=null),e(Me!=null),e($e!=null),e(Mt!=null),8>Me[0])je=7;else{if(Oe||pr){if(wt=nt(wt,ut+4),12<=Fe&&wt>Fe-12){je=3;break e}if(he&&wt>Me[0]-8){je=7;break e}$e[0]=wt,je[0]+=8,Me[0]-=8,Mt[0]=pr}else Mt[0]=5<=Me[0]&&wt[ut+0]==47&&!(wt[ut+4]>>5),$e[0]=Me[0];je=0}if(L=L[0],we.Ja=we.Ja[0],we.xa=we.xa[0],C=C[0],je!=0)break;if(4294967286<we.Ja)return 3;if(ie==null||Ie||(ie[0]=we.xa?2:1),te=[te],Ne=[Ne],we.xa){if(5>L){je=7;break}ie=te,he=Ne,Ie=Z,w==null||5>L?w=0:5<=L&&w[C+0]==47&&!(w[C+4]>>5)?(Me=[0],wt=[0],Fe=[0],re($e=new Y,w,C,L),Ln($e,Me,wt,Fe)?(ie!=null&&(ie[0]=Me[0]),he!=null&&(he[0]=wt[0]),Ie!=null&&(Ie[0]=Fe[0]),w=1):w=0):w=0}else{if(10>L){je=7;break}ie=Ne,w==null||10>L||!uc(w,C+3,L-3)?w=0:(he=w[C+0]|w[C+1]<<8|w[C+2]<<16,Ie=16383&(w[C+7]<<8|w[C+6]),w=16383&(w[C+9]<<8|w[C+8]),1&he||3<(he>>1&7)||!(he>>4&1)||he>>5>=we.Ja||!Ie||!w?w=0:(te&&(te[0]=Ie),ie&&(ie[0]=w),w=1))}if(!w||(te=te[0],Ne=Ne[0],Ae&&(ce[0]!=te||ve[0]!=Ne)))return 3;ae!=null&&(ae[0]=we,ae.offset=C-ae.w,e(4294967286>C-ae.w),e(ae.offset==ae.ha-L));break}return je==0||je==7&&Ae&&ae==null?(Z!=null&&(Z[0]|=we.na!=null&&0<we.na.length),I!=null&&(I[0]=te),H!=null&&(H[0]=Ne),0):je}function wu(w,C,L){var I=C.width,H=C.height,Z=0,te=0,ie=I,ae=H;if(C.Da=w!=null&&0<w.Da,C.Da&&(ie=w.cd,ae=w.bd,Z=w.v,te=w.j,11>L||(Z&=-2,te&=-2),0>Z||0>te||0>=ie||0>=ae||Z+ie>I||te+ae>H))return 0;if(C.v=Z,C.j=te,C.va=Z+ie,C.o=te+ae,C.U=ie,C.T=ae,C.da=w!=null&&0<w.da,C.da){if(!vt(ie,ae,L=[w.ib],Z=[w.hb]))return 0;C.ib=L[0],C.hb=Z[0]}return C.ob=w!=null&&w.ob,C.Kb=w==null||!w.Sd,C.da&&(C.ob=C.ib<3*I/4&&C.hb<3*H/4,C.Kb=0),1}function _u(w){if(w==null)return 2;if(11>w.S){var C=w.f.RGBA;C.fb+=(w.height-1)*C.A,C.A=-C.A}else C=w.f.kb,w=w.height,C.O+=(w-1)*C.fa,C.fa=-C.fa,C.N+=(w-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(w-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(w-1)*C.lb,C.lb=-C.lb);return 0}function Bo(w,C,L,I){if(I==null||0>=w||0>=C)return 2;if(L!=null){if(L.Da){var H=L.cd,Z=L.bd,te=-2&L.v,ie=-2&L.j;if(0>te||0>ie||0>=H||0>=Z||te+H>w||ie+Z>C)return 2;w=H,C=Z}if(L.da){if(!vt(w,C,H=[L.ib],Z=[L.hb]))return 2;w=H[0],C=Z[0]}}I.width=w,I.height=C;e:{var ae=I.width,ce=I.height;if(w=I.S,0>=ae||0>=ce||!(w>=sf&&13>w))w=2;else{if(0>=I.Rd&&I.sd==null){te=Z=H=C=0;var ve=(ie=ae*$h[w])*ce;if(11>w||(Z=(ce+1)/2*(C=(ae+1)/2),w==12&&(te=(H=ae)*ce)),(ce=s(ve+2*Z+te))==null){w=1;break e}I.sd=ce,11>w?((ae=I.f.RGBA).eb=ce,ae.fb=0,ae.A=ie,ae.size=ve):((ae=I.f.kb).y=ce,ae.O=0,ae.fa=ie,ae.Fd=ve,ae.f=ce,ae.N=0+ve,ae.Ab=C,ae.Cd=Z,ae.ea=ce,ae.W=0+ve+Z,ae.Db=C,ae.Ed=Z,w==12&&(ae.F=ce,ae.J=0+ve+2*Z),ae.Tc=te,ae.lb=H)}if(C=1,H=I.S,Z=I.width,te=I.height,H>=sf&&13>H)if(11>H)w=I.f.RGBA,C&=(ie=Math.abs(w.A))*(te-1)+Z<=w.size,C&=ie>=Z*$h[H],C&=w.eb!=null;else{w=I.f.kb,ie=(Z+1)/2,ve=(te+1)/2,ae=Math.abs(w.fa),ce=Math.abs(w.Ab);var Ae=Math.abs(w.Db),he=Math.abs(w.lb),we=he*(te-1)+Z;C&=ae*(te-1)+Z<=w.Fd,C&=ce*(ve-1)+ie<=w.Cd,C=(C&=Ae*(ve-1)+ie<=w.Ed)&ae>=Z&ce>=ie&Ae>=ie,C&=w.y!=null,C&=w.f!=null,C&=w.ea!=null,H==12&&(C&=he>=Z,C&=we<=w.Tc,C&=w.F!=null)}else C=0;w=C?0:2}}return w!=0||L!=null&&L.fd&&(w=_u(I)),w}var ca=64,Fs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$s=24,El=32,lo=8,Fo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];tt("Predictor0","PredictorAdd0"),z.Predictor0=function(){return 4278190080},z.Predictor1=function(w){return w},z.Predictor2=function(w,C,L){return C[L+0]},z.Predictor3=function(w,C,L){return C[L+1]},z.Predictor4=function(w,C,L){return C[L-1]},z.Predictor5=function(w,C,L){return dt(dt(w,C[L+1]),C[L+0])},z.Predictor6=function(w,C,L){return dt(w,C[L-1])},z.Predictor7=function(w,C,L){return dt(w,C[L+0])},z.Predictor8=function(w,C,L){return dt(C[L-1],C[L+0])},z.Predictor9=function(w,C,L){return dt(C[L+0],C[L+1])},z.Predictor10=function(w,C,L){return dt(dt(w,C[L-1]),dt(C[L+0],C[L+1]))},z.Predictor11=function(w,C,L){var I=C[L+0];return 0>=mt(I>>24&255,w>>24&255,(C=C[L-1])>>24&255)+mt(I>>16&255,w>>16&255,C>>16&255)+mt(I>>8&255,w>>8&255,C>>8&255)+mt(255&I,255&w,255&C)?I:w},z.Predictor12=function(w,C,L){var I=C[L+0];return(_r((w>>24&255)+(I>>24&255)-((C=C[L-1])>>24&255))<<24|_r((w>>16&255)+(I>>16&255)-(C>>16&255))<<16|_r((w>>8&255)+(I>>8&255)-(C>>8&255))<<8|_r((255&w)+(255&I)-(255&C)))>>>0},z.Predictor13=function(w,C,L){var I=C[L-1];return(or((w=dt(w,C[L+0]))>>24&255,I>>24&255)<<24|or(w>>16&255,I>>16&255)<<16|or(w>>8&255,I>>8&255)<<8|or(255&w,255&I))>>>0};var $o=z.PredictorAdd0;z.PredictorAdd1=Gt,tt("Predictor2","PredictorAdd2"),tt("Predictor3","PredictorAdd3"),tt("Predictor4","PredictorAdd4"),tt("Predictor5","PredictorAdd5"),tt("Predictor6","PredictorAdd6"),tt("Predictor7","PredictorAdd7"),tt("Predictor8","PredictorAdd8"),tt("Predictor9","PredictorAdd9"),tt("Predictor10","PredictorAdd10"),tt("Predictor11","PredictorAdd11"),tt("Predictor12","PredictorAdd12"),tt("Predictor13","PredictorAdd13");var co=z.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var Vn,Cc=z.ColorIndexInverseTransform,uo=z.MapARGB,Ra=z.VP8LColorIndexInverseTransformAlpha,kc=z.MapAlpha,Nc=z.VP8LPredictorsAdd=[];Nc.length=16,(z.VP8LPredictors=[]).length=16,(z.VP8LPredictorsAdd_C=[]).length=16,(z.VP8LPredictors_C=[]).length=16;var Su,Cu,zo,jl,Ll,Tc,Pl,Ac,Pn,ps,zr,Jr,Rn,ii,Ma,jh,ku,Uo,rf,Nu,nf,nm,Lh,Ec,jc,im,Ph,sm,am=s(511),om=s(2041),lm=s(225),cm=s(767),um=0,ho=om,Tu=lm,rs=cm,ua=am,sf=0,Rl=1,j0=2,Rh=3,Mh=4,nn=5,af=6,Au=7,Lc=8,Oh=9,Ih=10,Dh=[2,3,7],of=[3,3,11],Pc=[280,256,256,256,40],L0=[0,1,1,1,0],i2=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],s2=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],P0=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],lf=8,Eu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Bh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Rc=null,hm=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],dm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],R0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],M0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],a2=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],o2=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],fm=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ns=[],ha=[],ms=[],fo=1,ju=2,Vi=[],gs=[];Do("UpsampleRgbLinePair",Tl,3),Do("UpsampleBgrLinePair",Ri,3),Do("UpsampleRgbaLinePair",ts,4),Do("UpsampleBgraLinePair",Eh,4),Do("UpsampleArgbLinePair",Ah,4),Do("UpsampleRgba4444LinePair",Sc,2),Do("UpsampleRgb565LinePair",_c,2);var l2=z.UpsampleRgbLinePair,c2=z.UpsampleBgrLinePair,Ml=z.UpsampleRgbaLinePair,Lu=z.UpsampleBgraLinePair,Mc=z.UpsampleArgbLinePair,Fh=z.UpsampleRgba4444LinePair,pm=z.UpsampleRgb565LinePair,qo=16,Oa=1<<qo-1,Kr=-227,Zr=482,Ol=6,Mi=0,ys=s(256),Oc=s(256),Pu=s(256),vs=s(256),cf=s(Zr-Kr),O0=s(Zr-Kr);Pa("YuvToRgbRow",Tl,3),Pa("YuvToBgrRow",Ri,3),Pa("YuvToRgbaRow",ts,4),Pa("YuvToBgraRow",Eh,4),Pa("YuvToArgbRow",Ah,4),Pa("YuvToRgba4444Row",Sc,2),Pa("YuvToRgb565Row",_c,2);var mm=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ic=[0,2,8],I0=[8,7,6,4,4,2,2,2,1,1,1,1],Wo=1;this.WebPDecodeRGBA=function(w,C,L,I,H){var Z=Rl,te=new Be,ie=new Jt;te.ba=ie,ie.S=Z,ie.width=[ie.width],ie.height=[ie.height];var ae=ie.width,ce=ie.height,ve=new lt;if(ve==null||w==null)var Ae=2;else e(ve!=null),Ae=Al(w,C,L,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(Ae!=0?ae=0:(ae!=null&&(ae[0]=ve.width[0]),ce!=null&&(ce[0]=ve.height[0]),ae=1),ae){ie.width=ie.width[0],ie.height=ie.height[0],I!=null&&(I[0]=ie.width),H!=null&&(H[0]=ie.height);e:{if(I=new du,(H=new qe).data=w,H.w=C,H.ha=L,H.kd=1,C=[0],e(H!=null),((w=Al(H.data,H.w,H.ha,null,null,null,C,null,H))==0||w==7)&&C[0]&&(w=4),(C=w)==0){if(e(te!=null),I.data=H.data,I.w=H.w+H.offset,I.ha=H.ha-H.offset,I.put=ct,I.ac=cn,I.bc=un,I.ma=te,H.xa){if((w=eo())==null){te=1;break e}if((function(he,we){var Ne=[0],Ie=[0],je=[0];t:for(;;){if(he==null)return 0;if(we==null)return he.a=2,0;if(he.l=we,he.a=0,re(he.m,we.data,we.w,we.ha),!Ln(he.m,Ne,Ie,je)){he.a=3;break t}if(he.xb=ju,we.width=Ne[0],we.height=Ie[0],!Os(Ne[0],Ie[0],1,he,null))break t;return 1}return e(he.a!=0),0})(w,I)){if(I=(C=Bo(I.width,I.height,te.Oa,te.ba))==0){t:{I=w;r:for(;;){if(I==null){I=0;break t}if(e(I.s.yc!=null),e(I.s.Ya!=null),e(0<I.s.Wb),e((L=I.l)!=null),e((H=L.ma)!=null),I.xb!=0){if(I.ca=H.ba,I.tb=H.tb,e(I.ca!=null),!wu(H.Oa,L,Rh)){I.a=2;break r}if(!gt(I,L.width)||L.da)break r;if((L.da||Dt(I.ca.S))&&La(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&La()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!le(I.s.vb,I.s.Wa.Xa)){I.a=1;break r}I.xb=0}if(!Qi(I,I.V,I.Ba,I.c,I.i,L.o,ra))break r;H.Dc=I.Ma,I=1;break t}e(I.a!=0),I=0}I=!I}I&&(C=w.a)}else C=w.a}else{if((w=new tm)==null){te=1;break e}if(w.Fa=H.na,w.P=H.P,w.qc=H.Sa,Is(w,I)){if((C=Bo(I.width,I.height,te.Oa,te.ba))==0){if(w.Aa=0,L=te.Oa,e((H=w)!=null),L!=null){if(0<(ae=0>(ae=L.Md)?0:100<ae?255:255*ae/100)){for(ce=ve=0;4>ce;++ce)12>(Ae=H.pb[ce]).lc&&(Ae.ia=ae*I0[0>Ae.lc?0:Ae.lc]>>3),ve|=Ae.ia;ve&&(alert("todo:VP8InitRandom"),H.ia=1)}H.Ga=L.Id,100<H.Ga?H.Ga=100:0>H.Ga&&(H.Ga=0)}(function(he,we){if(he==null)return 0;if(we==null)return ri(he,2,"NULL VP8Io parameter in VP8Decode().");if(!he.cb&&!Is(he,we))return 0;if(e(he.cb),we.ac==null||we.ac(we)){we.ob&&(he.L=0);var Ne=Ic[he.L];if(he.L==2?(he.yb=0,he.zb=0):(he.yb=we.v-Ne>>4,he.zb=we.j-Ne>>4,0>he.yb&&(he.yb=0),0>he.zb&&(he.zb=0)),he.Va=we.o+15+Ne>>4,he.Hb=we.va+15+Ne>>4,he.Hb>he.za&&(he.Hb=he.za),he.Va>he.Ub&&(he.Va=he.Ub),0<he.L){var Ie=he.ed;for(Ne=0;4>Ne;++Ne){var je;if(he.Qa.Cb){var Me=he.Qa.Lb[Ne];he.Qa.Fb||(Me+=Ie.Tb)}else Me=Ie.Tb;for(je=0;1>=je;++je){var Oe=he.gd[Ne][je],Fe=Me;if(Ie.Pc&&(Fe+=Ie.vd[0],je&&(Fe+=Ie.od[0])),0<(Fe=0>Fe?0:63<Fe?63:Fe)){var $e=Fe;0<Ie.wb&&($e=4<Ie.wb?$e>>2:$e>>1)>9-Ie.wb&&($e=9-Ie.wb),1>$e&&($e=1),Oe.dd=$e,Oe.tc=2*Fe+$e,Oe.ld=40<=Fe?2:15<=Fe?1:0}else Oe.tc=0;Oe.La=je}}}Ne=0}else ri(he,6,"Frame setup failed"),Ne=he.a;if(Ne=Ne==0){if(Ne){he.$c=0,0<he.Aa||(he.Ic=Wo);t:{Ne=he.Ic,Ie=4*($e=he.za);var Mt=32*$e,ut=$e+1,pr=0<he.L?$e*(0<he.Aa?2:1):0,wt=(he.Aa==2?2:1)*$e;if((Oe=Ie+832+(je=3*(16*Ne+Ic[he.L])/2*Mt)+(Me=he.Fa!=null&&0<he.Fa.length?he.Kc.c*he.Kc.i:0))!=Oe)Ne=0;else{if(Oe>he.Vb){if(he.Vb=0,he.Ec=s(Oe),he.Fc=0,he.Ec==null){Ne=ri(he,1,"no memory during frame initialization.");break t}he.Vb=Oe}Oe=he.Ec,Fe=he.Fc,he.Ac=Oe,he.Bc=Fe,Fe+=Ie,he.Gd=a(Mt,qi),he.Hd=0,he.rb=a(ut+1,es),he.sb=1,he.wa=pr?a(pr,Cn):null,he.Y=0,he.D.Nb=0,he.D.wa=he.wa,he.D.Y=he.Y,0<he.Aa&&(he.D.Y+=$e),e(!0),he.oc=Oe,he.pc=Fe,Fe+=832,he.ya=a(wt,yn),he.aa=0,he.D.ya=he.ya,he.D.aa=he.aa,he.Aa==2&&(he.D.aa+=$e),he.R=16*$e,he.B=8*$e,$e=(Mt=Ic[he.L])*he.R,Mt=Mt/2*he.B,he.sa=Oe,he.ta=Fe+$e,he.qa=he.sa,he.ra=he.ta+16*Ne*he.R+Mt,he.Ha=he.qa,he.Ia=he.ra+8*Ne*he.B+Mt,he.$c=0,Fe+=je,he.mb=Me?Oe:null,he.nb=Me?Fe:null,e(Fe+Me<=he.Fc+he.Vb),hc(he),i(he.Ac,he.Bc,0,Ie),Ne=1}}if(Ne){if(we.ka=0,we.y=he.sa,we.O=he.ta,we.f=he.qa,we.N=he.ra,we.ea=he.Ha,we.Vd=he.Ia,we.fa=he.R,we.Rc=he.B,we.F=null,we.J=0,!um){for(Ne=-255;255>=Ne;++Ne)am[255+Ne]=0>Ne?-Ne:Ne;for(Ne=-1020;1020>=Ne;++Ne)om[1020+Ne]=-128>Ne?-128:127<Ne?127:Ne;for(Ne=-112;112>=Ne;++Ne)lm[112+Ne]=-16>Ne?-16:15<Ne?15:Ne;for(Ne=-255;510>=Ne;++Ne)cm[255+Ne]=0>Ne?0:255<Ne?255:Ne;um=1}Pl=fc,Ac=dc,ps=no,zr=fu,Jr=Ir,Pn=_h,Rn=Wi,ii=la,Ma=G,jh=fe,ku=xu,Uo=T,rf=ge,Nu=Ce,nf=Oo,nm=Cl,Lh=Th,Ec=xc,ha[0]=Qd,ha[1]=Sh,ha[2]=so,ha[3]=rm,ha[4]=Ds,ha[5]=ef,ha[6]=Mo,ha[7]=gu,ha[8]=Ch,ha[9]=mc,ns[0]=io,ns[1]=Zd,ns[2]=pu,ns[3]=mu,ns[4]=ds,ns[5]=ia,ns[6]=pc,ms[0]=yu,ms[1]=Jd,ms[2]=ja,ms[3]=gc,ms[4]=Nh,ms[5]=kh,ms[6]=vu,Ne=1}else Ne=0}Ne&&(Ne=(function(Nr,Mn){for(Nr.M=0;Nr.M<Nr.Va;++Nr.M){var yr,ht=Nr.Jc[Nr.M&Nr.Xb],Qe=Nr.m,Hn=Nr;for(yr=0;yr<Hn.za;++yr){var nr=Qe,Cr=Hn,dn=Cr.Ac,Ci=Cr.Bc+4*yr,si=Cr.zc,Nn=Cr.ya[Cr.aa+yr];if(Cr.Qa.Bb?Nn.$b=ke(nr,Cr.Pa.jb[0])?2+ke(nr,Cr.Pa.jb[2]):ke(nr,Cr.Pa.jb[1]):Nn.$b=0,Cr.kc&&(Nn.Ad=ke(nr,Cr.Bd)),Nn.Za=!ke(nr,145)+0,Nn.Za){var pi=Nn.Ob,ki=0;for(Cr=0;4>Cr;++Cr){var vn,Er=si[0+Cr];for(vn=0;4>vn;++vn){Er=a2[dn[Ci+vn]][Er];for(var Ur=R0[ke(nr,Er[0])];0<Ur;)Ur=R0[2*Ur+ke(nr,Er[Ur])];Er=-Ur,dn[Ci+vn]=Er}n(pi,ki,dn,Ci,4),ki+=4,si[0+Cr]=Er}}else Er=ke(nr,156)?ke(nr,128)?1:3:ke(nr,163)?2:0,Nn.Ob[0]=Er,i(dn,Ci,Er,4),i(si,0,Er,4);Nn.Dd=ke(nr,142)?ke(nr,114)?ke(nr,183)?1:3:2:0}if(Hn.m.Ka)return ri(Nr,7,"Premature end-of-partition0 encountered.");for(;Nr.ja<Nr.za;++Nr.ja){if(Hn=ht,nr=(Qe=Nr).rb[Qe.sb-1],dn=Qe.rb[Qe.sb+Qe.ja],yr=Qe.ya[Qe.aa+Qe.ja],Ci=Qe.kc?yr.Ad:0)nr.la=dn.la=0,yr.Za||(nr.Na=dn.Na=0),yr.Hc=0,yr.Gc=0,yr.ia=0;else{var xn,qr;if(nr=dn,dn=Hn,Ci=Qe.Pa.Xc,si=Qe.ya[Qe.aa+Qe.ja],Nn=Qe.pb[si.$b],Cr=si.ad,pi=0,ki=Qe.rb[Qe.sb-1],Er=vn=0,i(Cr,pi,0,384),si.Za)var On=0,In=Ci[3];else{Ur=s(16);var sn=nr.Na+ki.Na;if(sn=Rc(dn,Ci[1],sn,Nn.Eb,0,Ur,0),nr.Na=ki.Na=(0<sn)+0,1<sn)Pl(Ur,0,Cr,pi);else{var Hi=Ur[0]+3>>3;for(Ur=0;256>Ur;Ur+=16)Cr[pi+Ur]=Hi}On=1,In=Ci[0]}var Qr=15&nr.la,an=15&ki.la;for(Ur=0;4>Ur;++Ur){var ai=1&an;for(Hi=qr=0;4>Hi;++Hi)Qr=Qr>>1|(ai=(sn=Rc(dn,In,sn=ai+(1&Qr),Nn.Sc,On,Cr,pi))>On)<<7,qr=qr<<2|(3<sn?3:1<sn?2:Cr[pi+0]!=0),pi+=16;Qr>>=4,an=an>>1|ai<<7,vn=(vn<<8|qr)>>>0}for(In=Qr,On=an>>4,xn=0;4>xn;xn+=2){for(qr=0,Qr=nr.la>>4+xn,an=ki.la>>4+xn,Ur=0;2>Ur;++Ur){for(ai=1&an,Hi=0;2>Hi;++Hi)sn=ai+(1&Qr),Qr=Qr>>1|(ai=0<(sn=Rc(dn,Ci[2],sn,Nn.Qc,0,Cr,pi)))<<3,qr=qr<<2|(3<sn?3:1<sn?2:Cr[pi+0]!=0),pi+=16;Qr>>=2,an=an>>1|ai<<5}Er|=qr<<4*xn,In|=Qr<<4<<xn,On|=(240&an)<<xn}nr.la=In,ki.la=On,si.Hc=vn,si.Gc=Er,si.ia=43690&Er?0:Nn.ia,Ci=!(vn|Er)}if(0<Qe.L&&(Qe.wa[Qe.Y+Qe.ja]=Qe.gd[yr.$b][yr.Za],Qe.wa[Qe.Y+Qe.ja].La|=!Ci),Hn.Ka)return ri(Nr,7,"Premature end-of-file encountered.")}if(hc(Nr),Qe=Mn,Hn=1,yr=(ht=Nr).D,nr=0<ht.L&&ht.M>=ht.zb&&ht.M<=ht.Va,ht.Aa==0)t:{if(yr.M=ht.M,yr.uc=nr,Bs(ht,yr),Hn=1,yr=(qr=ht.D).Nb,nr=(Er=Ic[ht.L])*ht.R,dn=Er/2*ht.B,Ur=16*yr*ht.R,Hi=8*yr*ht.B,Ci=ht.sa,si=ht.ta-nr+Ur,Nn=ht.qa,Cr=ht.ra-dn+Hi,pi=ht.Ha,ki=ht.Ia-dn+Hi,an=(Qr=qr.M)==0,vn=Qr>=ht.Va-1,ht.Aa==2&&Bs(ht,qr),qr.uc)for(ai=(sn=ht).D.M,e(sn.D.uc),qr=sn.yb;qr<sn.Hb;++qr){On=qr,In=ai;var Oi=(xs=(Kn=sn).D).Nb;xn=Kn.R;var xs=xs.wa[xs.Y+On],Gn=Kn.sa,Yn=Kn.ta+16*Oi*xn+16*On,Gi=xs.dd,on=xs.tc;if(on!=0)if(e(3<=on),Kn.L==1)0<On&&nm(Gn,Yn,xn,on+4),xs.La&&Ec(Gn,Yn,xn,on),0<In&&nf(Gn,Yn,xn,on+4),xs.La&&Lh(Gn,Yn,xn,on);else{var Yi=Kn.B,da=Kn.qa,Ia=Kn.ra+8*Oi*Yi+8*On,Ni=Kn.Ha,Kn=Kn.Ia+8*Oi*Yi+8*On;Oi=xs.ld,0<On&&(ii(Gn,Yn,xn,on+4,Gi,Oi),jh(da,Ia,Ni,Kn,Yi,on+4,Gi,Oi)),xs.La&&(Uo(Gn,Yn,xn,on,Gi,Oi),Nu(da,Ia,Ni,Kn,Yi,on,Gi,Oi)),0<In&&(Rn(Gn,Yn,xn,on+4,Gi,Oi),Ma(da,Ia,Ni,Kn,Yi,on+4,Gi,Oi)),xs.La&&(ku(Gn,Yn,xn,on,Gi,Oi),rf(da,Ia,Ni,Kn,Yi,on,Gi,Oi))}}if(ht.ia&&alert("todo:DitherRow"),Qe.put!=null){if(qr=16*Qr,Qr=16*(Qr+1),an?(Qe.y=ht.sa,Qe.O=ht.ta+Ur,Qe.f=ht.qa,Qe.N=ht.ra+Hi,Qe.ea=ht.Ha,Qe.W=ht.Ia+Hi):(qr-=Er,Qe.y=Ci,Qe.O=si,Qe.f=Nn,Qe.N=Cr,Qe.ea=pi,Qe.W=ki),vn||(Qr-=Er),Qr>Qe.o&&(Qr=Qe.o),Qe.F=null,Qe.J=null,ht.Fa!=null&&0<ht.Fa.length&&qr<Qr&&(Qe.J=hn(ht,Qe,qr,Qr-qr),Qe.F=ht.mb,Qe.F==null&&Qe.F.length==0)){Hn=ri(ht,3,"Could not decode alpha data.");break t}qr<Qe.j&&(Er=Qe.j-qr,qr=Qe.j,e(!(1&Er)),Qe.O+=ht.R*Er,Qe.N+=ht.B*(Er>>1),Qe.W+=ht.B*(Er>>1),Qe.F!=null&&(Qe.J+=Qe.width*Er)),qr<Qr&&(Qe.O+=Qe.v,Qe.N+=Qe.v>>1,Qe.W+=Qe.v>>1,Qe.F!=null&&(Qe.J+=Qe.v),Qe.ka=qr-Qe.j,Qe.U=Qe.va-Qe.v,Qe.T=Qr-qr,Hn=Qe.put(Qe))}yr+1!=ht.Ic||vn||(n(ht.sa,ht.ta-nr,Ci,si+16*ht.R,nr),n(ht.qa,ht.ra-dn,Nn,Cr+8*ht.B,dn),n(ht.Ha,ht.Ia-dn,pi,ki+8*ht.B,dn))}if(!Hn)return ri(Nr,6,"Output aborted.")}return 1})(he,we)),we.bc!=null&&we.bc(we),Ne&=1}return Ne?(he.cb=0,Ne):0})(w,I)||(C=w.a)}}else C=w.a}C==0&&te.Oa!=null&&te.Oa.fd&&(C=_u(te.ba))}te=C}Z=te!=0?null:11>Z?ie.f.RGBA.eb:ie.f.kb.y}else Z=null;return Z};var $h=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(z,K){for(var B="",q=0;q<4;q++)B+=String.fromCharCode(z[K++]);return B}function h(z,K){return z[K+0]|z[K+1]<<8}function f(z,K){return(z[K+0]|z[K+1]<<8|z[K+2]<<16)>>>0}function g(z,K){return(z[K+0]|z[K+1]<<8|z[K+2]<<16|z[K+3]<<24)>>>0}new l;var p=[0],v=[0],x=[],b=new l,_=t,k=(function(z,K){var B={},q=0,W=!1,$=0,Q=0;if(B.frames=[],!(function(O,Y){for(var ne=0;ne<4;ne++)if(O[Y+ne]!="RIFF".charCodeAt(ne))return!0;return!1})(z,K)){for(g(z,K+=4),K+=8;K<z.length;){var ee=c(z,K),se=g(z,K+=4);K+=4;var V=se+(1&se);switch(ee){case"VP8 ":case"VP8L":B.frames[q]===void 0&&(B.frames[q]={}),(X=B.frames[q]).src_off=W?Q:K-8,X.src_size=$+se+8,q++,W&&(W=!1,$=0,Q=0);break;case"VP8X":(X=B.header={}).feature_flags=z[K];var re=K+4;X.canvas_width=1+f(z,re),re+=3,X.canvas_height=1+f(z,re),re+=3;break;case"ALPH":W=!0,$=V+8,Q=K-8;break;case"ANIM":(X=B.header).bgcolor=g(z,K),re=K+4,X.loop_count=h(z,re),re+=2;break;case"ANMF":var pe,X;(X=B.frames[q]={}).offset_x=2*f(z,K),K+=3,X.offset_y=2*f(z,K),K+=3,X.width=1+f(z,K),K+=3,X.height=1+f(z,K),K+=3,X.duration=f(z,K),K+=3,pe=z[K++],X.dispose=1&pe,X.blend=pe>>1&1}ee!="ANMF"&&(K+=V)}return B}})(_,0);k.response=_,k.rgbaoutput=!0,k.dataurl=!1;var N=k.header?k.header:null,j=k.frames?k.frames:null;if(N){N.loop_counter=N.loop_count,p=[N.canvas_height],v=[N.canvas_width];for(var P=0;P<j.length&&j[P].blend!=0;P++);}var F=j[0],D=b.WebPDecodeRGBA(_,F.src_off,F.src_size,v,p);F.rgba=D,F.imgwidth=v[0],F.imgheight=p[0];for(var U=0;U<v[0]*p[0]*4;U++)x[U]=D[U];return this.width=v,this.height=p,this.data=x,this}(function(t){var e,r,n,i,s,a,o,l,c,h=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new l,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new a,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new a,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new h}]);var f=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=O;Object.defineProperty(this,"pdf",{get:function(){return Y}});var ne=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ne},set:function(le){ne=!!le}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(le){oe=!!le}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(le){isNaN(le)||(ue=le)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(le){isNaN(le)||(de=le)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(le){var Ze;typeof le=="number"?Ze=[le,le,le,le]:((Ze=new Array(4))[0]=le[0],Ze[1]=le.length>=2?le[1]:Ze[0],Ze[2]=le.length>=3?le[2]:Ze[0],Ze[3]=le.length>=4?le[3]:Ze[1]),c.margin=Ze}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(le){be=le}});var Se=0;Object.defineProperty(this,"lastBreak",{get:function(){return Se},set:function(le){Se=le}});var ke=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ke},set:function(le){ke=le}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(le){le instanceof h&&(c=le)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(le){c.path=le}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(le){De=le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(le){var Ze;Ze=g(le),this.ctx.fillStyle=Ze.style,this.ctx.isFillTransparent=Ze.a===0,this.ctx.fillOpacity=Ze.a,this.pdf.setFillColor(Ze.r,Ze.g,Ze.b,{a:Ze.a}),this.pdf.setTextColor(Ze.r,Ze.g,Ze.b,{a:Ze.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(le){var Ze=g(le);this.ctx.strokeStyle=Ze.style,this.ctx.isStrokeTransparent=Ze.a===0,this.ctx.strokeOpacity=Ze.a,Ze.a===0?this.pdf.setDrawColor(255,255,255):(Ze.a,this.pdf.setDrawColor(Ze.r,Ze.g,Ze.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(le){["butt","round","square"].indexOf(le)!==-1&&(this.ctx.lineCap=le,this.pdf.setLineCap(le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(le){isNaN(le)||(this.ctx.lineWidth=le,this.pdf.setLineWidth(le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(le){["bevel","round","miter"].indexOf(le)!==-1&&(this.ctx.lineJoin=le,this.pdf.setLineJoin(le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(le){isNaN(le)||(this.ctx.miterLimit=le,this.pdf.setMiterLimit(le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(le){this.ctx.textBaseline=le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(le){["right","end","center","left","start"].indexOf(le)!==-1&&(this.ctx.textAlign=le)}});var Ye=null,We=null,nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return nt},set:function(le){Ye=null,We=null,nt=le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(le){var Ze;if(this.ctx.font=le,(Ze=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(le))!==null){var er=Ze[1];Ze[2];var vt=Ze[3],ze=Ze[4];Ze[5];var xt=Ze[6],tt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ze)[2];ze=Math.floor(tt==="px"?parseFloat(ze)*this.pdf.internal.scaleFactor:tt==="em"?parseFloat(ze)*this.pdf.getFontSize():parseFloat(ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ze);var jt=(function(ot){var rn,fr,Vt=[],Ht=ot.trim();if(Ht==="")return Sw;if(Ht in Nj)return[Nj[Ht]];for(;Ht!=="";){switch(fr=null,rn=(Ht=Aj(Ht)).charAt(0)){case'"':case"'":fr=f2e(Ht.substring(1),rn);break;default:fr=p2e(Ht)}if(fr===null||(Vt.push(fr[0]),(Ht=Aj(fr[1]))!==""&&Ht.charAt(0)!==","))return Sw;Ht=Ht.replace(/^,/,"")}return Vt})(xt);if(this.fontFaces){var dt=(function(ot,rn){var fr=ot.getFontList(),Vt=JSON.stringify(fr);if(Ye===null||We!==Vt){var Ht=(function(xr){var Tt=[];return Object.keys(xr).forEach(function(Rr){xr[Rr].forEach(function(Dt){var qt=null;switch(Dt){case"bold":qt={family:Rr,weight:"bold"};break;case"italic":qt={family:Rr,style:"italic"};break;case"bolditalic":qt={family:Rr,weight:"bold",style:"italic"};break;case"":case"normal":qt={family:Rr}}qt!==null&&(qt.ref={name:Rr,style:Dt},Tt.push(qt))})}),Tt})(fr);Ye=(function(xr){for(var Tt={},Rr=0;Rr<xr.length;++Rr){var Dt=_w(xr[Rr]),qt=Dt.family,kr=Dt.stretch,Jt=Dt.style,lt=Dt.weight;Tt[qt]=Tt[qt]||{},Tt[qt][kr]=Tt[qt][kr]||{},Tt[qt][kr][Jt]=Tt[qt][kr][Jt]||{},Tt[qt][kr][Jt][lt]=Dt}return Tt})(Ht.concat(rn)),We=Vt}return Ye})(this.pdf,this.fontFaces),_r=jt.map(function(ot){return{family:ot,stretch:"normal",weight:vt,style:er}}),or=(function(ot,rn,fr){for(var Vt=(fr=fr||{}).defaultFontFamily||"times",Ht=Object.assign({},d2e,fr.genericFontFamilies||{}),xr=null,Tt=null,Rr=0;Rr<rn.length;++Rr)if(Ht[(xr=_w(rn[Rr])).family]&&(xr.family=Ht[xr.family]),ot.hasOwnProperty(xr.family)){Tt=ot[xr.family];break}if(!(Tt=Tt||ot[Vt]))throw new Error("Could not find a font-family for the rule '"+Tj(xr)+"' and default family '"+Vt+"'.");if(Tt=(function(Dt,qt){if(qt[Dt])return qt[Dt];var kr=z_[Dt],Jt=kr<=z_.normal?-1:1,lt=kj(qt,f9,kr,Jt);if(!lt)throw new Error("Could not find a matching font-stretch value for "+Dt);return lt})(xr.stretch,Tt),Tt=(function(Dt,qt){if(qt[Dt])return qt[Dt];for(var kr=d9[Dt],Jt=0;Jt<kr.length;++Jt)if(qt[kr[Jt]])return qt[kr[Jt]];throw new Error("Could not find a matching font-style for "+Dt)})(xr.style,Tt),!(Tt=(function(Dt,qt){if(qt[Dt])return qt[Dt];if(Dt===400&&qt[500])return qt[500];if(Dt===500&&qt[400])return qt[400];var kr=h2e[Dt],Jt=kj(qt,p9,kr,Dt<400?-1:1);if(!Jt)throw new Error("Could not find a matching font-weight for value "+Dt);return Jt})(xr.weight,Tt)))throw new Error("Failed to resolve a font for the rule '"+Tj(xr)+"'.");return Tt})(dt,_r);this.pdf.setFont(or.ref.name,or.ref.style)}else{var mt="";(vt==="bold"||parseInt(vt,10)>=700||er==="bold")&&(mt="bold"),er==="italic"&&(mt+="italic"),mt.length===0&&(mt="normal");for(var Gt="",hr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ft=0;ft<jt.length;ft++){if(this.pdf.internal.getFont(jt[ft],mt,{noFallback:!0,disableWarning:!0})!==void 0){Gt=jt[ft];break}if(mt==="bolditalic"&&this.pdf.internal.getFont(jt[ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Gt=jt[ft],mt="bold";else if(this.pdf.internal.getFont(jt[ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Gt=jt[ft],mt="normal";break}}if(Gt===""){for(var zt=0;zt<jt.length;zt++)if(hr[jt[zt]]){Gt=hr[jt[zt]];break}}Gt=Gt===""?"Times":Gt,this.pdf.setFont(Gt,mt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(le){this.ctx.globalCompositeOperation=le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(le){this.ctx.globalAlpha=le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(le){this.ctx.lineDashOffset=le,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(le){this.ctx.lineDash=le,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(le){this.ctx.ignoreClearRect=!!le}})};f.prototype.setLineDash=function(O){this.lineDash=O},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){j.call(this,"fill",!1)},f.prototype.stroke=function(){j.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(O,Y){if(isNaN(O)||isNaN(Y))throw gn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ne=this.ctx.transform.applyToPoint(new a(O,Y));this.path.push({type:"mt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(O,Y)},f.prototype.closePath=function(){var O=new a(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&ln(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){O=new a(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(O.x,O.y)},f.prototype.lineTo=function(O,Y){if(isNaN(O)||isNaN(Y))throw gn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ne=this.ctx.transform.applyToPoint(new a(O,Y));this.path.push({type:"lt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(ne.x,ne.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},f.prototype.quadraticCurveTo=function(O,Y,ne,oe){if(isNaN(ne)||isNaN(oe)||isNaN(O)||isNaN(Y))throw gn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new a(ne,oe)),de=this.ctx.transform.applyToPoint(new a(O,Y));this.path.push({type:"qct",x1:de.x,y1:de.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new a(ue.x,ue.y)},f.prototype.bezierCurveTo=function(O,Y,ne,oe,ue,de){if(isNaN(ue)||isNaN(de)||isNaN(O)||isNaN(Y)||isNaN(ne)||isNaN(oe))throw gn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new a(ue,de)),Se=this.ctx.transform.applyToPoint(new a(O,Y)),ke=this.ctx.transform.applyToPoint(new a(ne,oe));this.path.push({type:"bct",x1:Se.x,y1:Se.y,x2:ke.x,y2:ke.y,x:be.x,y:be.y}),this.ctx.lastPoint=new a(be.x,be.y)},f.prototype.arc=function(O,Y,ne,oe,ue,de){if(isNaN(O)||isNaN(Y)||isNaN(ne)||isNaN(oe)||isNaN(ue))throw gn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new a(O,Y));O=be.x,Y=be.y;var Se=this.ctx.transform.applyToPoint(new a(0,ne)),ke=this.ctx.transform.applyToPoint(new a(0,0));ne=Math.sqrt(Math.pow(Se.x-ke.x,2)+Math.pow(Se.y-ke.y,2))}Math.abs(ue-oe)>=2*Math.PI&&(oe=0,ue=2*Math.PI),this.path.push({type:"arc",x:O,y:Y,radius:ne,startAngle:oe,endAngle:ue,counterclockwise:de})},f.prototype.arcTo=function(O,Y,ne,oe,ue){throw new Error("arcTo not implemented.")},f.prototype.rect=function(O,Y,ne,oe){if(isNaN(O)||isNaN(Y)||isNaN(ne)||isNaN(oe))throw gn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,Y),this.lineTo(O+ne,Y),this.lineTo(O+ne,Y+oe),this.lineTo(O,Y+oe),this.lineTo(O,Y),this.lineTo(O+ne,Y),this.lineTo(O,Y)},f.prototype.fillRect=function(O,Y,ne,oe){if(isNaN(O)||isNaN(Y)||isNaN(ne)||isNaN(oe))throw gn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,Y,ne,oe),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},f.prototype.strokeRect=function(O,Y,ne,oe){if(isNaN(O)||isNaN(Y)||isNaN(ne)||isNaN(oe))throw gn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(O,Y,ne,oe),this.stroke())},f.prototype.clearRect=function(O,Y,ne,oe){if(isNaN(O)||isNaN(Y)||isNaN(ne)||isNaN(oe))throw gn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,Y,ne,oe))},f.prototype.save=function(O){O=typeof O!="boolean"||O;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},f.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(O){var Y,ne,oe,ue;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))Y=0,ne=0,oe=0,ue=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(de!==null)Y=parseInt(de[1]),ne=parseInt(de[2]),oe=parseInt(de[3]),ue=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)Y=parseInt(de[1]),ne=parseInt(de[2]),oe=parseInt(de[3]),ue=parseFloat(de[4]);else{if(ue=1,typeof O=="string"&&O.charAt(0)!=="#"){var be=new s9(O);O=be.ok?be.toHex():"#000000"}O.length===4?(Y=O.substring(1,2),Y+=Y,ne=O.substring(2,3),ne+=ne,oe=O.substring(3,4),oe+=oe):(Y=O.substring(1,3),ne=O.substring(3,5),oe=O.substring(5,7)),Y=parseInt(Y,16),ne=parseInt(ne,16),oe=parseInt(oe,16)}}return{r:Y,g:ne,b:oe,a:ue,style:O}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(O,Y,ne,oe){if(isNaN(Y)||isNaN(ne)||typeof O!="string")throw gn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!p.call(this)){var ue=V(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;q.call(this,{text:O,x:Y,y:ne,scale:de,angle:ue,align:this.textAlign,maxWidth:oe})}},f.prototype.strokeText=function(O,Y,ne,oe){if(isNaN(Y)||isNaN(ne)||typeof O!="string")throw gn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){oe=isNaN(oe)?void 0:oe;var ue=V(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;q.call(this,{text:O,x:Y,y:ne,scale:de,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:oe})}},f.prototype.measureText=function(O){if(typeof O!="string")throw gn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,ne=this.pdf.internal.scaleFactor,oe=Y.internal.getFontSize(),ue=Y.getStringUnitWidth(O)*oe/Y.internal.scaleFactor;return new function(de){var be=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this}({width:ue*=Math.round(96*ne/72*1e4)/1e4})},f.prototype.scale=function(O,Y){if(isNaN(O)||isNaN(Y))throw gn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ne=new l(O,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},f.prototype.rotate=function(O){if(isNaN(O))throw gn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new l(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.translate=function(O,Y){if(isNaN(O)||isNaN(Y))throw gn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ne=new l(1,0,0,1,O,Y);this.ctx.transform=this.ctx.transform.multiply(ne)},f.prototype.transform=function(O,Y,ne,oe,ue,de){if(isNaN(O)||isNaN(Y)||isNaN(ne)||isNaN(oe)||isNaN(ue)||isNaN(de))throw gn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new l(O,Y,ne,oe,ue,de);this.ctx.transform=this.ctx.transform.multiply(be)},f.prototype.setTransform=function(O,Y,ne,oe,ue,de){O=isNaN(O)?1:O,Y=isNaN(Y)?0:Y,ne=isNaN(ne)?0:ne,oe=isNaN(oe)?1:oe,ue=isNaN(ue)?0:ue,de=isNaN(de)?0:de,this.ctx.transform=new l(O,Y,ne,oe,ue,de)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(O,Y,ne,oe,ue,de,be,Se,ke){var De=this.pdf.getImageProperties(O),Ye=1,We=1,nt=1,le=1;oe!==void 0&&Se!==void 0&&(nt=Se/oe,le=ke/ue,Ye=De.width/oe*Se/oe,We=De.height/ue*ke/ue),de===void 0&&(de=Y,be=ne,Y=0,ne=0),oe!==void 0&&Se===void 0&&(Se=oe,ke=ue),oe===void 0&&Se===void 0&&(Se=De.width,ke=De.height);var Ze=this.ctx.transform.decompose(),er=V(Ze.rotate.shx),vt=new l,ze=(vt=(vt=(vt=vt.multiply(Ze.translate)).multiply(Ze.skew)).multiply(Ze.scale)).applyToRectangle(new o(de-Y*nt,be-ne*le,oe*Ye,ue*We));if(this.autoPaging){for(var xt,tt=b.call(this,ze),jt=[],dt=0;dt<tt.length;dt+=1)jt.indexOf(tt[dt])===-1&&jt.push(tt[dt]);N(jt);for(var _r=jt[0],or=jt[jt.length-1],mt=_r;mt<or+1;mt++){this.pdf.setPage(mt);var Gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],hr=mt===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=mt===1?0:ft+(mt-2)*zt;if(this.ctx.clip_path.length!==0){var rn=this.path;xt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(xt,this.posX+this.margin[3],-ot+hr+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=rn}var fr=JSON.parse(JSON.stringify(ze));fr=k([fr],this.posX+this.margin[3],-ot+hr+this.ctx.prevPageLastElemOffset)[0];var Vt=(mt>_r||mt<or)&&x.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Gt,zt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",fr.x,fr.y,fr.w,fr.h,null,null,er),Vt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(O,"JPEG",ze.x,ze.y,ze.w,ze.h,null,null,er)};var b=function(O,Y,ne){var oe=[];Y=Y||this.pdf.internal.pageSize.width,ne=ne||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":oe.push(Math.floor((O.y+ue)/ne)+1);break;case"arc":oe.push(Math.floor((O.y+ue-O.radius)/ne)+1),oe.push(Math.floor((O.y+ue+O.radius)/ne)+1);break;case"qct":var de=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);oe.push(Math.floor((de.y+ue)/ne)+1),oe.push(Math.floor((de.y+de.h+ue)/ne)+1);break;case"bct":var be=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);oe.push(Math.floor((be.y+ue)/ne)+1),oe.push(Math.floor((be.y+be.h+ue)/ne)+1);break;case"rect":oe.push(Math.floor((O.y+ue)/ne)+1),oe.push(Math.floor((O.y+O.h+ue)/ne)+1)}for(var Se=0;Se<oe.length;Se+=1)for(;this.pdf.internal.getNumberOfPages()<oe[Se];)_.call(this);return oe},_=function(){var O=this.fillStyle,Y=this.strokeStyle,ne=this.font,oe=this.lineCap,ue=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=Y,this.font=ne,this.lineCap=oe,this.lineWidth=ue,this.lineJoin=de},k=function(O,Y,ne){for(var oe=0;oe<O.length;oe++)switch(O[oe].type){case"bct":O[oe].x2+=Y,O[oe].y2+=ne;case"qct":O[oe].x1+=Y,O[oe].y1+=ne;default:O[oe].x+=Y,O[oe].y+=ne}return O},N=function(O){return O.sort(function(Y,ne){return Y-ne})},j=function(O,Y){var ne=this.fillStyle,oe=this.strokeStyle,ue=this.lineCap,de=this.lineWidth,be=Math.abs(de*this.ctx.transform.scaleX),Se=this.lineJoin;if(this.autoPaging){for(var ke,De,Ye=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),nt=[],le=0;le<We.length;le++)if(We[le].x!==void 0)for(var Ze=b.call(this,We[le]),er=0;er<Ze.length;er+=1)nt.indexOf(Ze[er])===-1&&nt.push(Ze[er]);for(var vt=0;vt<nt.length;vt++)for(;this.pdf.internal.getNumberOfPages()<nt[vt];)_.call(this);N(nt);for(var ze=nt[0],xt=nt[nt.length-1],tt=ze;tt<xt+1;tt++){this.pdf.setPage(tt),this.fillStyle=ne,this.strokeStyle=oe,this.lineCap=ue,this.lineWidth=be,this.lineJoin=Se;var jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dt=tt===1?this.posY+this.margin[0]:this.margin[0],_r=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],or=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=tt===1?0:_r+(tt-2)*or;if(this.ctx.clip_path.length!==0){var Gt=this.path;ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(ke,this.posX+this.margin[3],-mt+dt+this.ctx.prevPageLastElemOffset),P.call(this,O,!0),this.path=Gt}if(De=JSON.parse(JSON.stringify(Ye)),this.path=k(De,this.posX+this.margin[3],-mt+dt+this.ctx.prevPageLastElemOffset),Y===!1||tt===0){var hr=(tt>ze||tt<xt)&&x.call(this);hr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,or,null).clip().discardPath()),P.call(this,O,Y),hr&&this.pdf.restoreGraphicsState()}this.lineWidth=de}this.path=Ye}else this.lineWidth=be,P.call(this,O,Y),this.lineWidth=de},P=function(O,Y){if((O!=="stroke"||Y||!v.call(this))&&(O==="stroke"||Y||!p.call(this))){for(var ne,oe,ue=[],de=this.path,be=0;be<de.length;be++){var Se=de[be];switch(Se.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:Se,deltas:[],abs:[]});break;case"lt":var ke=ue.length;if(de[be-1]&&!isNaN(de[be-1].x)&&(ne=[Se.x-de[be-1].x,Se.y-de[be-1].y],ke>0)){for(;ke>=0;ke--)if(ue[ke-1].close!==!0&&ue[ke-1].begin!==!0){ue[ke-1].deltas.push(ne),ue[ke-1].abs.push(Se);break}}break;case"bct":ne=[Se.x1-de[be-1].x,Se.y1-de[be-1].y,Se.x2-de[be-1].x,Se.y2-de[be-1].y,Se.x-de[be-1].x,Se.y-de[be-1].y],ue[ue.length-1].deltas.push(ne);break;case"qct":var De=de[be-1].x+2/3*(Se.x1-de[be-1].x),Ye=de[be-1].y+2/3*(Se.y1-de[be-1].y),We=Se.x+2/3*(Se.x1-Se.x),nt=Se.y+2/3*(Se.y1-Se.y),le=Se.x,Ze=Se.y;ne=[De-de[be-1].x,Ye-de[be-1].y,We-de[be-1].x,nt-de[be-1].y,le-de[be-1].x,Ze-de[be-1].y],ue[ue.length-1].deltas.push(ne);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(Se)}}oe=Y?null:O==="stroke"?"stroke":"fill";for(var er=!1,vt=0;vt<ue.length;vt++)if(ue[vt].arc)for(var ze=ue[vt].abs,xt=0;xt<ze.length;xt++){var tt=ze[xt];tt.type==="arc"?U.call(this,tt.x,tt.y,tt.radius,tt.startAngle,tt.endAngle,tt.counterclockwise,void 0,Y,!er):W.call(this,tt.x,tt.y),er=!0}else if(ue[vt].close===!0)this.pdf.internal.out("h"),er=!1;else if(ue[vt].begin!==!0){var jt=ue[vt].start.x,dt=ue[vt].start.y;$.call(this,ue[vt].deltas,jt,dt),er=!0}oe&&z.call(this,oe),Y&&K.call(this)}},F=function(O){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ne=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-ne;case"top":return O+Y-ne;case"hanging":return O+Y-2*ne;case"middle":return O+Y/2-ne;default:return O}},D=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(Y,ne){this.colorStops.push([Y,ne])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(O,Y,ne,oe,ue,de,be,Se,ke){for(var De=ee.call(this,ne,oe,ue,de),Ye=0;Ye<De.length;Ye++){var We=De[Ye];Ye===0&&(ke?B.call(this,We.x1+O,We.y1+Y):W.call(this,We.x1+O,We.y1+Y)),Q.call(this,O,Y,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}Se?K.call(this):z.call(this,be)},z=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(O,Y){this.pdf.internal.out(r(O)+" "+n(Y)+" m")},q=function(O){var Y;switch(O.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var ne,oe,ue,de=this.pdf.getTextDimensions(O.text),be=F.call(this,O.y),Se=D.call(this,be)-de.h,ke=this.ctx.transform.applyToPoint(new a(O.x,be));if(this.autoPaging){var De=this.ctx.transform.decompose(),Ye=new l;Ye=(Ye=(Ye=Ye.multiply(De.translate)).multiply(De.skew)).multiply(De.scale);for(var We=this.ctx.transform.applyToRectangle(new o(O.x,be,de.w,de.h)),nt=Ye.applyToRectangle(new o(O.x,Se,de.w,de.h)),le=b.call(this,nt),Ze=[],er=0;er<le.length;er+=1)Ze.indexOf(le[er])===-1&&Ze.push(le[er]);N(Ze);for(var vt=Ze[0],ze=Ze[Ze.length-1],xt=vt;xt<ze+1;xt++){this.pdf.setPage(xt);var tt=xt===1?this.posY+this.margin[0]:this.margin[0],jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[2],_r=dt-this.margin[0],or=this.pdf.internal.pageSize.width-this.margin[1],mt=or-this.margin[3],Gt=xt===1?0:jt+(xt-2)*_r;if(this.ctx.clip_path.length!==0){var hr=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(ne,this.posX+this.margin[3],-1*Gt+tt),P.call(this,"fill",!0),this.path=hr}var ft=k([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-Gt+tt+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*O.scale),ue=this.lineWidth,this.lineWidth=ue*O.scale);var zt=this.autoPaging!=="text";if(zt||ft.y+ft.h<=dt){if(zt||ft.y>=tt&&ft.x<=or){var ot=zt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||or-ft.x)[0],rn=k([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-Gt+tt+this.ctx.prevPageLastElemOffset)[0],fr=zt&&(xt>vt||xt<ze)&&x.call(this);fr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,_r,null).clip().discardPath()),this.pdf.text(ot,rn.x,rn.y,{angle:O.angle,align:Y,renderingMode:O.renderingMode}),fr&&this.pdf.restoreGraphicsState()}}else ft.y<dt&&(this.ctx.prevPageLastElemOffset+=dt-ft.y);O.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=ue)}}else O.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*O.scale),ue=this.lineWidth,this.lineWidth=ue*O.scale),this.pdf.text(O.text,ke.x+this.posX,ke.y+this.posY,{angle:O.angle,align:Y,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=ue)},W=function(O,Y,ne,oe){ne=ne||0,oe=oe||0,this.pdf.internal.out(r(O+ne)+" "+n(Y+oe)+" l")},$=function(O,Y,ne){return this.pdf.lines(O,Y,ne,null,null)},Q=function(O,Y,ne,oe,ue,de,be,Se){this.pdf.internal.out([e(i(ne+O)),e(s(oe+Y)),e(i(ue+O)),e(s(de+Y)),e(i(be+O)),e(s(Se+Y)),"c"].join(" "))},ee=function(O,Y,ne,oe){for(var ue=2*Math.PI,de=Math.PI/2;Y>ne;)Y-=ue;var be=Math.abs(ne-Y);be<ue&&oe&&(be=ue-be);for(var Se=[],ke=oe?-1:1,De=Y;be>1e-5;){var Ye=De+ke*Math.min(be,de);Se.push(se.call(this,O,De,Ye)),be-=Math.abs(Ye-De),De=Ye}return Se},se=function(O,Y,ne){var oe=(ne-Y)/2,ue=O*Math.cos(oe),de=O*Math.sin(oe),be=ue,Se=-de,ke=be*be+Se*Se,De=ke+be*ue+Se*de,Ye=4/3*(Math.sqrt(2*ke*De)-De)/(be*de-Se*ue),We=be-Ye*Se,nt=Se+Ye*be,le=We,Ze=-nt,er=oe+Y,vt=Math.cos(er),ze=Math.sin(er);return{x1:O*Math.cos(Y),y1:O*Math.sin(Y),x2:We*vt-nt*ze,y2:We*ze+nt*vt,x3:le*vt-Ze*ze,y3:le*ze+Ze*vt,x4:O*Math.cos(ne),y4:O*Math.sin(ne)}},V=function(O){return 180*O/Math.PI},re=function(O,Y,ne,oe,ue,de){var be=O+.5*(ne-O),Se=Y+.5*(oe-Y),ke=ue+.5*(ne-ue),De=de+.5*(oe-de),Ye=Math.min(O,ue,be,ke),We=Math.max(O,ue,be,ke),nt=Math.min(Y,de,Se,De),le=Math.max(Y,de,Se,De);return new o(Ye,nt,We-Ye,le-nt)},pe=function(O,Y,ne,oe,ue,de,be,Se){var ke,De,Ye,We,nt,le,Ze,er,vt,ze,xt,tt,jt,dt,_r=ne-O,or=oe-Y,mt=ue-ne,Gt=de-oe,hr=be-ue,ft=Se-de;for(De=0;De<41;De++)vt=(Ze=(Ye=O+(ke=De/40)*_r)+ke*((nt=ne+ke*mt)-Ye))+ke*(nt+ke*(ue+ke*hr-nt)-Ze),ze=(er=(We=Y+ke*or)+ke*((le=oe+ke*Gt)-We))+ke*(le+ke*(de+ke*ft-le)-er),De==0?(xt=vt,tt=ze,jt=vt,dt=ze):(xt=Math.min(xt,vt),tt=Math.min(tt,ze),jt=Math.max(jt,vt),dt=Math.max(dt,ze));return new o(Math.round(xt),Math.round(tt),Math.round(jt-xt),Math.round(dt-tt))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,Y,ne=(O=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:Y}));this.prevLineDash!==ne&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ne)}}})(Ft.API),(function(t){var e=function(a){var o,l,c,h,f,g,p,v,x,b;for(l=[],c=0,h=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;h>c;c+=4)(f=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(g=(f=((f=((f=((f=(f-(b=f%85))/85)-(x=f%85))/85)-(v=f%85))/85)-(p=f%85))/85)%85,l.push(g+33,p+33,v+33,x+33,b+33)):l.push(122);return(function(_,k){for(var N=k;N>0;N--)_.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var o,l,c,h,f,g=String,p="length",v=255,x="charCodeAt",b="slice",_="replace";for(a[b](-2),a=a[b](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),c=[],h=0,f=(a+=o="uuuuu"[b](a[p]%5||5))[p];f>h;h+=5)l=52200625*(a[x](h)-33)+614125*(a[x](h+1)-33)+7225*(a[x](h+2)-33)+85*(a[x](h+3)-33)+(a[x](h+4)-33),c.push(v&l>>24,v&l>>16,v&l>>8,v&l);return(function(k,N){for(var j=N;j>0;j--)k.pop()})(c,o[p]),g.fromCharCode.apply(g,c)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=M_(o)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};t.processDataByFilters=function(a,o){var l=0,c=a||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}})(Ft.API),(function(t){t.loadFile=function(e,r,n){return(function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(l,c,h){var f=new XMLHttpRequest,g=0,p=function(v){var x=v.length,b=[],_=String.fromCharCode;for(g=0;g<x;g+=1)b.push(_(255&v.charCodeAt(g)));return b.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?h(p(this.responseText)):h(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)})(i,s,a)}catch{}return o})(e,r,n)},t.loadImageFile=t.loadFile})(Ft.API),(function(t){function e(){return(cr.html2canvas?Promise.resolve(cr.html2canvas):Vr(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(cr.DOMPurify?Promise.resolve(cr.DOMPurify):Vr(()=>Promise.resolve().then(()=>Lse),void 0)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=ln(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var h in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[h]=l.style[h];return c},s=function o(l,c){for(var h=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||h.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(h.width=l.width,h.height=l.height,h.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(h.value=l.value),h.addEventListener("load",function(){h.scrollTop=l.scrollTop,h.scrollLeft=l.scrollLeft},!0)),h},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),c);return(h=h.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||(function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),l){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,h=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var p=0;p<h.length;++p){var v=h[p],x=v.src.find(function(b){return b.format==="truetype"});x&&c.addFont(x.url,v.ref.name,v.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(o=o||Ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,h){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,h){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(h,f){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,h),g}).then(h,f).then(function(g){return c.updateProgress(1),g})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var h=this;o&&(o=o.bind(h)),l&&(l=l.bind(h));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:a.convert(Object.assign({},h),Promise.prototype),g=c.call(f,o,l);return a.convert(g,h.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Ft.getPageSize=function(o,l,c){if(ln(o)==="object"){var h=o;o=h.orientation,l=h.unit||l,c=h.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,g=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var v,x=0,b=0;if(p.hasOwnProperty(g))x=p[g][1]/f,b=p[g][0]/f;else try{x=c[1],b=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",b>x&&(v=b,b=x,x=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>b&&(v=b,b=x,x=v)}return{width:b,height:x,unit:l,k:f,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(_w):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}})(Ft.API),Ft.API.addJS=function(t){return jj=t,this.internal.events.subscribe("postPutResources",function(){n1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(n1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Ej=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+jj+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){n1!==void 0&&Ej!==void 0&&this.internal.out("/Names <</JavaScript "+n1+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(s=0;s<c;s++){var f=r.internal.newObject();h.push(f);var g=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<h.length;s++)r.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])})(Ft.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,c=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=(function(f){for(var g,p=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,x={width:0,height:0,numcomponents:1},b=4;b<v;b+=2){if(b+=p,e.indexOf(f.charCodeAt(b+1))!==-1){g=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),x={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:g,numcomponents:f.charCodeAt(b+9)};break}p=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return x})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return h}})(Ft.API),Ft.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=Jxe(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,h=s.depth;i=c&&l===1?(function(U){for(var z=U.width,K=U.height,B=U.data,q=U.palette,W=U.depth,$=!1,Q=[],ee=[],se=void 0,V=!1,re=0,pe=0;pe<q.length;pe++){var X=M4(q[pe],4),O=X[0],Y=X[1],ne=X[2],oe=X[3];Q.push(O,Y,ne),oe!=null&&(oe===0?(re++,ee.length<1&&ee.push(pe)):oe<255&&(V=!0))}if(V||re>1){$=!0,ee=void 0;var ue=z*K;se=new Uint8Array(ue);for(var de=new DataView(B.buffer),be=0;be<ue;be++){var Se=Cw(de,be,W),ke=M4(q[Se],4)[3];se[be]=ke}}else re===0&&(ee=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:$?8:void 0,colorBytes:B,alphaBytes:se,needSMask:$,palette:Q,mask:ee}})(s):l===2||l===4?(function(U){for(var z=U.data,K=U.width,B=U.height,q=U.channels,W=U.depth,$=q===2?"DeviceGray":"DeviceRGB",Q=q-1,ee=K*B,se=Q,V=ee*se,re=1*ee,pe=Math.ceil(V*W/8),X=Math.ceil(re*W/8),O=new Uint8Array(pe),Y=new Uint8Array(X),ne=new DataView(z.buffer),oe=new DataView(O.buffer),ue=new DataView(Y.buffer),de=!1,be=0;be<ee;be++){for(var Se=be*q,ke=0;ke<se;ke++)Fj(oe,Cw(ne,Se+ke,W),be*se+ke,W);var De=Cw(ne,Se+se,W);De<(1<<W)-1&&(de=!0),Fj(ue,De,1*be,W)}return{colorSpace:$,colorsPerPixel:Q,sMaskBitsPerComponent:de?W:void 0,colorBytes:O,alphaBytes:Y,needSMask:de}})(s):(function(U){var z=U.data,K=U.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:K,colorsPerPixel:K==="DeviceGray"?1:3,colorBytes:z instanceof Uint16Array?(function(B){for(var q=B.length,W=new Uint8Array(2*q),$=new DataView(W.buffer,W.byteOffset,W.byteLength),Q=0;Q<q;Q++)$.setUint16(2*Q,B[Q],!1);return W})(z):z,needSMask:!1}})(s);var f,g,p,v=i,x=v.colorSpace,b=v.colorsPerPixel,_=v.sMaskBitsPerComponent,k=v.colorBytes,N=v.alphaBytes,j=v.needSMask,P=v.palette,F=v.mask,D=null;return n!==Ft.API.image_compression.NONE&&typeof M_=="function"?(D=(function(U){var z;switch(U){case Ft.API.image_compression.FAST:z=11;break;case Ft.API.image_compression.MEDIUM:z=13;break;case Ft.API.image_compression.SLOW:z=14;break;default:z=12}return z})(n),f=this.decode.FLATE_DECODE,g="/Predictor ".concat(D," /Colors ").concat(b," /BitsPerComponent ").concat(h," /Columns ").concat(a),t=Mj(k,Math.ceil(a*b*h/8),b,h,n),j&&(p=Mj(N,Math.ceil(a*_/8),1,_,n))):(f=void 0,g=void 0,t=k,j&&(p=N)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:t,index:e,filter:f,decodeParameters:g,transparency:F,palette:P,sMask:p,predictor:D,width:a,height:o,bitsPerComponent:h,sMaskBitsPerComponent:_,colorSpace:x}}},(function(t){t.processGIF89A=function(e,r,n,i){var s=new v2e(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},h=new kw(100).encode(c,100);return t.processJPEG.call(this,h,r,n,i)},t.processGIF87A=t.processGIF89A})(Ft.API),Qo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Qo.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){gn.log("bit decode error:"+r)}},Qo.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Qo.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Qo.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Qo.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,h=n*this.width*4+4*i;this.data[h]=l,this.data[h+1]=o,this.data[h+2]=a,this.data[h+3]=c}this.pos+=t}},Qo.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,c=(a>>11)/e*255|0,h=i*this.width*4+4*s;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=255}this.pos+=t}},Qo.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Qo.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},Qo.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,i){var s=new Qo(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new kw(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}})(Ft.API),zj.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,i){var s=new zj(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new kw(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}})(Ft.API),Ft.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var h=n[c],f=n[c+1],g=n[c+2],p=n[c+3];s[o++]=h,s[o++]=f,s[o++]=g,a[l++]=p}var v=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:v,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ft.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},If=Ft.API,i1=If.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=c.fof?c.fof:1,f=e.doKerning!==!1,g=0,p=t.length,v=0,x=o[0]||l,b=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(g=f&&ln(c[n])==="object"&&!isNaN(parseInt(c[n][v],10))?c[n][v]/h:0,b.push((o[n]||x)/l+g)),v=n;return b},Lj=If.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return If.processArabic&&(t=If.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:i1.apply(this,arguments).reduce(function(s,a){return s+a},0)},Pj=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},Rj=function(t,e,r){r||(r={});var n,i,s,a,o,l,c,h=[],f=[h],g=r.textIndent||0,p=0,v=0,x=t.split(" "),b=i1.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var _=Array(l).join(" "),k=[];x.map(function(j){(j=j.split(/\s*\n/)).length>1?k=k.concat(j.map(function(P,F){return(F&&P.length?`
`:"")+P})):k.push(j[0])}),x=k,l=Lj.apply(this,[_,r])}for(s=0,a=x.length;s<a;s++){var N=0;if(n=x[s],l&&n[0]==`
`&&(n=n.substr(1),N=1),g+p+(v=(i=i1.apply(this,[n,r])).reduce(function(j,P){return j+P},0))>e||N){if(v>e){for(o=Pj.apply(this,[n,i,e-(g+p),e]),h.push(o.shift()),h=[o.pop()];o.length;)f.push([o.shift()]);v=i.slice(n.length-(h[0]?h[0].length:0)).reduce(function(j,P){return j+P},0)}else h=[n];f.push(h),g=v+l,p=b}else h.push(n),g+=p+v,p=b}return c=l?function(j,P){return(P?_:"")+j.join(" ")}:function(j){return j.join(" ")},f.map(c)},If.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle),g="Unicode";return f.metadata[g]?{widths:f.metadata[g].widths||{0:1},kerning:f.metadata[g].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(Rj.apply(this,[n[o],a,s]));return c},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=e[s],i[e[s]]=r[s];var a=function(g){return"0x"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var p,v,x,b,_=["{"];for(var k in g){if(p=g[k],isNaN(parseInt(k,10))?v="'"+k+"'":(k=parseInt(k,10),v=(v=a(k).slice(2)).slice(0,-1)+i[v.slice(-1)]),typeof p=="number")p<0?(x=a(p).slice(3),b="-"):(x=a(p).slice(2),b=""),x=b+x.slice(0,-1)+i[x.slice(-1)];else{if(ln(p)!=="object")throw new Error("Don't know what to do with value type "+ln(p)+".");x=o(p)}_.push(v+x)}return _.push("}"),_.join("")},l=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,v,x,b,_={},k=1,N=_,j=[],P="",F="",D=g.length-1,U=1;U<D;U+=1)(b=g[U])=="'"?p?(x=p.join(""),p=void 0):p=[]:p?p.push(b):b=="{"?(j.push([N,x]),N={},x=void 0):b=="}"?((v=j.pop())[0][v[1]]=N,x=void 0,N=v[0]):b=="-"?k=-1:x===void 0?n.hasOwnProperty(b)?(P+=n[b],x=parseInt(P,16)*k,k=1,P=""):P+=b:n.hasOwnProperty(b)?(F+=n[b],N[x]=parseInt(F,16)*k,k=1,x=void 0,F=""):F+=b;return _},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var p=g.font,v=f.Unicode[p.postScriptName];v&&(p.metadata.Unicode={},p.metadata.Unicode.widths=v.widths,p.metadata.Unicode.kerning=v.kerning);var x=h.Unicode[p.postScriptName];x&&(p.metadata.Unicode.encoding=x,p.encoding=x.codePages[0])}])})(Ft.API),(function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(D1(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])})(Ft),Ft.API.addSvgAsImage=function(t,e,r,n,i,s,a,o){if(isNaN(e)||isNaN(r))throw gn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw gn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(cr.canvg?Promise.resolve(cr.canvg):Vr(()=>import("./index.es-DKa08xtj.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(c,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,a,o)})},Ft.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Ft.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,h=0,f=0;function g(v,x){var b,_=!1;for(b=0;b<v.length;b+=1)v[b]===x&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=o.length;for(f=0;f<p;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(ln(t)==="object"){for(i in t)if(s=t[i],g(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&g(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(c=0;c<s.length;c+=1)if(n=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(h=0;h<s[c].length;h+=1)typeof s[c][h]!="number"&&(n=!1);n===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,x=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?x.push("/"+v+" /"+r[v].value):x.push("/"+v+" "+r[v].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(Ft.API),(function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],f=0,g=s.length;f<g;++f){if(o=a.metadata.characterToGlyph(s.charCodeAt(f)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(c[4-o.length],o)}return h.join("")},n=function(s){var a,o,l,c,h,f,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,g=(o=Object.keys(s).sort(function(p,v){return p-v})).length;f<g;f++)a=o[f],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",v=0;v<g.length;v++)p+=String.fromCharCode(g[v]);var x=c();h({data:p,addLength1:!0,objectId:x}),l("endobj");var b=c();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var _=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+qf(o.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var k=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+qf(o.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+qf(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+k+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,g="",p=0;p<f.length;p++)g+=String.fromCharCode(f[p]);var v=c();h({data:g,addLength1:!0,objectId:v}),l("endobj");var x=c();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var b=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+qf(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var _=0;_<o.metadata.hmtx.widths.length;_++)o.metadata.hmtx.widths[_]=parseInt(o.metadata.hmtx.widths[_]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+qf(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,h=s.options||{},f=s.mutex||{},g=f.pdfEscape,p=f.activeFontKey,v=f.fonts,x=p,b="",_=0,k="",N=v[x].encoding;if(v[x].encoding!=="Identity-H")return{text:o,x:l,y:c,options:h,mutex:f};for(k=o,x=p,Array.isArray(o)&&(k=o[0]),_=0;_<k.length;_+=1)v[x].metadata.hasOwnProperty("cmap")&&(a=v[x].metadata.cmap.unicode.codeMap[k[_].charCodeAt(0)]),a||k[_].charCodeAt(0)<256&&v[x].metadata.hasOwnProperty("Unicode")?b+=k[_]:b+="";var j="";return parseInt(x.slice(1))<14||N==="WinAnsiEncoding"?j=g(b,x).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(j=r(b,v[x])),f.isHex=!0,{text:j,x:l,y:c,options:h,mutex:f}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])})(Ft),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Ft.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,c,h,f=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,N=0;this.__bidiEngine__={};var j=function(B){var q=B.charCodeAt(),W=q>>8,$=x[W];return $!==void 0?f[256*$+(255&q)]:W===252||W===253?"AL":_.test(W)?"L":W===8?"R":"N"},P=function(B){for(var q,W=0;W<B.length;W++){if((q=j(B.charAt(W)))==="L")return!1;if(q==="R")return!0}return!1},F=function(B,q,W,$){var Q,ee,se,V,re=q[$];switch(re){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"N":case"AN":break;case"EN":k&&(re="AN");break;case"AL":k=!0,re="R";break;case"WS":case"BN":re="N";break;case"CS":$<1||$+1>=q.length||(Q=W[$-1])!=="EN"&&Q!=="AN"||(ee=q[$+1])!=="EN"&&ee!=="AN"?re="N":k&&(ee="AN"),re=ee===Q?ee:"N";break;case"ES":re=(Q=$>0?W[$-1]:"B")==="EN"&&$+1<q.length&&q[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&W[$-1]==="EN"){re="EN";break}if(k){re="N";break}for(se=$+1,V=q.length;se<V&&q[se]==="ET";)se++;re=se<V&&q[se]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(V=q.length,se=$+1;se<V&&q[se]==="NSM";)se++;if(se<V){var pe=B[$],X=pe>=1425&&pe<=2303||pe===64286;if(Q=q[se],X&&(Q==="R"||Q==="AL")){re="R";break}}}re=$<1||(Q=q[$-1])==="B"?"N":W[$-1];break;case"B":k=!1,i=!0,re=N;break;case"S":s=!0,re="N"}return re},D=function(B,q,W){var $=B.split("");return W&&U($,W,{hiLevel:N}),$.reverse(),q&&q.reverse(),$.join("")},U=function(B,q,W){var $,Q,ee,se,V,re=-1,pe=B.length,X=0,O=[],Y=N?p:g,ne=[];for(k=!1,i=!1,s=!1,Q=0;Q<pe;Q++)ne[Q]=j(B[Q]);for(ee=0;ee<pe;ee++){if(V=X,O[ee]=F(B,ne,O,ee),$=240&(X=Y[V][v[O[ee]]]),X&=15,q[ee]=se=Y[X][5],$>0)if($===16){for(Q=re;Q<ee;Q++)q[Q]=1;re=-1}else re=-1;if(Y[X][6])re===-1&&(re=ee);else if(re>-1){for(Q=re;Q<ee;Q++)q[Q]=se;re=-1}ne[ee]==="B"&&(q[ee]=0),W.hiLevel|=se}s&&(function(oe,ue,de){for(var be=0;be<de;be++)if(oe[be]==="S"){ue[be]=N;for(var Se=be-1;Se>=0&&oe[Se]==="WS";Se--)ue[Se]=N}})(ne,q,pe)},z=function(B,q,W,$,Q){if(!(Q.hiLevel<B)){if(B===1&&N===1&&!i)return q.reverse(),void(W&&W.reverse());for(var ee,se,V,re,pe=q.length,X=0;X<pe;){if($[X]>=B){for(V=X+1;V<pe&&$[V]>=B;)V++;for(re=X,se=V-1;re<se;re++,se--)ee=q[re],q[re]=q[se],q[se]=ee,W&&(ee=W[re],W[re]=W[se],W[se]=ee);X=V}X++}}},K=function(B,q,W){var $=B.split(""),Q={hiLevel:N};return W||(W=[]),U($,W,Q),(function(ee,se,V){if(V.hiLevel!==0&&h)for(var re,pe=0;pe<ee.length;pe++)se[pe]===1&&(re=b.indexOf(ee[pe]))>=0&&(ee[pe]=b[re+1])})($,W,Q),z(2,$,q,W,Q),z(1,$,q,W,Q),$.join("")};return this.__bidiEngine__.doBidiReorder=function(B,q,W){if((function(Q,ee){if(ee)for(var se=0;se<Q.length;se++)ee[se]=se;o===void 0&&(o=P(Q)),c===void 0&&(c=P(Q))})(B,q),a||!l||c)if(a&&l&&o^c)N=o?1:0,B=D(B,q,W);else if(!a&&l&&c)N=o?1:0,B=K(B,q,W),B=D(B,q);else if(!a||o||l||c){if(a&&!l&&o^c)B=D(B,q),o?(N=0,B=K(B,q,W)):(N=1,B=K(B,q,W),B=D(B,q));else if(a&&o&&!l&&c)N=1,B=K(B,q,W),B=D(B,q);else if(!a&&!l&&o^c){var $=h;o?(N=1,B=K(B,q,W),N=0,h=!1,B=K(B,q,W),h=$):(N=0,B=K(B,q,W),B=D(B,q),N=1,h=!1,B=K(B,q,W),h=$,B=D(B,q))}}else N=0,B=K(B,q,W);else N=o?1:0,B=K(B,q,W);return B},this.__bidiEngine__.setOptions=function(B){B&&(a=B.isInputVisual,l=B.isOutputVisual,o=B.isInputRtl,c=B.isOutputRtl,h=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(Ft),Ft.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new fh(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new R2e(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new x2e(this.contents),this.head=new w2e(this),this.name=new N2e(this),this.cmap=new g9(this),this.toUnicode={},this.hhea=new _2e(this),this.maxp=new T2e(this),this.hmtx=new A2e(this),this.post=new C2e(this),this.os2=new S2e(this),this.loca=new P2e(this),this.glyf=new E2e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var wl,fh=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t})(),x2e=(function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,c,h,f,g,p,v,x;for(x in p=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),a=Math.floor(f/l),h=16*p-f,(i=new fh).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(a),i.writeShort(h),s=16*p,c=i.pos+s,o=null,v=[],r)for(g=r[x],i.writeString(x),i.writeInt(t(g)),i.writeInt(c),i.writeInt(g.length),v=v.concat(g),x==="head"&&(o=c),c+=g.length;c%4;)v.push(0),c++;return i.write(v),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=y9.call(r);r.length%4;)r.push(0);for(s=new fh(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e})(),b2e={}.hasOwnProperty,cc=function(t,e){for(var r in e)b2e.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};wl=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var w2e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cc(t,wl),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new fh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),Uj=(function(){function t(e,r){var n,i,s,a,o,l,c,h,f,g,p,v,x,b,_,k,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),g=p/2,e.pos+=6,s=(function(){var j,P;for(P=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)P.push(e.readUInt16());return P})(),e.pos+=2,x=(function(){var j,P;for(P=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)P.push(e.readUInt16());return P})(),c=(function(){var j,P;for(P=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)P.push(e.readUInt16());return P})(),h=(function(){var j,P;for(P=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)P.push(e.readUInt16());return P})(),i=(this.length-e.pos+this.offset)/2,o=(function(){var j,P;for(P=[],l=j=0;0<=i?j<i:j>i;l=0<=i?++j:--j)P.push(e.readUInt16());return P})(),l=_=0,N=s.length;_<N;l=++_)for(b=s[l],n=k=v=x[l];v<=b?k<=b:k>=b;n=v<=b?++k:--k)h[l]===0?a=n+c[l]:(a=o[h[l]/2+(n-v)-(g-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}e.pos=f}return t.encode=function(e,r){var n,i,s,a,o,l,c,h,f,g,p,v,x,b,_,k,N,j,P,F,D,U,z,K,B,q,W,$,Q,ee,se,V,re,pe,X,O,Y,ne,oe,ue,de,be,Se,ke,De,Ye;switch($=new fh,a=Object.keys(e).sort(function(We,nt){return We-nt}),r){case"macroman":for(x=0,b=(function(){var We=[];for(v=0;v<256;++v)We.push(0);return We})(),k={0:0},s={},Q=0,re=a.length;Q<re;Q++)k[Se=e[i=a[Q]]]==null&&(k[Se]=++x),s[i]={old:e[i],new:k[e[i]]},b[i]=k[e[i]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(b),{charMap:s,subtable:$.data,maxGlyphID:x+1};case"unicode":for(q=[],f=[],N=0,k={},n={},_=c=null,ee=0,pe=a.length;ee<pe;ee++)k[P=e[i=a[ee]]]==null&&(k[P]=++N),n[i]={old:P,new:k[P]},o=k[P]-i,_!=null&&o===c||(_&&f.push(_),q.push(i),c=o),_=i;for(_&&f.push(_),f.push(65535),q.push(65535),K=2*(z=q.length),U=2*Math.pow(Math.log(z)/Math.LN2,2),g=Math.log(U/2)/Math.LN2,D=2*z-U,l=[],F=[],p=[],v=se=0,X=q.length;se<X;v=++se){if(B=q[v],h=f[v],B===65535){l.push(0),F.push(0);break}if(B-(W=n[B].new)>=32768)for(l.push(0),F.push(2*(p.length+z-v)),i=V=B;B<=h?V<=h:V>=h;i=B<=h?++V:--V)p.push(n[i].new);else l.push(W-B),F.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*z+2*p.length),$.writeUInt16(0),$.writeUInt16(K),$.writeUInt16(U),$.writeUInt16(g),$.writeUInt16(D),de=0,O=f.length;de<O;de++)i=f[de],$.writeUInt16(i);for($.writeUInt16(0),be=0,Y=q.length;be<Y;be++)i=q[be],$.writeUInt16(i);for(ke=0,ne=l.length;ke<ne;ke++)o=l[ke],$.writeUInt16(o);for(De=0,oe=F.length;De<oe;De++)j=F[De],$.writeUInt16(j);for(Ye=0,ue=p.length;Ye<ue;Ye++)x=p[Ye],$.writeUInt16(x);return{charMap:n,subtable:$.data,maxGlyphID:N+1}}},t})(),g9=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cc(t,wl),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new Uj(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=Uj.encode(e,r),(i=new fh).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t})(),_2e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cc(t,wl),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),S2e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cc(t,wl),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),C2e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cc(t,wl),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t})(),k2e=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},N2e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cc(t,wl),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,s,a,o,l,c,h,f,g;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=h=0,f=n.length;h<f;s=++h)i=n[s],e.pos=i.offset,c=e.readString(i.length),a=new k2e(c,i),l[g=i.nameID]==null&&(l[g]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t})(),T2e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cc(t,wl),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),A2e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cc(t,wl),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,h;for(h=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)h.push(e.readInt16());return h})(),this.widths=(function(){var c,h,f,g;for(g=[],c=0,h=(f=this.metrics).length;c<h;c++)s=f[c],g.push(s.advance);return g}).call(this),n=this.widths[this.widths.length-1],l=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),y9=[].slice,E2e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cc(t,wl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,s,a,o,l,c,h,f;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,a=(o=new fh(r.read(i))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),h=o.readShort(),this.cache[e]=a===-1?new L2e(o,c,f,l,h):new j2e(o,a,c,f,l,h),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,s,a,o,l;for(a=[],s=[],o=0,l=r.length;o<l;o++)i=e[r[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},t})(),j2e=(function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),L2e=(function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new fh(y9.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),P2e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cc(t,wl),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<r.length&&r[s]==a){++s,n[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var c=new Array(4*n.length),h=0;h<n.length;++h)c[4*h+3]=255&n[h],c[4*h+2]=(65280&n[h])>>8,c[4*h+1]=(16711680&n[h])>>16,c[4*h]=(4278190080&n[h])>>24;return c},t})(),R2e=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,c,h,f,g,p,v,x,b,_;for(i in n=g9.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},_=n.charMap)p[(l=_[i]).old]=l.new;for(v in g=n.maxGlyphID,a)v in p||(p[v]=g++);return h=(function(k){var N,j;for(N in j={},k)j[k[N]]=N;return j})(p),f=Object.keys(h).sort(function(k,N){return k-N}),x=(function(){var k,N,j;for(j=[],k=0,N=f.length;k<N;k++)o=f[k],j.push(h[o]);return j})(),s=this.font.glyf.encode(a,x,p),c=this.font.loca.encode(s.offsets,x),b={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t})();Ft.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+(function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e})();N$.initialize({startOnLoad:!1,theme:"default",securityLevel:"loose"});function Fk({code:t,allowExport:e=!1}){const r=E.useRef(null),[n,i]=E.useState(""),[s,a]=E.useState(null),[o,l]=E.useState(!1);E.useEffect(()=>{let f=!0;return(async()=>{if(t)try{a(null);const p=`mermaid-${Math.random().toString(36).substr(2,9)}`;r.current&&(r.current.innerHTML="");const{svg:v}=await N$.render(p,t);f&&(i(v),r.current&&(r.current.innerHTML=v))}catch(p){console.error("Mermaid render error:",p),f&&a("Error al renderizar el diagrama. Verifica la sintaxis.")}})(),()=>{f=!1}},[t]);const c=async f=>{if(r.current){l(!0);try{const g=r.current.querySelector("svg");if(!g)return;const p=new XMLSerializer().serializeToString(g),v=document.createElement("canvas"),x=v.getContext("2d"),b=new Image,_=g.getBoundingClientRect(),k=_.width||800,N=_.height||600,j=2;v.width=k*j,v.height=N*j;const P=new Blob([p],{type:"image/svg+xml;charset=utf-8"}),F=URL.createObjectURL(P);b.onload=()=>{if(f==="png"){x.fillStyle="white",x.fillRect(0,0,v.width,v.height),x.drawImage(b,0,0,v.width,v.height);const D=v.toDataURL("image/png"),U=document.createElement("a");U.href=D,U.download=`diagrama-${Date.now()}.png`,document.body.appendChild(U),U.click(),document.body.removeChild(U)}else if(f==="pdf"){const D=new Ft({orientation:k>N?"l":"p",unit:"px",format:[k+40,N+40]});x.fillStyle="white",x.fillRect(0,0,v.width,v.height),x.drawImage(b,0,0,v.width,v.height);const U=v.toDataURL("image/png");D.addImage(U,"PNG",20,20,k,N),D.save(`diagrama-${Date.now()}.pdf`)}URL.revokeObjectURL(F),l(!1)},b.src=F}catch(g){console.error("Export error:",g),l(!1)}}},h=()=>{if(!n)return;const f=new Blob([n],{type:"image/svg+xml"}),g=URL.createObjectURL(f),p=document.createElement("a");p.href=g,p.download=`diagrama-${Date.now()}.svg`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(g)};return m.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[m.jsx("div",{ref:r,className:`w-full overflow-x-auto bg-white rounded-lg min-h-[100px] flex items-center justify-center p-4 ${s?"bg-red-50 text-red-500":""}`,children:s&&m.jsx("span",{className:"text-sm font-medium",children:s})}),e&&!s&&n&&m.jsxs("div",{className:"flex gap-2 justify-end mt-2",children:[m.jsxs(et,{variant:"outline",size:"sm",onClick:()=>c("png"),disabled:o,children:[m.jsx(kV,{className:"w-4 h-4 mr-1"})," PNG"]}),m.jsxs(et,{variant:"outline",size:"sm",onClick:h,disabled:o,children:[m.jsx(CV,{className:"w-4 h-4 mr-1"})," SVG"]}),m.jsxs(et,{variant:"outline",size:"sm",onClick:()=>c("pdf"),disabled:o,children:[m.jsx(Y1,{className:"w-4 h-4 mr-1"})," PDF"]})]})]})}function qj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function M2e(t){if(Array.isArray(t))return t}function O2e(t,e,r){return(e=U2e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function D2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wj(Object(r),!0).forEach(function(n){O2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B2e(t,e){if(t==null)return{};var r,n,i=F2e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function F2e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function $2e(t,e){return M2e(t)||I2e(t,e)||q2e(t,e)||D2e()}function z2e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U2e(t){var e=z2e(t,"string");return typeof e=="symbol"?e:e+""}function q2e(t,e){if(t){if(typeof t=="string")return qj(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qj(t,e):void 0}}function W2e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hj(Object(r),!0).forEach(function(n){W2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V2e(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return e.reduceRight(function(i,s){return s(i)},n)}}function sg(t){return function e(){for(var r=this,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e.apply(r,[].concat(i,o))}}}function Jv(t){return{}.toString.call(t).includes("Object")}function H2e(t){return!Object.keys(t).length}function Qg(t){return typeof t=="function"}function G2e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Y2e(t,e){return Jv(e)||nh("changeType"),Object.keys(e).some(function(r){return!G2e(t,r)})&&nh("changeField"),e}function K2e(t){Qg(t)||nh("selectorType")}function X2e(t){Qg(t)||Jv(t)||nh("handlerType"),Jv(t)&&Object.values(t).some(function(e){return!Qg(e)})&&nh("handlersType")}function J2e(t){t||nh("initialIsRequired"),Jv(t)||nh("initialType"),H2e(t)&&nh("initialContent")}function Z2e(t,e){throw new Error(t[e]||t.default)}var Q2e={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},nh=sg(Z2e)(Q2e),s1={changes:Y2e,selector:K2e,handler:X2e,initial:J2e};function ebe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s1.initial(t),s1.handler(e);var r={current:t},n=sg(nbe)(r,e),i=sg(rbe)(r),s=sg(s1.changes)(t),a=sg(tbe)(r);function o(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(h){return h};return s1.selector(c),c(r.current)}function l(c){V2e(n,i,s,a)(c)}return[o,l]}function tbe(t,e){return Qg(e)?e(t.current):e}function rbe(t,e){return t.current=Gj(Gj({},t.current),e),e}function nbe(t,e,r){return Qg(e)?e(t.current):Object.keys(r).forEach(function(n){var i;return(i=e[n])===null||i===void 0?void 0:i.call(e,t.current[n])}),r}var ibe={create:ebe},sbe={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function abe(t){return function e(){for(var r=this,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e.apply(r,[].concat(i,o))}}}function obe(t){return{}.toString.call(t).includes("Object")}function lbe(t){return t||Yj("configIsRequired"),obe(t)||Yj("configType"),t.urls?(cbe(),{paths:{vs:t.urls.monacoBase}}):t}function cbe(){console.warn(v9.deprecation)}function ube(t,e){throw new Error(t[e]||t.default)}var v9={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Yj=abe(ube)(v9),hbe={config:lbe},dbe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(i){return r.reduceRight(function(s,a){return a(s)},i)}};function x9(t,e){return Object.keys(e).forEach(function(r){e[r]instanceof Object&&t[r]&&Object.assign(e[r],x9(t[r],e[r]))}),Vj(Vj({},t),e)}var fbe={type:"cancelation",msg:"operation is manually canceled"};function Nw(t){var e=!1,r=new Promise(function(n,i){t.then(function(s){return e?i(fbe):n(s)}),t.catch(i)});return r.cancel=function(){return e=!0},r}var pbe=["monaco"],mbe=ibe.create({config:sbe,isInitialized:!1,resolve:null,reject:null,monaco:null}),b9=$2e(mbe,2),E0=b9[0],n2=b9[1];function gbe(t){var e=hbe.config(t),r=e.monaco,n=B2e(e,pbe);n2(function(i){return{config:x9(i.config,n),monaco:r}})}function ybe(){var t=E0(function(e){var r=e.monaco,n=e.isInitialized,i=e.resolve;return{monaco:r,isInitialized:n,resolve:i}});if(!t.isInitialized){if(n2({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),Nw(Tw);if(window.monaco&&window.monaco.editor)return w9(window.monaco),t.resolve(window.monaco),Nw(Tw);dbe(vbe,bbe)(wbe)}return Nw(Tw)}function vbe(t){return document.body.appendChild(t)}function xbe(t){var e=document.createElement("script");return t&&(e.src=t),e}function bbe(t){var e=E0(function(n){var i=n.config,s=n.reject;return{config:i,reject:s}}),r=xbe("".concat(e.config.paths.vs,"/loader.js"));return r.onload=function(){return t()},r.onerror=e.reject,r}function wbe(){var t=E0(function(r){var n=r.config,i=r.resolve,s=r.reject;return{config:n,resolve:i,reject:s}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(r){var n=r.m||r;w9(n),t.resolve(n)},function(r){t.reject(r)})}function w9(t){E0().monaco||n2({monaco:t})}function _be(){return E0(function(t){var e=t.monaco;return e})}var Tw=new Promise(function(t,e){return n2({resolve:t,reject:e})}),_9={config:gbe,init:ybe,__getMonacoInstance:_be},Sbe={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Aw=Sbe,Cbe={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},kbe=Cbe;function Nbe({children:t}){return Xe.createElement("div",{style:kbe.container},t)}var Tbe=Nbe,Abe=Tbe;function Ebe({width:t,height:e,isEditorReady:r,loading:n,_ref:i,className:s,wrapperProps:a}){return Xe.createElement("section",{style:{...Aw.wrapper,width:t,height:e},...a},!r&&Xe.createElement(Abe,null,n),Xe.createElement("div",{ref:i,style:{...Aw.fullWidth,...!r&&Aw.hide},className:s}))}var jbe=Ebe,S9=E.memo(jbe);function Lbe(t){E.useEffect(t,[])}var C9=Lbe;function Pbe(t,e,r=!0){let n=E.useRef(!0);E.useEffect(n.current||!r?()=>{n.current=!1}:t,e)}var Wa=Pbe;function Sg(){}function Jf(t,e,r,n){return Rbe(t,n)||Mbe(t,e,r,n)}function Rbe(t,e){return t.editor.getModel(k9(t,e))}function Mbe(t,e,r,n){return t.editor.createModel(e,r,n?k9(t,n):void 0)}function k9(t,e){return t.Uri.parse(e)}function Obe({original:t,modified:e,language:r,originalLanguage:n,modifiedLanguage:i,originalModelPath:s,modifiedModelPath:a,keepCurrentOriginalModel:o=!1,keepCurrentModifiedModel:l=!1,theme:c="light",loading:h="Loading...",options:f={},height:g="100%",width:p="100%",className:v,wrapperProps:x={},beforeMount:b=Sg,onMount:_=Sg}){let[k,N]=E.useState(!1),[j,P]=E.useState(!0),F=E.useRef(null),D=E.useRef(null),U=E.useRef(null),z=E.useRef(_),K=E.useRef(b),B=E.useRef(!1);C9(()=>{let Q=_9.init();return Q.then(ee=>(D.current=ee)&&P(!1)).catch(ee=>ee?.type!=="cancelation"&&console.error("Monaco initialization: error:",ee)),()=>F.current?$():Q.cancel()}),Wa(()=>{if(F.current&&D.current){let Q=F.current.getOriginalEditor(),ee=Jf(D.current,t||"",n||r||"text",s||"");ee!==Q.getModel()&&Q.setModel(ee)}},[s],k),Wa(()=>{if(F.current&&D.current){let Q=F.current.getModifiedEditor(),ee=Jf(D.current,e||"",i||r||"text",a||"");ee!==Q.getModel()&&Q.setModel(ee)}},[a],k),Wa(()=>{let Q=F.current.getModifiedEditor();Q.getOption(D.current.editor.EditorOption.readOnly)?Q.setValue(e||""):e!==Q.getValue()&&(Q.executeEdits("",[{range:Q.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),Q.pushUndoStop())},[e],k),Wa(()=>{F.current?.getModel()?.original.setValue(t||"")},[t],k),Wa(()=>{let{original:Q,modified:ee}=F.current.getModel();D.current.editor.setModelLanguage(Q,n||r||"text"),D.current.editor.setModelLanguage(ee,i||r||"text")},[r,n,i],k),Wa(()=>{D.current?.editor.setTheme(c)},[c],k),Wa(()=>{F.current?.updateOptions(f)},[f],k);let q=E.useCallback(()=>{if(!D.current)return;K.current(D.current);let Q=Jf(D.current,t||"",n||r||"text",s||""),ee=Jf(D.current,e||"",i||r||"text",a||"");F.current?.setModel({original:Q,modified:ee})},[r,e,i,t,n,s,a]),W=E.useCallback(()=>{!B.current&&U.current&&(F.current=D.current.editor.createDiffEditor(U.current,{automaticLayout:!0,...f}),q(),D.current?.editor.setTheme(c),N(!0),B.current=!0)},[f,c,q]);E.useEffect(()=>{k&&z.current(F.current,D.current)},[k]),E.useEffect(()=>{!j&&!k&&W()},[j,k,W]);function $(){let Q=F.current?.getModel();o||Q?.original?.dispose(),l||Q?.modified?.dispose(),F.current?.dispose()}return Xe.createElement(S9,{width:p,height:g,isEditorReady:k,loading:h,_ref:U,className:v,wrapperProps:x})}var Ibe=Obe;E.memo(Ibe);function Dbe(t){let e=E.useRef();return E.useEffect(()=>{e.current=t},[t]),e.current}var Bbe=Dbe,a1=new Map;function Fbe({defaultValue:t,defaultLanguage:e,defaultPath:r,value:n,language:i,path:s,theme:a="light",line:o,loading:l="Loading...",options:c={},overrideServices:h={},saveViewState:f=!0,keepCurrentModel:g=!1,width:p="100%",height:v="100%",className:x,wrapperProps:b={},beforeMount:_=Sg,onMount:k=Sg,onChange:N,onValidate:j=Sg}){let[P,F]=E.useState(!1),[D,U]=E.useState(!0),z=E.useRef(null),K=E.useRef(null),B=E.useRef(null),q=E.useRef(k),W=E.useRef(_),$=E.useRef(),Q=E.useRef(n),ee=Bbe(s),se=E.useRef(!1),V=E.useRef(!1);C9(()=>{let X=_9.init();return X.then(O=>(z.current=O)&&U(!1)).catch(O=>O?.type!=="cancelation"&&console.error("Monaco initialization: error:",O)),()=>K.current?pe():X.cancel()}),Wa(()=>{let X=Jf(z.current,t||n||"",e||i||"",s||r||"");X!==K.current?.getModel()&&(f&&a1.set(ee,K.current?.saveViewState()),K.current?.setModel(X),f&&K.current?.restoreViewState(a1.get(s)))},[s],P),Wa(()=>{K.current?.updateOptions(c)},[c],P),Wa(()=>{!K.current||n===void 0||(K.current.getOption(z.current.editor.EditorOption.readOnly)?K.current.setValue(n):n!==K.current.getValue()&&(V.current=!0,K.current.executeEdits("",[{range:K.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),K.current.pushUndoStop(),V.current=!1))},[n],P),Wa(()=>{let X=K.current?.getModel();X&&i&&z.current?.editor.setModelLanguage(X,i)},[i],P),Wa(()=>{o!==void 0&&K.current?.revealLine(o)},[o],P),Wa(()=>{z.current?.editor.setTheme(a)},[a],P);let re=E.useCallback(()=>{if(!(!B.current||!z.current)&&!se.current){W.current(z.current);let X=s||r,O=Jf(z.current,n||t||"",e||i||"",X||"");K.current=z.current?.editor.create(B.current,{model:O,automaticLayout:!0,...c},h),f&&K.current.restoreViewState(a1.get(X)),z.current.editor.setTheme(a),o!==void 0&&K.current.revealLine(o),F(!0),se.current=!0}},[t,e,r,n,i,s,c,h,f,a,o]);E.useEffect(()=>{P&&q.current(K.current,z.current)},[P]),E.useEffect(()=>{!D&&!P&&re()},[D,P,re]),Q.current=n,E.useEffect(()=>{P&&N&&($.current?.dispose(),$.current=K.current?.onDidChangeModelContent(X=>{V.current||N(K.current.getValue(),X)}))},[P,N]),E.useEffect(()=>{if(P){let X=z.current.editor.onDidChangeMarkers(O=>{let Y=K.current.getModel()?.uri;if(Y&&O.find(ne=>ne.path===Y.path)){let ne=z.current.editor.getModelMarkers({resource:Y});j?.(ne)}});return()=>{X?.dispose()}}return()=>{}},[P,j]);function pe(){$.current?.dispose(),g?f&&a1.set(s,K.current.saveViewState()):K.current.getModel()?.dispose(),K.current.dispose()}return Xe.createElement(S9,{width:p,height:v,isEditorReady:P,loading:l,_ref:B,className:x,wrapperProps:b})}var $be=Fbe,zbe=E.memo($be),Ube=zbe;const o1=`graph TD
    A[Inicio] --> B{Es Nuevo?}
    B -->|S| C[Crear]
    B -->|No| D[Editar]
    C --> E[Guardar]
    D --> E
    E --> F[Fin]`;function N9({open:t,onOpenChange:e,initialData:r,onSave:n}){const[i,s]=E.useState(""),[a,o]=E.useState(o1),[l,c]=E.useState(o1),[h,f]=E.useState(!1);E.useEffect(()=>{t&&(r?(s(r.title),o(r.code),c(r.code)):(s(""),o(o1),c(o1)))},[t,r]),E.useEffect(()=>{const p=setTimeout(()=>{c(a)},800);return()=>{clearTimeout(p)}},[a]);const g=async()=>{if(i.trim()){f(!0);try{await n({id:r?.id,title:i,code:a}),e(!1)}catch(p){console.error("Error saving:",p)}finally{f(!1)}}};return m.jsx(g0,{open:t,onOpenChange:e,children:m.jsxs(Wp,{className:"max-w-[90vw] h-[90vh] flex flex-col sm:max-w-6xl overflow-hidden",children:[m.jsxs(Vp,{children:[m.jsx(Hp,{children:r?"Editar Diagrama":"Nuevo Diagrama"}),m.jsx(Gp,{children:"Usa el editor de cdigo para crear tu diagrama Mermaid."})]}),m.jsxs("div",{className:"flex flex-col gap-4 flex-1 min-h-0",children:[m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx(fn,{htmlFor:"title",children:"Ttulo"}),m.jsx(hi,{id:"title",value:i,onChange:p=>s(p.target.value),placeholder:"Ej: Diagrama de flujo del proceso"})]}),m.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row gap-4 min-h-0 border-t pt-4",children:[m.jsxs("div",{className:"flex-1 flex flex-col min-h-[300px] border rounded-md overflow-hidden",children:[m.jsx("div",{className:"bg-slate-100 px-4 py-2 text-sm font-medium border-b",children:"Cdigo Mermaid"}),m.jsx("div",{className:"flex-1 relative",children:m.jsx(Ube,{height:"100%",defaultLanguage:"mermaid",value:a,onChange:p=>o(p||""),theme:"vs-light",options:{minimap:{enabled:!1},lineNumbers:"on",scrollBeyondLastLine:!1,wordWrap:"on"},loading:m.jsx("div",{className:"p-4 text-sm text-gray-500",children:"Cargando editor..."})})})]}),m.jsxs("div",{className:"flex-1 flex flex-col min-h-[300px] border rounded-md overflow-hidden bg-slate-50",children:[m.jsx("div",{className:"bg-slate-100 px-4 py-2 text-sm font-medium border-b",children:"Vista Previa (Actualiza al pausar)"}),m.jsx("div",{className:"flex-1 p-4 overflow-auto flex items-center justify-center",children:m.jsx(Fk,{code:l})})]})]})]}),m.jsxs(y0,{className:"mt-4",children:[m.jsx(et,{variant:"outline",onClick:()=>e(!1),disabled:h,children:"Cancelar"}),m.jsx(et,{onClick:g,disabled:!i.trim()||h,className:"bg-green-600 hover:bg-green-700",children:h?"Guardando...":"Guardar Diagrama"})]})]})})}class T9 extends Xe.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Uncaught error:",e,r)}render(){return this.state.hasError?m.jsxs("div",{className:"p-6 bg-red-50 border border-red-200 rounded-lg text-center",children:[m.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"Algo sali mal"}),m.jsx("p",{className:"text-sm text-red-600 mb-4",children:"Ha ocurrido un error al cargar este componente."}),m.jsx(et,{variant:"outline",className:"bg-white",onClick:()=>this.setState({hasError:!1}),children:"Intentar de nuevo"})]}):this.props.children}}function qbe(){const{diagrams:t,loading:e,createDiagram:r,updateDiagram:n,deleteDiagram:i}=oO(),[s,a]=E.useState(!1),[o,l]=E.useState(null),[c,h]=E.useState(null),f=()=>{l(null),a(!0)},g=b=>{l(b),a(!0)},p=b=>{h(b)},v=async()=>{c&&((await i(c)).success?Dr.success("Diagrama eliminado correctamente"):Dr.error("Error al eliminar el diagrama"),h(null))},x=async b=>{let _;return b.id?(_=await n(b.id,b),_.success&&Dr.success("Diagrama actualizado correctamente")):(_=await r(b),_.success&&Dr.success("Diagrama creado correctamente")),_.success||Dr.error(_.error||"Ha ocurrido un error"),_};return m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center",children:m.jsx(ix,{className:"text-primary"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mis Diagramas"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Crea y gestiona tus propios diagramas de estudio"})]})]}),m.jsxs(et,{onClick:f,className:"gap-2",children:[m.jsx(Xs,{className:"w-4 h-4"}),"Nuevo Diagrama"]})]}),e&&t.length===0?m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t.length===0?m.jsx(Or,{className:"border-dashed",children:m.jsxs(ul,{className:"flex flex-col items-center justify-center py-12 text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mb-4",children:m.jsx(vL,{className:"w-8 h-8 text-gray-400"})}),m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"No tienes diagramas an"}),m.jsx("p",{className:"text-sm text-gray-600 max-w-sm mt-2 mb-6",children:"Usa diagramas para visualizar tus ideas y mejorar tu estudio."}),m.jsxs(et,{onClick:f,variant:"outline",className:"gap-2",children:[m.jsx(Xs,{className:"w-4 h-4"}),"Crear mi primer diagrama"]})]})}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(b=>m.jsxs(Or,{className:"flex flex-col overflow-hidden hover:shadow-md transition-shadow",children:[m.jsx(Jc,{className:"pb-2",children:m.jsx(Zc,{className:"text-lg font-semibold flex justify-between items-start gap-2",children:m.jsx("span",{className:"truncate",title:b.title,children:b.title})})}),m.jsxs(ul,{className:"flex-1 min-h-[200px] bg-slate-50 p-4 flex items-center justify-center relative group",children:[m.jsx("div",{className:"w-full h-full overflow-hidden max-h-[250px]",children:m.jsx("div",{className:"transform scale-90 origin-center pointer-events-none",children:m.jsx(Fk,{code:b.code})})}),m.jsx("div",{className:"absolute inset-0 bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:m.jsx(et,{variant:"secondary",size:"sm",onClick:()=>g(b),children:"Ver y Editar"})})]}),m.jsxs(ML,{className:"pt-4 border-t bg-gray-50/50 flex justify-between",children:[m.jsx("span",{className:"text-xs text-gray-500",children:new Date(b.updatedAt).toLocaleDateString()}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(et,{variant:"ghost",size:"icon",className:"h-8 w-8 text-primary hover:text-primary/80 hover:bg-primary/10",onClick:()=>g(b),children:m.jsx(bL,{className:"w-4 h-4"})}),m.jsx(et,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>p(b.id),children:m.jsx(sx,{className:"w-4 h-4"})})]})]})]},b.id))}),m.jsx(T9,{children:m.jsx(N9,{open:s,onOpenChange:a,initialData:o,onSave:x})}),m.jsx(g0,{open:!!c,onOpenChange:()=>h(null),children:m.jsxs(Wp,{children:[m.jsxs(Vp,{children:[m.jsx(Hp,{children:"Eliminar diagrama?"}),m.jsx(Gp,{children:"Esta accin no se puede deshacer."})]}),m.jsxs(y0,{children:[m.jsx(et,{variant:"outline",onClick:()=>h(null),children:"Cancelar"}),m.jsx(et,{onClick:v,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})})]})}const Wbe=[{id:"1",name:"Matemticas Aplicadas",students:32,pendingTasks:4},{id:"2",name:"Programacin I",students:28,pendingTasks:7}],Vbe=[{id:1,title:"Revisin de proyecto",date:"2025-11-20",time:"3:00 PM"},{id:2,title:"Entrega parcial",date:"2025-11-22",time:"11:59 PM"}],Hbe=[{id:1,student:"Mara Gmez",task:"Ensayo cap. 2",course:"Programacin I"},{id:2,student:"Juan Prez",task:"Problemas tema 3",course:"Matemticas Aplicadas"}];function Gbe(){const t=Qs(),{user:e}=nc(),[r,n]=E.useState(!1);return E.useEffect(()=>{n(!1)},[]),r?m.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:m.jsx(mL,{className:"w-8 h-8 animate-spin text-green-600"})}):m.jsxs("div",{className:"p-6 space-y-6 animate-in fade-in duration-500",children:[m.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:m.jsxs("div",{className:"flex items-start space-x-4",children:[m.jsx("div",{className:"bg-green-100 p-3 rounded-xl",children:m.jsx(Ca,{className:"text-green-600",size:32})}),m.jsxs("div",{children:[m.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Bienvenid@ ",e?.name?e.name.split(" ")[0]:"Profesor"]}),m.jsx("p",{className:"text-gray-600 mt-1",children:"Revisa tus cursos y actividades acadmicas"})]})]})}),m.jsxs(Or,{children:[m.jsx(Jc,{children:m.jsx(Zc,{className:"text-lg",children:"Accesos Rpidos"})}),m.jsx(ul,{children:m.jsxs("div",{className:"flex gap-3 flex-wrap",children:[m.jsxs(et,{className:"bg-green-600 hover:bg-green-700 transition-all hover:scale-105 active:scale-95",onClick:()=>t("/teacher/courses/new"),children:[m.jsx(oS,{size:18,className:"mr-2"}),"Crear curso"]}),m.jsxs(et,{variant:"outline",className:"transition-all hover:scale-105 active:scale-95",onClick:()=>t("/teacher/courses"),children:[m.jsx(Ca,{size:18,className:"mr-2"}),"Ver todos los cursos"]}),m.jsxs(et,{variant:"outline",className:"transition-all hover:scale-105 active:scale-95",onClick:()=>t("/teacher/diagrams"),children:[m.jsx(MV,{size:18,className:"mr-2"}),"Diagramas"]}),m.jsxs(et,{variant:"outline",className:"transition-all hover:scale-105 active:scale-95",onClick:()=>t("/teacher/stats"),children:[m.jsx(nx,{size:18,className:"mr-2"}),"Estadsticas"]})]})})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs(Or,{children:[m.jsx(Jc,{children:m.jsxs(Zc,{className:"flex items-center text-lg",children:[m.jsx(Ca,{size:20,className:"mr-2 text-green-600"}),"Mis Cursos"]})}),m.jsx(ul,{children:m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Wbe.map(i=>m.jsxs("div",{className:"p-4 border border-gray-200 rounded-xl hover:shadow-md transition-all",children:[m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i.name}),m.jsxs("p",{className:"text-sm text-gray-600",children:[i.students," estudiantes"]})]}),m.jsx(et,{variant:"ghost",size:"sm",onClick:()=>t(`/teacher/courses/${i.id}`),children:"Ver curso"})]}),m.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:["Tareas pendientes: ",i.pendingTasks]})]},i.id))})})]}),m.jsxs(Or,{children:[m.jsx(Jc,{children:m.jsxs(Zc,{className:"flex items-center text-lg",children:[m.jsx(Ta,{size:20,className:"mr-2 text-green-600"}),"Prximos Eventos"]})}),m.jsx(ul,{className:"space-y-3",children:Vbe.map(i=>m.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:i.title}),m.jsxs("p",{className:"text-sm text-gray-600",children:[i.date,"  ",i.time]})]}),m.jsx(et,{variant:"ghost",size:"sm",children:"Ver"})]},i.id))})]}),m.jsxs(Or,{children:[m.jsx(Jc,{children:m.jsxs(Zc,{className:"flex items-center text-lg",children:[m.jsx(cS,{size:20,className:"mr-2 text-green-600"}),"Revisiones pendientes"]})}),m.jsx(ul,{className:"space-y-3",children:Hbe.map(i=>m.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:i.student}),m.jsxs("p",{className:"text-sm text-gray-600",children:[i.task,"  ",i.course]})]}),m.jsx(et,{variant:"outline",size:"sm",onClick:()=>t(`/teacher/reviews/${i.id}`),children:"Revisar"})]},i.id))})]})]})]})}const Ybe=[{id:"1",name:"Matemticas Aplicadas",students:32,pendingTasks:4},{id:"2",name:"Programacin I",students:28,pendingTasks:7}];function Kbe(){const t=Qs();return m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between bg-white rounded-xl shadow-sm p-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 text-green-600 flex items-center justify-center",children:m.jsx(Ca,{className:"w-6 h-6"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cursos"}),m.jsx("p",{className:"text-gray-600",children:"Gestiona tus cursos como docente"})]})]}),m.jsxs(et,{className:"gap-2",onClick:()=>t("/teacher/courses/new"),children:[m.jsx(oS,{className:"w-4 h-4"}),"Crear curso"]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Ybe.map(e=>m.jsxs("div",{className:"p-4 bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all cursor-pointer",onClick:()=>t(`/teacher/courses/${e.id}`),children:[m.jsx("div",{className:"flex items-start justify-between mb-2",children:m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),m.jsxs("p",{className:"text-sm text-gray-600",children:[e.students," estudiantes"]})]})}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Tareas pendientes: ",e.pendingTasks]})]},e.id))})]})}const Xbe=["Informacin","Estudiantes","Tareas","Anuncios"],Jbe=[{id:1,name:"Mara Gmez",email:"maria@example.com"},{id:2,name:"Juan Prez",email:"juan@example.com"}],Zbe=[{id:1,title:"Ensayo cap. 2",dueDate:"2025-11-22",status:"Pendiente"},{id:2,title:"Quiz mdulo 3",dueDate:"2025-11-25",status:"En progreso"}],Qbe=[{id:1,title:"Recordatorio",body:"Entrega parcial el 22/11",type:"Urgente"}];function ewe(){const{id:t}=i6(),e=Qs(),[r,n]=E.useState("Informacin");return m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-start justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:m.jsx(Ca,{className:"text-green-600"})}),m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Curso #",t]}),m.jsx("p",{className:"text-sm text-gray-600",children:"Detalle del curso y sus recursos"})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs(et,{variant:"outline",onClick:()=>e(`/teacher/courses/${t}/assignments/new`),children:[m.jsx(oS,{className:"w-4 h-4 mr-2"}),"Crear Tarea"]}),m.jsxs(et,{variant:"ghost",children:[m.jsx(LV,{className:"w-4 h-4 mr-2"}),"Enviar anuncio"]})]})]}),m.jsxs(Or,{children:[m.jsx(Jc,{children:m.jsx(Zc,{className:"text-lg",children:"Secciones"})}),m.jsxs(ul,{children:[m.jsx("div",{className:"flex gap-2 mb-4 flex-wrap",children:Xbe.map(i=>m.jsx(et,{variant:r===i?"default":"outline",size:"sm",onClick:()=>n(i),className:"active:scale-95",children:i},i))}),r==="Informacin"&&m.jsxs("div",{className:"space-y-3 text-gray-700",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Profesor:"})," Nombre del profesor"]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Semestre:"})," 2025-II"]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Cdigo:"})," CUR-",t]})]}),r==="Estudiantes"&&m.jsx("div",{className:"space-y-3",children:Jbe.map(i=>m.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[m.jsx("p",{className:"font-medium text-gray-900",children:i.name}),m.jsx("p",{className:"text-sm text-gray-600",children:i.email})]},i.id))}),r==="Tareas"&&m.jsx("div",{className:"space-y-3",children:Zbe.map(i=>m.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:i.title}),m.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[m.jsx(Ta,{className:"w-4 h-4 text-green-600"})," ",i.dueDate]})]}),m.jsx(et,{variant:"ghost",size:"sm",onClick:()=>e(`/teacher/tasks/${i.id}/edit`),children:"Editar"})]},i.id))}),r==="Anuncios"&&m.jsx("div",{className:"space-y-3",children:Qbe.map(i=>m.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[m.jsx("p",{className:"font-medium text-gray-900",children:i.title}),m.jsx("p",{className:"text-sm text-gray-600",children:i.body}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-red-50 text-red-700 inline-block mt-2",children:i.type})]},i.id))})]})]})]})}const twe=[{id:1,title:"Ensayo cap. 2",course:"Programacin I",status:"En revisin",dueDate:"2025-11-22"},{id:2,title:"Quiz mdulo 3",course:"Matemticas Aplicadas",status:"Pendiente",dueDate:"2025-11-25"}];function rwe(){const t=Qs();return m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:m.jsx(lS,{className:"text-green-600"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tareas creadas"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Administra las tareas de tus cursos"})]})]}),m.jsx("div",{className:"space-y-3",children:twe.map(e=>m.jsxs("div",{className:"p-4 bg-white rounded-xl shadow-sm border border-gray-200 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.title}),m.jsxs("p",{className:"text-sm text-gray-600",children:[e.course,"  ",e.status,"  ",e.dueDate]})]}),m.jsx("div",{className:"flex gap-2",children:m.jsxs(et,{variant:"outline",size:"sm",onClick:()=>t(`/teacher/tasks/${e.id}/edit`),children:[m.jsx(xL,{className:"w-4 h-4 mr-2"}),"Editar"]})})]},e.id))})]})}const nwe=[{label:"Tareas revisadas",value:48},{label:"Promedio de entrega",value:"85%"},{label:"Cursos activos",value:5}];function iwe(){return m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:m.jsx(nx,{className:"text-green-600"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Estadsticas del profesor"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Rendimiento de cursos y tareas"})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:nwe.map(t=>m.jsxs(Or,{children:[m.jsx(Jc,{children:m.jsx(Zc,{className:"text-sm text-gray-600",children:t.label})}),m.jsx(ul,{children:m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.value})})]},t.label))})]})}function swe(){const{diagrams:t,loading:e,createDiagram:r,updateDiagram:n,deleteDiagram:i}=oO(),[s,a]=E.useState(!1),[o,l]=E.useState(null),[c,h]=E.useState(null),f=()=>{l(null),a(!0)},g=b=>{l(b),a(!0)},p=b=>{h(b)},v=async()=>{c&&((await i(c)).success?Dr.success("Diagrama eliminado correctamente"):Dr.error("Error al eliminar el diagrama"),h(null))},x=async b=>{let _;return b.id?(_=await n(b.id,b),_.success&&Dr.success("Diagrama actualizado correctamente")):(_=await r(b),_.success&&Dr.success("Diagrama creado correctamente")),_.success||Dr.error(_.error||"Ha ocurrido un error"),_};return m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:m.jsx(ix,{className:"text-green-600"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Diagramas"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Gestin de visualizaciones acadmicas"})]})]}),m.jsxs(et,{onClick:f,className:"gap-2 bg-green-600 hover:bg-green-700",children:[m.jsx(Xs,{className:"w-4 h-4"}),"Nuevo Diagrama"]})]}),e&&t.length===0?m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):t.length===0?m.jsx(Or,{className:"border-dashed",children:m.jsxs(ul,{className:"flex flex-col items-center justify-center py-12 text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mb-4",children:m.jsx(vL,{className:"w-8 h-8 text-gray-400"})}),m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"No hay diagramas todava"}),m.jsx("p",{className:"text-sm text-gray-600 max-w-sm mt-2 mb-6",children:"Crea diagramas para explicar conceptos complejos visualmente a tus estudiantes."}),m.jsxs(et,{onClick:f,variant:"outline",className:"gap-2",children:[m.jsx(Xs,{className:"w-4 h-4"}),"Crear mi primer diagrama"]})]})}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(b=>m.jsxs(Or,{className:"flex flex-col overflow-hidden hover:shadow-md transition-shadow",children:[m.jsx(Jc,{className:"pb-2",children:m.jsx(Zc,{className:"text-lg font-semibold flex justify-between items-start gap-2",children:m.jsx("span",{className:"truncate",title:b.title,children:b.title})})}),m.jsxs(ul,{className:"flex-1 min-h-[200px] bg-slate-50 p-4 flex items-center justify-center relative group",children:[m.jsx("div",{className:"w-full h-full overflow-hidden max-h-[250px]",children:m.jsx("div",{className:"transform scale-90 origin-center pointer-events-none",children:m.jsx(Fk,{code:b.code})})}),m.jsx("div",{className:"absolute inset-0 bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:m.jsx(et,{variant:"secondary",size:"sm",onClick:()=>g(b),children:"Ver detalles"})})]}),m.jsxs(ML,{className:"pt-4 border-t bg-gray-50/50 flex justify-between",children:[m.jsxs("span",{className:"text-xs text-gray-500",children:["Actualizado: ",new Date(b.updatedAt).toLocaleDateString()]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(et,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>g(b),children:m.jsx(bL,{className:"w-4 h-4"})}),m.jsx(et,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>p(b.id),children:m.jsx(sx,{className:"w-4 h-4"})})]})]})]},b.id))}),m.jsx(T9,{children:m.jsx(N9,{open:s,onOpenChange:a,initialData:o,onSave:x})}),m.jsx(g0,{open:!!c,onOpenChange:()=>h(null),children:m.jsxs(Wp,{children:[m.jsxs(Vp,{children:[m.jsx(Hp,{children:"Ests seguro?"}),m.jsx(Gp,{children:"Esta accin no se puede deshacer. El diagrama se eliminar permanentemente."})]}),m.jsxs(y0,{children:[m.jsx(et,{variant:"outline",onClick:()=>h(null),children:"Cancelar"}),m.jsx(et,{onClick:v,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})})]})}const awe=[{id:1,student:"Mara Gmez",task:"Ensayo cap. 2",course:"Programacin I"},{id:2,student:"Juan Prez",task:"Problemas tema 3",course:"Matemticas Aplicadas"}];function owe(){const t=Qs();return m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:m.jsx(cS,{className:"text-green-600"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Revisiones pendientes"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Evala las entregas de tus estudiantes"})]})]}),m.jsx("div",{className:"space-y-3",children:awe.map(e=>m.jsxs("div",{className:"p-4 bg-white rounded-xl shadow-sm border border-gray-200 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.student}),m.jsxs("p",{className:"text-sm text-gray-600",children:[e.task,"  ",e.course]})]}),m.jsx(et,{variant:"outline",size:"sm",onClick:()=>t(`/teacher/reviews/${e.id}`),children:"Revisar"})]},e.id))})]})}function lwe(){const{id:t}=i6(),e=Qs(),[r,n]=E.useState({title:"Ttulo de la tarea",description:"Descripcin de la tarea",dueDate:"2025-11-25"}),i=a=>o=>n({...r,[a]:o.target.value}),s=a=>{a.preventDefault(),e("/teacher/tasks")};return m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"flex items-center gap-3 bg-white rounded-xl shadow-sm p-6",children:[m.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:m.jsx(lS,{className:"text-green-600"})}),m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Editar tarea #",t]}),m.jsx("p",{className:"text-sm text-gray-600",children:"Actualiza la informacin de la tarea"})]})]}),m.jsxs("form",{onSubmit:s,className:"bg-white rounded-xl shadow-sm p-6 space-y-4",children:[m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs(et,{type:"button",variant:"ghost",onClick:()=>e("/teacher/tasks"),children:[m.jsx(cL,{className:"w-4 h-4 mr-2"})," Volver"]})}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ttulo"}),m.jsx(hi,{value:r.title,onChange:i("title"),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Descripcin"}),m.jsx("textarea",{value:r.description,onChange:i("description"),rows:4,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-green-500 focus:outline-none focus:ring-2 focus:ring-green-500/30 transition-all"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha lmite"}),m.jsx(hi,{type:"date",value:r.dueDate,onChange:i("dueDate")})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(et,{type:"button",variant:"outline",onClick:()=>e("/teacher/tasks"),children:"Cancelar"}),m.jsx(et,{type:"submit",className:"bg-green-600 hover:bg-green-700",children:"Guardar cambios"})]})]})]})}const cwe=[{id:1,title:"Clase magistral",date:"2025-11-24",time:"10:00 AM"},{id:2,title:"Entrega parcial",date:"2025-11-26",time:"11:59 PM"}];function uwe(){return m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:m.jsx(Ta,{className:"text-green-600"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Calendario docente"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Eventos acadmicos prximos"})]})]}),m.jsxs(Or,{children:[m.jsx(Jc,{children:m.jsx(Zc,{className:"text-lg",children:"Prximos eventos"})}),m.jsx(ul,{className:"space-y-3",children:cwe.map(t=>m.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[m.jsx("p",{className:"font-medium text-gray-900",children:t.title}),m.jsxs("p",{className:"text-sm text-gray-600",children:[t.date,"  ",t.time]})]},t.id))})]})]})}const vi=({children:t})=>{const{isAuthenticated:e,loading:r}=nc();return r?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx("div",{className:"text-xl",children:"Cargando..."})}):e?t:m.jsx(o6,{to:"/"})};function hwe(){const{fontSize:t}=n0();return m.jsx(RU,{children:m.jsxs("div",{className:`App text-primary font-${t}`,children:[m.jsx(yK,{richColors:!0,position:"top-right"}),m.jsxs(cU,{children:[m.jsx(Bn,{path:"/",element:m.jsx(AH,{})}),m.jsx(Bn,{path:"/home",element:m.jsx(vi,{children:m.jsx(yi,{children:m.jsx(eG,{})})})}),m.jsx(Bn,{path:"/courses",element:m.jsx(vi,{children:m.jsx(yi,{children:m.jsx(Vie,{})})})}),m.jsx(Bn,{path:"/courses/:id",element:m.jsx(vi,{children:m.jsx(yi,{children:m.jsx(Kie,{})})})}),m.jsx(Bn,{path:"/tasks",element:m.jsx(vi,{children:m.jsx(yi,{children:m.jsx(BK,{})})})}),m.jsx(Bn,{path:"/chatbot",element:m.jsx(vi,{children:m.jsx(yi,{children:m.jsx(xee,{})})})}),m.jsx(Bn,{path:"/notes",element:m.jsx(vi,{children:m.jsx(yi,{children:m.jsx(Cee,{})})})}),m.jsx(Bn,{path:"/profile",element:m.jsx(vi,{children:m.jsx(yi,{children:m.jsx(kee,{})})})}),m.jsx(Bn,{path:"/calendar",element:m.jsx(vi,{children:m.jsx(yi,{children:m.jsx(Tee,{})})})}),m.jsx(Bn,{path:"/groups",element:m.jsx(vi,{children:m.jsx(yi,{children:m.jsx(gie,{})})})}),m.jsx(Bn,{path:"/stats",element:m.jsx(vi,{children:m.jsx(yi,{children:m.jsx(qie,{})})})}),m.jsx(Bn,{path:"/settings",element:m.jsx(vi,{children:m.jsx(yi,{children:m.jsx(Fie,{})})})}),m.jsx(Bn,{path:"/diagrams",element:m.jsx(vi,{children:m.jsx(yi,{children:m.jsx(qbe,{})})})}),m.jsx(Bn,{path:"/teacher/home",element:m.jsx(vi,{children:m.jsx(yi,{children:m.jsx(Gbe,{})})})}),m.jsx(Bn,{path:"/teacher/courses",element:m.jsx(vi,{children:m.jsx(yi,{children:m.jsx(Kbe,{})})})}),m.jsx(Bn,{path:"/teacher/courses/:id",element:m.jsx(vi,{children:m.jsx(yi,{children:m.jsx(ewe,{})})})}),m.jsx(Bn,{path:"/teacher/tasks/:id/edit",element:m.jsx(vi,{children:m.jsx(yi,{children:m.jsx(lwe,{})})})}),m.jsx(Bn,{path:"/teacher/tasks",element:m.jsx(vi,{children:m.jsx(yi,{children:m.jsx(rwe,{})})})}),m.jsx(Bn,{path:"/teacher/reviews/:studentId",element:m.jsx(vi,{children:m.jsx(yi,{children:m.jsx(owe,{})})})}),m.jsx(Bn,{path:"/teacher/stats",element:m.jsx(vi,{children:m.jsx(yi,{children:m.jsx(iwe,{})})})}),m.jsx(Bn,{path:"/teacher/diagrams",element:m.jsx(vi,{children:m.jsx(yi,{children:m.jsx(swe,{})})})}),m.jsx(Bn,{path:"/teacher/calendar",element:m.jsx(vi,{children:m.jsx(yi,{children:m.jsx(uwe,{})})})}),m.jsx(Bn,{path:"*",element:m.jsx(o6,{to:"/home"})})]})]})})}function dwe(){return m.jsx(dV,{children:m.jsx(fV,{children:m.jsx(hwe,{})})})}typeof window<"u"&&(window.React=Xe);mz.createRoot(document.getElementById("root")).render(m.jsx(E.StrictMode,{children:m.jsx(dwe,{})}));export{EO as $,gg as A,rse as B,Cae as C,mk as D,Ls as E,bO as F,tpe as G,nue as H,YA as I,che as J,Fse as K,kp as L,qwe as M,Wx as N,iae as O,MC as P,aE as Q,Yce as R,A1 as S,epe as T,x0 as U,dae as V,v0 as W,Ct as X,Wt as Y,Hfe as Z,M as _,vae as a,aB as a$,Wce as a0,NE as a1,kE as a2,e5e as a3,Kwe as a4,Zwe as a5,Jwe as a6,Gwe as a7,Pf as a8,GC as a9,Ufe as aA,Mde as aB,Ofe as aC,ak as aD,C4 as aE,gme as aF,Vce as aG,Uwe as aH,Zv as aI,N0 as aJ,pme as aK,fme as aL,qC as aM,Zu as aN,xE as aO,Cle as aP,$g as aQ,qd as aR,qfe as aS,vB as aT,Fx as aU,qx as aV,Ov as aW,bB as aX,yB as aY,xfe as aZ,Et as a_,Qwe as aa,Ywe as ab,r5e as ac,t5e as ad,Xwe as ae,zme as af,A7 as ag,w5e as ah,hhe as ai,zi as aj,vh as ak,sk as al,eF as am,Hd as an,NB as ao,ur as ap,tc as aq,Pge as ar,b5e as as,_5e as at,v5e as au,Pt as av,x5e as aw,pge as ax,cge as ay,lge as az,yae as b,Sa as b0,yle as b1,UC as b2,qO as b3,w0 as b4,HO as b5,Hwe as b6,tse as b7,zfe as b8,Mfe as b9,T_ as bA,fwe as bB,ln as bC,Wfe as bD,Ux as bE,Vr as bF,wde as ba,ok as bb,mfe as bc,Vfe as bd,C0 as be,Xp as bf,Pv as bg,Nfe as bh,t0e as bi,S0 as bj,Mv as bk,bfe as bl,hB as bm,Cde as bn,kde as bo,nd as bp,HE as bq,Nde as br,lk as bs,Sde as bt,Ede as bu,Jp as bv,yh as bw,zE as bx,ck as by,fB as bz,en as c,Br as d,AO as e,Fi as f,bae as g,cu as h,Ao as i,yhe as j,Yp as k,Ue as l,AB as m,Wwe as n,C5e as o,wae as p,_ae as q,S5e as r,xae as s,uhe as t,cl as u,sge as v,ipe as w,n5e as x,gae as y,Vwe as z};
